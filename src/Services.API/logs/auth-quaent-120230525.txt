2023-05-25 11:14:47.079 -03:00 [DBG] Hosting starting
2023-05-25 11:14:47.937 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-05-25 11:14:48.122 -03:00 [INF] Now listening on: https://localhost:5002
2023-05-25 11:14:48.125 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-05-25 11:14:48.128 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-25 11:14:48.131 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-25 11:14:48.133 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-25 11:14:48.136 -03:00 [INF] Hosting environment: Local
2023-05-25 11:14:48.139 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-05-25 11:14:48.142 -03:00 [DBG] Hosting started
2023-05-25 11:14:48.263 -03:00 [DBG] Connection id "0HMQT59IU7DUD" accepted.
2023-05-25 11:14:48.263 -03:00 [DBG] Connection id "0HMQT59IU7DUC" accepted.
2023-05-25 11:14:48.272 -03:00 [DBG] Connection id "0HMQT59IU7DUD" started.
2023-05-25 11:14:48.313 -03:00 [DBG] Connection id "0HMQT59IU7DUD" received FIN.
2023-05-25 11:14:48.313 -03:00 [DBG] Connection id "0HMQT59IU7DUC" received FIN.
2023-05-25 11:14:48.318 -03:00 [DBG] Connection id "0HMQT59IU7DUC" started.
2023-05-25 11:14:48.370 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-25 11:14:48.370 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-25 11:14:48.562 -03:00 [DBG] Connection id "0HMQT59IU7DUD" stopped.
2023-05-25 11:14:48.563 -03:00 [DBG] Connection id "0HMQT59IU7DUC" stopped.
2023-05-25 11:14:48.574 -03:00 [DBG] Connection id "0HMQT59IU7DUD" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-25 11:14:48.574 -03:00 [DBG] Connection id "0HMQT59IU7DUC" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-25 11:14:49.862 -03:00 [DBG] Connection id "0HMQT59IU7DUE" accepted.
2023-05-25 11:14:49.902 -03:00 [DBG] Connection id "0HMQT59IU7DUE" started.
2023-05-25 11:14:50.004 -03:00 [DBG] Connection "0HMQT59IU7DUE" established using the following protocol: "Tls12"
2023-05-25 11:14:50.269 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/swagger/index.html - -
2023-05-25 11:14:50.472 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-25 11:14:50.636 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-25 11:14:50.879 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-25 11:14:50.892 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/swagger/index.html - - - 200 - text/html;charset=utf-8 624.5437ms
2023-05-25 11:14:50.893 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/_framework/aspnetcore-browser-refresh.js - -
2023-05-25 11:14:50.893 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/_vs/browserLink - -
2023-05-25 11:14:50.911 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 18.5434ms
2023-05-25 11:14:50.977 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 84.9707ms
2023-05-25 11:14:51.080 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/swagger/v1/swagger.json - -
2023-05-25 11:14:51.236 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 156.6980ms
2023-05-25 13:38:39.989 -03:00 [DBG] Hosting starting
2023-05-25 13:38:40.729 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-05-25 13:38:40.856 -03:00 [INF] Now listening on: https://localhost:5002
2023-05-25 13:38:40.859 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-05-25 13:38:40.862 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-25 13:38:40.866 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-25 13:38:40.869 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-25 13:38:40.871 -03:00 [INF] Hosting environment: Local
2023-05-25 13:38:40.873 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-05-25 13:38:40.877 -03:00 [DBG] Hosting started
2023-05-25 13:38:41.107 -03:00 [DBG] Connection id "0HMQT7PVNFKIS" accepted.
2023-05-25 13:38:41.122 -03:00 [DBG] Connection id "0HMQT7PVNFKIS" started.
2023-05-25 13:38:41.121 -03:00 [DBG] Connection id "0HMQT7PVNFKIT" received FIN.
2023-05-25 13:38:41.123 -03:00 [DBG] Connection id "0HMQT7PVNFKIS" received FIN.
2023-05-25 13:38:41.130 -03:00 [DBG] Connection id "0HMQT7PVNFKIT" accepted.
2023-05-25 13:38:41.138 -03:00 [DBG] Connection id "0HMQT7PVNFKIT" started.
2023-05-25 13:38:41.176 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-25 13:38:41.177 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-25 13:38:41.336 -03:00 [DBG] Connection id "0HMQT7PVNFKIS" stopped.
2023-05-25 13:38:41.336 -03:00 [DBG] Connection id "0HMQT7PVNFKIT" stopped.
2023-05-25 13:38:41.344 -03:00 [DBG] Connection id "0HMQT7PVNFKIT" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-25 13:38:41.344 -03:00 [DBG] Connection id "0HMQT7PVNFKIS" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-25 13:38:42.513 -03:00 [DBG] Connection id "0HMQT7PVNFKIU" accepted.
2023-05-25 13:38:42.564 -03:00 [DBG] Connection id "0HMQT7PVNFKIU" started.
2023-05-25 13:38:42.740 -03:00 [DBG] Connection "0HMQT7PVNFKIU" established using the following protocol: "Tls12"
2023-05-25 13:38:42.851 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/swagger/index.html - -
2023-05-25 13:38:42.894 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-25 13:38:42.996 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-25 13:38:43.166 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-25 13:38:43.178 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/swagger/index.html - - - 200 - text/html;charset=utf-8 335.7268ms
2023-05-25 13:38:43.198 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/_framework/aspnetcore-browser-refresh.js - -
2023-05-25 13:38:43.198 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/_vs/browserLink - -
2023-05-25 13:38:43.228 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 29.6886ms
2023-05-25 13:38:43.308 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 109.9425ms
2023-05-25 13:38:43.492 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/swagger/v1/swagger.json - -
2023-05-25 13:38:43.636 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 144.5434ms
2023-05-25 13:38:50.005 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/api/v1/user/user - -
2023-05-25 13:38:50.014 -03:00 [DBG] The request path  does not match the path filter
2023-05-25 13:38:50.072 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/user/user'
2023-05-25 13:38:50.080 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UserController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/user/User' is valid for the request path '/api/v1/user/user'
2023-05-25 13:38:50.086 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UserController.GetAll (Concent.Athena.Services.API)'
2023-05-25 13:38:50.098 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UserController.GetAll (Concent.Athena.Services.API)'
2023-05-25 13:38:50.112 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-25 13:38:50.186 -03:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UserController (Concent.Athena.Services.API).
2023-05-25 13:38:50.193 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-25 13:38:50.197 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-25 13:38:50.200 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-25 13:38:50.208 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-25 13:38:50.211 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-25 13:38:50.215 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UserController (Concent.Athena.Services.API)
2023-05-25 13:38:50.221 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UserController (Concent.Athena.Services.API)
2023-05-25 13:38:50.246 -03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'System.String' ...
2023-05-25 13:38:50.253 -03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'System.String' using the name '' in request data ...
2023-05-25 13:38:50.259 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'userLogin' of type 'System.String'.
2023-05-25 13:38:50.263 -03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'System.String'.
2023-05-25 13:38:50.266 -03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'System.String'.
2023-05-25 13:38:50.272 -03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'System.String' ...
2023-05-25 13:38:50.277 -03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'System.String'.
2023-05-25 13:38:50.281 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-05-25 13:38:50.285 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-05-25 13:38:50.290 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-05-25 13:38:50.294 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-05-25 13:38:50.643 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-25 13:38:51.329 -03:00 [DBG] The property 'TenantId1.Person' was created in shadow state because there are no eligible CLR members with a matching name.
2023-05-25 13:38:51.491 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-05-25 13:38:51.526 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-05-25 13:38:51.886 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-05-25 13:38:52.109 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-25 13:38:52.117 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-05-25 13:38:52.123 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:38:52.146 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:38:52.160 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-05-25 13:38:52.335 -03:00 [INF] Executed DbCommand (177ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-05-25 13:38:52.346 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:38:52.351 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:38:52.429 -03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
    )
    .Select(x => new { 
        Id = x.Id, 
        UserLogin = x.UserLogin, 
        UserPassword = x.UserPassword, 
        PersonId = x.PersonId
     })'
2023-05-25 13:38:52.626 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType3<Guid, string, string, Guid>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            UserLogin -> 1
            UserPassword -> 2
            PersonId -> 3
        SELECT t.ID AS Id, t.DS_USER_LOGIN AS UserLogin, t.DS_USER_PASSWORD AS UserPassword, t.ID_PERSON AS PersonId
        FROM TB_USER AS t
        WHERE TRUE && t.IE_ISACTIVE), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType3<Guid, string, string, Guid>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-05-25 13:38:52.658 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:38:52.660 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-25 13:38:52.663 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:38:52.668 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:38:52.674 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_USER_LOGIN` AS `UserLogin`, `t`.`DS_USER_PASSWORD` AS `UserPassword`, `t`.`ID_PERSON` AS `PersonId`
FROM `TB_USER` AS `t`
WHERE `t`.`IE_ISACTIVE`
2023-05-25 13:38:52.692 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_USER_LOGIN` AS `UserLogin`, `t`.`DS_USER_PASSWORD` AS `UserPassword`, `t`.`ID_PERSON` AS `PersonId`
FROM `TB_USER` AS `t`
WHERE `t`.`IE_ISACTIVE`
2023-05-25 13:38:52.701 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:38:52.705 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:38:52.708 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:38:52.733 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-25 13:38:52.742 -03:00 [DBG] No information found on request to perform content negotiation.
2023-05-25 13:38:52.744 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-25 13:38:52.747 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-25 13:38:52.749 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-25 13:38:52.753 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.User.GetUserResponse'.
2023-05-25 13:38:52.778 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UserController.GetAll (Concent.Athena.Services.API) in 2559.5751ms
2023-05-25 13:38:52.781 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UserController.GetAll (Concent.Athena.Services.API)'
2023-05-25 13:38:52.787 -03:00 [DBG] 'AthenaContext' disposed.
2023-05-25 13:38:52.795 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/api/v1/user/user - - - 200 - application/json;+charset=utf-8 2790.2737ms
2023-05-25 13:39:00.264 -03:00 [DBG] Connection id "0HMQT7PVNFKIU" received FIN.
2023-05-25 13:39:00.268 -03:00 [DBG] Connection id "0HMQT7PVNFKIU" is closed. The last processed stream ID was 9.
2023-05-25 13:39:00.275 -03:00 [DBG] Connection id "0HMQT7PVNFKIU" sending FIN because: "The client closed the connection."
2023-05-25 13:39:00.292 -03:00 [DBG] Connection id "0HMQT7PVNFKIU" stopped.
2023-05-25 13:39:07.433 -03:00 [DBG] Connection id "0HMQT7PVNFKIV" accepted.
2023-05-25 13:39:07.437 -03:00 [DBG] Connection id "0HMQT7PVNFKIV" started.
2023-05-25 13:39:07.451 -03:00 [DBG] Connection "0HMQT7PVNFKIV" established using the following protocol: "Tls12"
2023-05-25 13:39:07.456 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5002/api/v1/user/user?userId=08db5c76-9c03-435a-840d-5c275260c41b&personId=08db5c76-9b93-4a3a-86db-4f5b3ec54e7f - -
2023-05-25 13:39:07.459 -03:00 [DBG] DELETE requests are not supported
2023-05-25 13:39:07.467 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/user/user'
2023-05-25 13:39:07.471 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UserController.Delete (Concent.Athena.Services.API)' with route pattern 'api/v1/user/User' is valid for the request path '/api/v1/user/user'
2023-05-25 13:39:07.479 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UserController.Delete (Concent.Athena.Services.API)'
2023-05-25 13:39:07.484 -03:00 [DBG] The request has an origin header: 'https://localhost:5002'.
2023-05-25 13:39:07.488 -03:00 [INF] CORS policy execution successful.
2023-05-25 13:39:07.492 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UserController.Delete (Concent.Athena.Services.API)'
2023-05-25 13:39:07.500 -03:00 [INF] Route matched with {action = "Delete", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UserController (Concent.Athena.Services.API).
2023-05-25 13:39:07.505 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-25 13:39:07.508 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-25 13:39:07.513 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-25 13:39:07.517 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-25 13:39:07.521 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-25 13:39:07.525 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UserController (Concent.Athena.Services.API)
2023-05-25 13:39:07.530 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UserController (Concent.Athena.Services.API)
2023-05-25 13:39:07.537 -03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' ...
2023-05-25 13:39:07.544 -03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' using the name 'userId' in request data ...
2023-05-25 13:39:07.548 -03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2023-05-25 13:39:07.552 -03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2023-05-25 13:39:07.554 -03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Guid' ...
2023-05-25 13:39:07.558 -03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Guid'.
2023-05-25 13:39:07.562 -03:00 [DBG] Attempting to bind parameter 'personId' of type 'System.Guid' ...
2023-05-25 13:39:07.565 -03:00 [DBG] Attempting to bind parameter 'personId' of type 'System.Guid' using the name 'personId' in request data ...
2023-05-25 13:39:07.569 -03:00 [DBG] Done attempting to bind parameter 'personId' of type 'System.Guid'.
2023-05-25 13:39:07.572 -03:00 [DBG] Done attempting to bind parameter 'personId' of type 'System.Guid'.
2023-05-25 13:39:07.574 -03:00 [DBG] Attempting to validate the bound parameter 'personId' of type 'System.Guid' ...
2023-05-25 13:39:07.579 -03:00 [DBG] Done attempting to validate the bound parameter 'personId' of type 'System.Guid'.
2023-05-25 13:39:07.582 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-05-25 13:39:07.585 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-05-25 13:39:07.588 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-05-25 13:39:07.591 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-05-25 13:39:07.599 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-05-25 13:39:07.604 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-05-25 13:39:07.613 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-05-25 13:39:07.617 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-25 13:39:07.619 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-25 13:39:07.622 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:07.625 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:07.630 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-05-25 13:39:07.636 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-05-25 13:39:07.640 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:07.645 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:07.857 -03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(x => x.Id == __GetId_0)'
2023-05-25 13:39:07.909 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.IsActive (bool) Required, 2], [Property: User.IsActived (bool) Required, 3], [Property: User.PersonId (Guid) Required FK Index, 4], [Property: User.Salt (string), 5], [Property: User.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], [Property: User.UserLogin (string) Required, 7], [Property: User.UserPassword (string), 8], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.IE_ISACTIVE, t.IE_ISLOGED, t.ID_PERSON, t.DS_SALT, t.UPDATED_AT, t.DS_USER_LOGIN, t.DS_USER_PASSWORD
            FROM TB_USER AS t
            WHERE t.ID == @__GetId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-25 13:39:07.938 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:39:07.942 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-25 13:39:07.969 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:07.985 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:07.991 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`IE_ISACTIVE`, `t`.`IE_ISLOGED`, `t`.`ID_PERSON`, `t`.`DS_SALT`, `t`.`UPDATED_AT`, `t`.`DS_USER_LOGIN`, `t`.`DS_USER_PASSWORD`
FROM `TB_USER` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-05-25 13:39:08.025 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`IE_ISACTIVE`, `t`.`IE_ISLOGED`, `t`.`ID_PERSON`, `t`.`DS_SALT`, `t`.`UPDATED_AT`, `t`.`DS_USER_LOGIN`, `t`.`DS_USER_PASSWORD`
FROM `TB_USER` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-05-25 13:39:08.069 -03:00 [DBG] Context 'AthenaContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:39:08.124 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:39:08.129 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.134 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.139 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.Id == __request_PersonId_0)'
2023-05-25 13:39:08.151 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_PERSON AS t
                WHERE t.ID == @__request_PersonId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-25 13:39:08.168 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:39:08.171 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-25 13:39:08.174 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.188 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.196 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-05-25 13:39:08.211 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-05-25 13:39:08.221 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:39:08.223 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.225 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.232 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .SingleOrDefault(x => x.Id == __request_PersonId_0)'
2023-05-25 13:39:08.239 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Person>(
    asyncEnumerable: new SingleQueryingEnumerable<Person>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Person.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Person.BirthDate (DateTime) Required, 1], [Property: Person.CPF (string), 2], [Property: Person.CreatedAt (DateTime) Required, 3], [Property: Person.IsActive (bool) Required, 4], [Property: Person.PersonName (string), 5], [Property: Person.TenantId (Guid) Required, 6], [Property: Person.TenantId1 (no field, Nullable<Guid>) Shadow FK Index, 7], [Property: Person.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Person.UserLogin (string), 9], [Property: Person.UserPassword (string), 10], }
            SELECT TOP(2) t.ID, t.DT_BIRTH_DATE, t.DS_CPF, t.CREATED_AT, t.ST_ACTIVE, t.DS_PERSON_NAME, t.TenantId, t.TenantId1, t.UPDATED_AT, t.DS_LOGIN, t.UserPassword
            FROM TB_PERSON AS t
            WHERE t.ID == @__request_PersonId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Person>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-25 13:39:08.251 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:39:08.254 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-25 13:39:08.257 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.267 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.270 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`DT_BIRTH_DATE`, `t`.`DS_CPF`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`DS_PERSON_NAME`, `t`.`TenantId`, `t`.`TenantId1`, `t`.`UPDATED_AT`, `t`.`DS_LOGIN`, `t`.`UserPassword`
FROM `TB_PERSON` AS `t`
WHERE `t`.`ID` = @__request_PersonId_0
LIMIT 2
2023-05-25 13:39:08.277 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`DT_BIRTH_DATE`, `t`.`DS_CPF`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`DS_PERSON_NAME`, `t`.`TenantId`, `t`.`TenantId1`, `t`.`UPDATED_AT`, `t`.`DS_LOGIN`, `t`.`UserPassword`
FROM `TB_PERSON` AS `t`
WHERE `t`.`ID` = @__request_PersonId_0
LIMIT 2
2023-05-25 13:39:08.290 -03:00 [DBG] Context 'AthenaContext' started tracking 'Person' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:39:08.332 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:39:08.336 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.340 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.349 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-05-25 13:39:08.362 -03:00 [DBG] The unchanged property 'User.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-25 13:39:08.372 -03:00 [DBG] An entity of type 'User' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:39:08.386 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-05-25 13:39:08.389 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-05-25 13:39:08.396 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-05-25 13:39:08.403 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-05-25 13:39:08.406 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-05-25 13:39:08.409 -03:00 [DBG] The unchanged property 'User.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-25 13:39:08.413 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-05-25 13:39:08.432 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.437 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.442 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-25 13:39:08.459 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-05-25 13:39:08.506 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:39:08.508 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-25 13:39:08.513 -03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_USER` SET `IE_ISACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_USER`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-05-25 13:39:08.533 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_USER` SET `IE_ISACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_USER`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-05-25 13:39:08.557 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:39:08.564 -03:00 [DBG] Committing transaction.
2023-05-25 13:39:08.579 -03:00 [DBG] Committed transaction.
2023-05-25 13:39:08.583 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.586 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:39:08.591 -03:00 [DBG] Disposing transaction.
2023-05-25 13:39:08.602 -03:00 [DBG] An entity of type 'User' tracked by 'AthenaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:39:08.609 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-05-25 13:39:08.633 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-25 13:39:08.639 -03:00 [DBG] No information found on request to perform content negotiation.
2023-05-25 13:39:08.641 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-25 13:39:08.643 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-25 13:39:08.647 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-25 13:39:08.650 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.User.DeleteUserResponse'.
2023-05-25 13:39:08.657 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UserController.Delete (Concent.Athena.Services.API) in 1132.6169ms
2023-05-25 13:39:08.664 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UserController.Delete (Concent.Athena.Services.API)'
2023-05-25 13:39:08.669 -03:00 [DBG] 'AthenaContext' disposed.
2023-05-25 13:39:08.672 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5002/api/v1/user/user?userId=08db5c76-9c03-435a-840d-5c275260c41b&personId=08db5c76-9b93-4a3a-86db-4f5b3ec54e7f - - - 200 - application/json;+charset=utf-8 1216.3106ms
2023-05-25 13:39:10.269 -03:00 [DBG] Connection id "0HMQT7PVNFKIV" received FIN.
2023-05-25 13:39:10.273 -03:00 [DBG] Connection id "0HMQT7PVNFKIV" is closed. The last processed stream ID was 1.
2023-05-25 13:39:10.276 -03:00 [DBG] Connection id "0HMQT7PVNFKIV" sending FIN because: "The client closed the connection."
2023-05-25 13:39:10.283 -03:00 [DBG] Connection id "0HMQT7PVNFKIV" stopped.
2023-05-25 13:40:48.160 -03:00 [DBG] Hosting starting
2023-05-25 13:40:48.746 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-05-25 13:40:48.845 -03:00 [INF] Now listening on: https://localhost:5002
2023-05-25 13:40:48.848 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-05-25 13:40:48.854 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-05-25 13:40:48.865 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-05-25 13:40:48.868 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-05-25 13:40:48.870 -03:00 [INF] Hosting environment: Local
2023-05-25 13:40:48.871 -03:00 [DBG] Connection id "0HMQT7R5Q066M" received FIN.
2023-05-25 13:40:48.874 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-05-25 13:40:48.880 -03:00 [DBG] Hosting started
2023-05-25 13:40:48.895 -03:00 [DBG] Connection id "0HMQT7R5Q066M" accepted.
2023-05-25 13:40:48.899 -03:00 [DBG] Connection id "0HMQT7R5Q066M" started.
2023-05-25 13:40:48.943 -03:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2023-05-25 13:40:49.044 -03:00 [DBG] Connection id "0HMQT7R5Q066M" stopped.
2023-05-25 13:40:49.063 -03:00 [DBG] Connection id "0HMQT7R5Q066M" sending FIN because: "The Socket transport's send loop completed gracefully."
2023-05-25 13:40:49.416 -03:00 [DBG] Connection id "0HMQT7R5Q066N" accepted.
2023-05-25 13:40:49.516 -03:00 [DBG] Connection id "0HMQT7R5Q066N" started.
2023-05-25 13:40:49.866 -03:00 [DBG] Connection "0HMQT7R5Q066N" established using the following protocol: "Tls12"
2023-05-25 13:40:49.969 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/swagger/index.html - -
2023-05-25 13:40:50.016 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-05-25 13:40:50.145 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-05-25 13:40:50.278 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-05-25 13:40:50.338 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/_framework/aspnetcore-browser-refresh.js - -
2023-05-25 13:40:50.339 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/_vs/browserLink - -
2023-05-25 13:40:50.345 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/swagger/index.html - - - 200 - text/html;charset=utf-8 371.8842ms
2023-05-25 13:40:50.365 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 26.8250ms
2023-05-25 13:40:50.435 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 96.2646ms
2023-05-25 13:40:50.449 -03:00 [DBG] Connection id "0HMQT7R5Q066N" received FIN.
2023-05-25 13:40:50.464 -03:00 [DBG] Connection id "0HMQT7R5Q066N" is closed. The last processed stream ID was 5.
2023-05-25 13:40:50.468 -03:00 [DBG] Connection id "0HMQT7R5Q066N" sending FIN because: "The client closed the connection."
2023-05-25 13:40:50.485 -03:00 [DBG] Connection id "0HMQT7R5Q066N" stopped.
2023-05-25 13:40:50.797 -03:00 [DBG] Connection id "0HMQT7R5Q066O" accepted.
2023-05-25 13:40:50.804 -03:00 [DBG] Connection id "0HMQT7R5Q066O" started.
2023-05-25 13:40:50.814 -03:00 [DBG] Connection "0HMQT7R5Q066O" established using the following protocol: "Tls12"
2023-05-25 13:40:50.820 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/swagger/v1/swagger.json - -
2023-05-25 13:40:51.046 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 226.7400ms
2023-05-25 13:41:00.471 -03:00 [DBG] Connection id "0HMQT7R5Q066O" received FIN.
2023-05-25 13:41:00.476 -03:00 [DBG] Connection id "0HMQT7R5Q066O" is closed. The last processed stream ID was 1.
2023-05-25 13:41:00.479 -03:00 [DBG] Connection id "0HMQT7R5Q066O" sending FIN because: "The client closed the connection."
2023-05-25 13:41:00.487 -03:00 [DBG] Connection id "0HMQT7R5Q066O" stopped.
2023-05-25 13:41:14.769 -03:00 [DBG] Connection id "0HMQT7R5Q066P" accepted.
2023-05-25 13:41:14.772 -03:00 [DBG] Connection id "0HMQT7R5Q066P" started.
2023-05-25 13:41:14.782 -03:00 [DBG] Connection "0HMQT7R5Q066P" established using the following protocol: "Tls12"
2023-05-25 13:41:14.792 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5002/api/v1/person/person application/json 201
2023-05-25 13:41:14.797 -03:00 [DBG] POST requests are not supported
2023-05-25 13:41:14.842 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/person/person'
2023-05-25 13:41:14.850 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/Person/Person' is valid for the request path '/api/v1/person/person'
2023-05-25 13:41:14.857 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)'
2023-05-25 13:41:14.867 -03:00 [DBG] The request has an origin header: 'https://localhost:5002'.
2023-05-25 13:41:14.873 -03:00 [INF] CORS policy execution successful.
2023-05-25 13:41:14.877 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)'
2023-05-25 13:41:14.892 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-05-25 13:41:14.958 -03:00 [INF] Route matched with {action = "Create", controller = "Person"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API).
2023-05-25 13:41:14.965 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-25 13:41:14.970 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-25 13:41:14.974 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-25 13:41:14.978 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-25 13:41:14.981 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-25 13:41:14.987 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-05-25 13:41:14.995 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-05-25 13:41:15.018 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest' ...
2023-05-25 13:41:15.026 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest' using the name '' in request data ...
2023-05-25 13:41:15.031 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-05-25 13:41:15.043 -03:00 [DBG] Connection id "0HMQT7R5Q066P", Request id "0HMQT7R5Q066P:00000001": started reading request body.
2023-05-25 13:41:15.046 -03:00 [DBG] Connection id "0HMQT7R5Q066P", Request id "0HMQT7R5Q066P:00000001": done reading request body.
2023-05-25 13:41:15.055 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'
2023-05-25 13:41:15.058 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'.
2023-05-25 13:41:15.061 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'.
2023-05-25 13:41:15.064 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest' ...
2023-05-25 13:41:15.073 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'.
2023-05-25 13:41:15.077 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-05-25 13:41:15.080 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-05-25 13:41:15.083 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-05-25 13:41:15.089 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-05-25 13:41:15.328 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-05-25 13:41:16.002 -03:00 [DBG] The property 'TenantId1.Person' was created in shadow state because there are no eligible CLR members with a matching name.
2023-05-25 13:41:16.141 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-05-25 13:41:16.163 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-05-25 13:41:16.283 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-05-25 13:41:16.388 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-25 13:41:16.393 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-05-25 13:41:16.397 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:16.412 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:16.424 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-05-25 13:41:16.463 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-05-25 13:41:16.472 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:16.479 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:16.741 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.CPF == __request_CPF_0)'
2023-05-25 13:41:16.887 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_PERSON AS t
                WHERE t.DS_CPF == @__request_CPF_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-25 13:41:16.939 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:41:16.942 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-25 13:41:16.974 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:16.989 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:16.996 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_CPF_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`DS_CPF` = @__request_CPF_0)
2023-05-25 13:41:17.039 -03:00 [INF] Executed DbCommand (45ms) [Parameters=[@__request_CPF_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`DS_CPF` = @__request_CPF_0)
2023-05-25 13:41:17.051 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:41:17.056 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.059 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.131 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Person'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:41:17.214 -03:00 [DBG] Context 'AthenaContext' started tracking 'Person' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:41:17.221 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-05-25 13:41:17.236 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-05-25 13:41:17.240 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-05-25 13:41:17.242 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-05-25 13:41:17.249 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-05-25 13:41:17.254 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-05-25 13:41:17.256 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-05-25 13:41:17.275 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.290 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.297 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-25 13:41:17.322 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-05-25 13:41:17.381 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:41:17.387 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-05-25 13:41:17.392 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (Size = 400), @p9='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_PERSON` (`ID`, `DT_BIRTH_DATE`, `DS_CPF`, `CREATED_AT`, `ST_ACTIVE`, `DS_PERSON_NAME`, `TenantId`, `TenantId1`, `DS_LOGIN`, `UserPassword`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `UPDATED_AT`
FROM `TB_PERSON`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-05-25 13:41:17.409 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (DbType = Guid), @p7='?' (DbType = Guid), @p8='?' (Size = 400), @p9='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_PERSON` (`ID`, `DT_BIRTH_DATE`, `DS_CPF`, `CREATED_AT`, `ST_ACTIVE`, `DS_PERSON_NAME`, `TenantId`, `TenantId1`, `DS_LOGIN`, `UserPassword`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT `UPDATED_AT`
FROM `TB_PERSON`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-05-25 13:41:17.438 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:41:17.443 -03:00 [DBG] Committing transaction.
2023-05-25 13:41:17.450 -03:00 [DBG] Committed transaction.
2023-05-25 13:41:17.456 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.459 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.464 -03:00 [DBG] Disposing transaction.
2023-05-25 13:41:17.477 -03:00 [DBG] An entity of type 'Person' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:41:17.484 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-05-25 13:41:17.499 -03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(x => x.UserLogin.ToUpper().Trim() == __Trim_0)'
2023-05-25 13:41:17.546 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_USER AS t
                WHERE TRIM([SqlExpressions.SqlFunctionExpression]) == @__Trim_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-25 13:41:17.556 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:41:17.559 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-25 13:41:17.562 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.567 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.572 -03:00 [DBG] Executing DbCommand [Parameters=[@__Trim_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_USER` AS `t`
    WHERE TRIM(UPPER(`t`.`DS_USER_LOGIN`)) = @__Trim_0)
2023-05-25 13:41:17.580 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__Trim_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_USER` AS `t`
    WHERE TRIM(UPPER(`t`.`DS_USER_LOGIN`)) = @__Trim_0)
2023-05-25 13:41:17.587 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:41:17.590 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.593 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.806 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:41:17.841 -03:00 [DBG] Context 'AthenaContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:41:17.847 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-05-25 13:41:17.858 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-05-25 13:41:17.861 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-05-25 13:41:17.864 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-05-25 13:41:17.867 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-05-25 13:41:17.871 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-05-25 13:41:17.874 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-05-25 13:41:17.877 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.881 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.884 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-25 13:41:17.891 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-05-25 13:41:17.895 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:41:17.897 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-25 13:41:17.900 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_USER` (`ID`, `CREATED_AT`, `IE_ISACTIVE`, `IE_ISLOGED`, `ID_PERSON`, `DS_SALT`, `DS_USER_LOGIN`, `DS_USER_PASSWORD`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_USER`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-05-25 13:41:17.909 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_USER` (`ID`, `CREATED_AT`, `IE_ISACTIVE`, `IE_ISLOGED`, `ID_PERSON`, `DS_SALT`, `DS_USER_LOGIN`, `DS_USER_PASSWORD`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_USER`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-05-25 13:41:17.920 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:41:17.923 -03:00 [DBG] Committing transaction.
2023-05-25 13:41:17.927 -03:00 [DBG] Committed transaction.
2023-05-25 13:41:17.929 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.933 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:17.937 -03:00 [DBG] Disposing transaction.
2023-05-25 13:41:17.940 -03:00 [DBG] An entity of type 'User' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:41:17.944 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-05-25 13:41:17.963 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-25 13:41:17.973 -03:00 [DBG] No information found on request to perform content negotiation.
2023-05-25 13:41:17.977 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-25 13:41:17.980 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-25 13:41:17.983 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-25 13:41:17.989 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.Person.CreatePersonResponse'.
2023-05-25 13:41:18.015 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API) in 3024.3826ms
2023-05-25 13:41:18.023 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)'
2023-05-25 13:41:18.034 -03:00 [DBG] 'AthenaContext' disposed.
2023-05-25 13:41:18.041 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5002/api/v1/person/person application/json 201 - 201 - application/json;+charset=utf-8 3249.3870ms
2023-05-25 13:41:20.506 -03:00 [DBG] Connection id "0HMQT7R5Q066P" received FIN.
2023-05-25 13:41:20.510 -03:00 [DBG] Connection id "0HMQT7R5Q066P" is closed. The last processed stream ID was 1.
2023-05-25 13:41:20.513 -03:00 [DBG] Connection id "0HMQT7R5Q066P" sending FIN because: "The client closed the connection."
2023-05-25 13:41:20.526 -03:00 [DBG] Connection id "0HMQT7R5Q066P" stopped.
2023-05-25 13:41:23.843 -03:00 [DBG] Connection id "0HMQT7R5Q066Q" accepted.
2023-05-25 13:41:23.847 -03:00 [DBG] Connection id "0HMQT7R5Q066Q" started.
2023-05-25 13:41:23.854 -03:00 [DBG] Connection "0HMQT7R5Q066Q" established using the following protocol: "Tls12"
2023-05-25 13:41:23.860 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/api/v1/user/user - -
2023-05-25 13:41:23.864 -03:00 [DBG] The request path  does not match the path filter
2023-05-25 13:41:23.871 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/user/user'
2023-05-25 13:41:23.876 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UserController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/user/User' is valid for the request path '/api/v1/user/user'
2023-05-25 13:41:23.881 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UserController.GetAll (Concent.Athena.Services.API)'
2023-05-25 13:41:23.883 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UserController.GetAll (Concent.Athena.Services.API)'
2023-05-25 13:41:23.891 -03:00 [INF] Route matched with {action = "GetAll", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UserController (Concent.Athena.Services.API).
2023-05-25 13:41:23.897 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-25 13:41:23.900 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-25 13:41:23.903 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-25 13:41:23.910 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-25 13:41:23.914 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-25 13:41:23.917 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UserController (Concent.Athena.Services.API)
2023-05-25 13:41:23.920 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UserController (Concent.Athena.Services.API)
2023-05-25 13:41:23.925 -03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'System.String' ...
2023-05-25 13:41:23.929 -03:00 [DBG] Attempting to bind parameter 'userLogin' of type 'System.String' using the name '' in request data ...
2023-05-25 13:41:23.933 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'userLogin' of type 'System.String'.
2023-05-25 13:41:23.938 -03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'System.String'.
2023-05-25 13:41:23.942 -03:00 [DBG] Done attempting to bind parameter 'userLogin' of type 'System.String'.
2023-05-25 13:41:23.945 -03:00 [DBG] Attempting to validate the bound parameter 'userLogin' of type 'System.String' ...
2023-05-25 13:41:23.948 -03:00 [DBG] Done attempting to validate the bound parameter 'userLogin' of type 'System.String'.
2023-05-25 13:41:23.951 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-05-25 13:41:23.954 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-05-25 13:41:23.958 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-05-25 13:41:23.961 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-05-25 13:41:23.967 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-05-25 13:41:23.973 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-05-25 13:41:23.979 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-05-25 13:41:23.983 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-25 13:41:23.985 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-25 13:41:23.989 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:23.993 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:23.996 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-05-25 13:41:24.003 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-05-25 13:41:24.009 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:24.012 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:24.028 -03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
    )
    .Select(x => new { 
        Id = x.Id, 
        UserLogin = x.UserLogin, 
        UserPassword = x.UserPassword, 
        PersonId = x.PersonId
     })'
2023-05-25 13:41:24.048 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType3<Guid, string, string, Guid>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            UserLogin -> 1
            UserPassword -> 2
            PersonId -> 3
        SELECT t.ID AS Id, t.DS_USER_LOGIN AS UserLogin, t.DS_USER_PASSWORD AS UserPassword, t.ID_PERSON AS PersonId
        FROM TB_USER AS t
        WHERE TRUE && t.IE_ISACTIVE), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType3<Guid, string, string, Guid>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-05-25 13:41:24.058 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:41:24.060 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-25 13:41:24.063 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:24.067 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:24.071 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_USER_LOGIN` AS `UserLogin`, `t`.`DS_USER_PASSWORD` AS `UserPassword`, `t`.`ID_PERSON` AS `PersonId`
FROM `TB_USER` AS `t`
WHERE `t`.`IE_ISACTIVE`
2023-05-25 13:41:24.079 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_USER_LOGIN` AS `UserLogin`, `t`.`DS_USER_PASSWORD` AS `UserPassword`, `t`.`ID_PERSON` AS `PersonId`
FROM `TB_USER` AS `t`
WHERE `t`.`IE_ISACTIVE`
2023-05-25 13:41:24.086 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:41:24.088 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:24.093 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:24.112 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-25 13:41:24.117 -03:00 [DBG] No information found on request to perform content negotiation.
2023-05-25 13:41:24.119 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-25 13:41:24.122 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-25 13:41:24.125 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-25 13:41:24.129 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.User.GetUserResponse'.
2023-05-25 13:41:24.137 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UserController.GetAll (Concent.Athena.Services.API) in 219.8157ms
2023-05-25 13:41:24.141 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UserController.GetAll (Concent.Athena.Services.API)'
2023-05-25 13:41:24.145 -03:00 [DBG] 'AthenaContext' disposed.
2023-05-25 13:41:24.148 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/api/v1/user/user - - - 200 - application/json;+charset=utf-8 287.9208ms
2023-05-25 13:41:30.517 -03:00 [DBG] Connection id "0HMQT7R5Q066Q" received FIN.
2023-05-25 13:41:30.521 -03:00 [DBG] Connection id "0HMQT7R5Q066Q" is closed. The last processed stream ID was 1.
2023-05-25 13:41:30.524 -03:00 [DBG] Connection id "0HMQT7R5Q066Q" sending FIN because: "The client closed the connection."
2023-05-25 13:41:30.528 -03:00 [DBG] Connection id "0HMQT7R5Q066Q" stopped.
2023-05-25 13:41:36.833 -03:00 [DBG] Connection id "0HMQT7R5Q066R" accepted.
2023-05-25 13:41:36.838 -03:00 [DBG] Connection id "0HMQT7R5Q066R" started.
2023-05-25 13:41:36.844 -03:00 [DBG] Connection "0HMQT7R5Q066R" established using the following protocol: "Tls12"
2023-05-25 13:41:36.851 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5002/api/v1/user/user?userId=08db5d3e-dcdf-4be7-8116-aa8dc14cf42b&personId=08db5d3e-dc78-429c-891a-898e7c4d7da4 - -
2023-05-25 13:41:36.855 -03:00 [DBG] DELETE requests are not supported
2023-05-25 13:41:36.857 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/user/user'
2023-05-25 13:41:36.859 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UserController.Delete (Concent.Athena.Services.API)' with route pattern 'api/v1/user/User' is valid for the request path '/api/v1/user/user'
2023-05-25 13:41:36.865 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UserController.Delete (Concent.Athena.Services.API)'
2023-05-25 13:41:36.870 -03:00 [DBG] The request has an origin header: 'https://localhost:5002'.
2023-05-25 13:41:36.872 -03:00 [INF] CORS policy execution successful.
2023-05-25 13:41:36.874 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UserController.Delete (Concent.Athena.Services.API)'
2023-05-25 13:41:36.881 -03:00 [INF] Route matched with {action = "Delete", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid, System.Guid, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UserController (Concent.Athena.Services.API).
2023-05-25 13:41:36.887 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-25 13:41:36.890 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-25 13:41:36.893 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-25 13:41:36.898 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-25 13:41:36.901 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-25 13:41:36.905 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UserController (Concent.Athena.Services.API)
2023-05-25 13:41:36.908 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UserController (Concent.Athena.Services.API)
2023-05-25 13:41:36.912 -03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' ...
2023-05-25 13:41:36.917 -03:00 [DBG] Attempting to bind parameter 'userId' of type 'System.Guid' using the name 'userId' in request data ...
2023-05-25 13:41:36.920 -03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2023-05-25 13:41:36.923 -03:00 [DBG] Done attempting to bind parameter 'userId' of type 'System.Guid'.
2023-05-25 13:41:36.926 -03:00 [DBG] Attempting to validate the bound parameter 'userId' of type 'System.Guid' ...
2023-05-25 13:41:36.930 -03:00 [DBG] Done attempting to validate the bound parameter 'userId' of type 'System.Guid'.
2023-05-25 13:41:36.933 -03:00 [DBG] Attempting to bind parameter 'personId' of type 'System.Guid' ...
2023-05-25 13:41:36.936 -03:00 [DBG] Attempting to bind parameter 'personId' of type 'System.Guid' using the name 'personId' in request data ...
2023-05-25 13:41:36.939 -03:00 [DBG] Done attempting to bind parameter 'personId' of type 'System.Guid'.
2023-05-25 13:41:36.942 -03:00 [DBG] Done attempting to bind parameter 'personId' of type 'System.Guid'.
2023-05-25 13:41:36.946 -03:00 [DBG] Attempting to validate the bound parameter 'personId' of type 'System.Guid' ...
2023-05-25 13:41:36.949 -03:00 [DBG] Done attempting to validate the bound parameter 'personId' of type 'System.Guid'.
2023-05-25 13:41:36.952 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-05-25 13:41:36.955 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-05-25 13:41:36.958 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-05-25 13:41:36.963 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-05-25 13:41:37.016 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-05-25 13:41:37.026 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-05-25 13:41:37.034 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-05-25 13:41:37.037 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-25 13:41:37.039 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-25 13:41:37.042 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.046 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.049 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-05-25 13:41:37.054 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-05-25 13:41:37.059 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.063 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.071 -03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .SingleOrDefault(x => x.Id == __GetId_0)'
2023-05-25 13:41:37.099 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.IsActive (bool) Required, 2], [Property: User.IsActived (bool) Required, 3], [Property: User.PersonId (Guid) Required FK Index, 4], [Property: User.Salt (string), 5], [Property: User.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], [Property: User.UserLogin (string) Required, 7], [Property: User.UserPassword (string), 8], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.IE_ISACTIVE, t.IE_ISLOGED, t.ID_PERSON, t.DS_SALT, t.UPDATED_AT, t.DS_USER_LOGIN, t.DS_USER_PASSWORD
            FROM TB_USER AS t
            WHERE t.ID == @__GetId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-25 13:41:37.115 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:41:37.119 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-05-25 13:41:37.121 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.125 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.131 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`IE_ISACTIVE`, `t`.`IE_ISLOGED`, `t`.`ID_PERSON`, `t`.`DS_SALT`, `t`.`UPDATED_AT`, `t`.`DS_USER_LOGIN`, `t`.`DS_USER_PASSWORD`
FROM `TB_USER` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-05-25 13:41:37.140 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`IE_ISACTIVE`, `t`.`IE_ISLOGED`, `t`.`ID_PERSON`, `t`.`DS_SALT`, `t`.`UPDATED_AT`, `t`.`DS_USER_LOGIN`, `t`.`DS_USER_PASSWORD`
FROM `TB_USER` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-05-25 13:41:37.149 -03:00 [DBG] Context 'AthenaContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:41:37.154 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:41:37.156 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.159 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.164 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.Id == __request_PersonId_0)'
2023-05-25 13:41:37.170 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_PERSON AS t
                WHERE t.ID == @__request_PersonId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-25 13:41:37.176 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:41:37.178 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-25 13:41:37.183 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.187 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.190 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-05-25 13:41:37.196 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-05-25 13:41:37.201 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:41:37.203 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.206 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.212 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .SingleOrDefault(x => x.Id == __request_PersonId_0)'
2023-05-25 13:41:37.222 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Person>(
    asyncEnumerable: new SingleQueryingEnumerable<Person>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Person.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Person.BirthDate (DateTime) Required, 1], [Property: Person.CPF (string), 2], [Property: Person.CreatedAt (DateTime) Required, 3], [Property: Person.IsActive (bool) Required, 4], [Property: Person.PersonName (string), 5], [Property: Person.TenantId (Guid) Required, 6], [Property: Person.TenantId1 (no field, Nullable<Guid>) Shadow FK Index, 7], [Property: Person.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 8], [Property: Person.UserLogin (string), 9], [Property: Person.UserPassword (string), 10], }
            SELECT TOP(2) t.ID, t.DT_BIRTH_DATE, t.DS_CPF, t.CREATED_AT, t.ST_ACTIVE, t.DS_PERSON_NAME, t.TenantId, t.TenantId1, t.UPDATED_AT, t.DS_LOGIN, t.UserPassword
            FROM TB_PERSON AS t
            WHERE t.ID == @__request_PersonId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Person>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-05-25 13:41:37.231 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:41:37.233 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-25 13:41:37.236 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.240 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.244 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`DT_BIRTH_DATE`, `t`.`DS_CPF`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`DS_PERSON_NAME`, `t`.`TenantId`, `t`.`TenantId1`, `t`.`UPDATED_AT`, `t`.`DS_LOGIN`, `t`.`UserPassword`
FROM `TB_PERSON` AS `t`
WHERE `t`.`ID` = @__request_PersonId_0
LIMIT 2
2023-05-25 13:41:37.251 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`DT_BIRTH_DATE`, `t`.`DS_CPF`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`DS_PERSON_NAME`, `t`.`TenantId`, `t`.`TenantId1`, `t`.`UPDATED_AT`, `t`.`DS_LOGIN`, `t`.`UserPassword`
FROM `TB_PERSON` AS `t`
WHERE `t`.`ID` = @__request_PersonId_0
LIMIT 2
2023-05-25 13:41:37.258 -03:00 [DBG] Context 'AthenaContext' started tracking 'Person' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:41:37.266 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:41:37.267 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:41:37.270 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:42:45.839 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-05-25 13:42:45.846 -03:00 [DBG] The unchanged property 'User.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-25 13:42:45.850 -03:00 [DBG] An entity of type 'User' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:42:45.855 -03:00 [DBG] The unchanged property 'Person.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-25 13:42:45.859 -03:00 [DBG] An entity of type 'Person' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:42:45.866 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-05-25 13:42:45.869 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-05-25 13:42:45.873 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-05-25 13:42:45.916 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-05-25 13:42:45.919 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-05-25 13:42:45.923 -03:00 [DBG] The unchanged property 'User.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-25 13:42:45.927 -03:00 [DBG] The unchanged property 'Person.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-05-25 13:42:45.931 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-05-25 13:42:45.934 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:42:45.942 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:42:45.948 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-05-25 13:42:45.954 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-05-25 13:42:45.972 -03:00 [DBG] Executing update commands individually as the number of batchable commands (2) is smaller than the minimum batch size (4).
2023-05-25 13:42:45.984 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:42:45.993 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2023-05-25 13:42:45.997 -03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_PERSON` SET `ST_ACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_PERSON`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-05-25 13:42:46.011 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_PERSON` SET `ST_ACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_PERSON`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-05-25 13:42:46.020 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:42:46.022 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:42:46.025 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-25 13:42:46.028 -03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_USER` SET `IE_ISACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_USER`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-05-25 13:42:46.036 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_USER` SET `IE_ISACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_USER`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-05-25 13:42:46.042 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:42:46.045 -03:00 [DBG] Committing transaction.
2023-05-25 13:42:46.049 -03:00 [DBG] Committed transaction.
2023-05-25 13:42:46.051 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:42:46.054 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:42:46.058 -03:00 [DBG] Disposing transaction.
2023-05-25 13:42:46.061 -03:00 [DBG] An entity of type 'User' tracked by 'AthenaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:42:46.066 -03:00 [DBG] An entity of type 'Person' tracked by 'AthenaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-05-25 13:42:46.071 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 2 entities written to the database.
2023-05-25 13:42:46.078 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-25 13:42:46.084 -03:00 [DBG] No information found on request to perform content negotiation.
2023-05-25 13:42:46.087 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-25 13:42:46.089 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-25 13:42:46.092 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-25 13:42:46.096 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.User.DeleteUserResponse'.
2023-05-25 13:42:46.101 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UserController.Delete (Concent.Athena.Services.API) in 69196.6501ms
2023-05-25 13:42:46.106 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UserController.Delete (Concent.Athena.Services.API)'
2023-05-25 13:42:46.112 -03:00 [DBG] 'AthenaContext' disposed.
2023-05-25 13:42:46.116 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5002/api/v1/user/user?userId=08db5d3e-dcdf-4be7-8116-aa8dc14cf42b&personId=08db5d3e-dc78-429c-891a-898e7c4d7da4 - - - 200 - application/json;+charset=utf-8 69265.5978ms
2023-05-25 13:42:50.645 -03:00 [DBG] Connection id "0HMQT7R5Q066R" received FIN.
2023-05-25 13:42:50.649 -03:00 [DBG] Connection id "0HMQT7R5Q066R" is closed. The last processed stream ID was 1.
2023-05-25 13:42:50.653 -03:00 [DBG] Connection id "0HMQT7R5Q066R" sending FIN because: "The client closed the connection."
2023-05-25 13:42:50.661 -03:00 [DBG] Connection id "0HMQT7R5Q066R" stopped.
2023-05-25 13:43:14.891 -03:00 [DBG] Connection id "0HMQT7R5Q066S" accepted.
2023-05-25 13:43:14.902 -03:00 [DBG] Connection id "0HMQT7R5Q066S" started.
2023-05-25 13:43:14.912 -03:00 [DBG] Connection "0HMQT7R5Q066S" established using the following protocol: "Tls12"
2023-05-25 13:43:14.919 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5002/api/v1/person/person - -
2023-05-25 13:43:14.921 -03:00 [DBG] The request path  does not match the path filter
2023-05-25 13:43:14.927 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/person/person'
2023-05-25 13:43:14.933 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/Person/Person' is valid for the request path '/api/v1/person/person'
2023-05-25 13:43:14.941 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API)'
2023-05-25 13:43:14.948 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API)'
2023-05-25 13:43:14.954 -03:00 [INF] Route matched with {action = "GetAll", controller = "Person"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API).
2023-05-25 13:43:14.963 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-05-25 13:43:14.966 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-05-25 13:43:14.969 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-05-25 13:43:14.975 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-05-25 13:43:14.978 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-05-25 13:43:14.982 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-05-25 13:43:14.985 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-05-25 13:43:14.989 -03:00 [DBG] Attempting to bind parameter 'personName' of type 'System.String' ...
2023-05-25 13:43:14.994 -03:00 [DBG] Attempting to bind parameter 'personName' of type 'System.String' using the name '' in request data ...
2023-05-25 13:43:15.000 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'personName' of type 'System.String'.
2023-05-25 13:43:15.005 -03:00 [DBG] Done attempting to bind parameter 'personName' of type 'System.String'.
2023-05-25 13:43:15.012 -03:00 [DBG] Done attempting to bind parameter 'personName' of type 'System.String'.
2023-05-25 13:43:15.015 -03:00 [DBG] Attempting to validate the bound parameter 'personName' of type 'System.String' ...
2023-05-25 13:43:15.018 -03:00 [DBG] Done attempting to validate the bound parameter 'personName' of type 'System.String'.
2023-05-25 13:43:15.023 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-05-25 13:43:15.026 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-05-25 13:43:15.029 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-05-25 13:43:15.033 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-05-25 13:43:15.041 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-05-25 13:43:15.046 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-05-25 13:43:15.052 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-05-25 13:43:15.058 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-05-25 13:43:15.061 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-05-25 13:43:15.064 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:43:15.067 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:43:15.071 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-05-25 13:43:15.080 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-05-25 13:43:15.086 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:43:15.090 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:43:15.096 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
    )
    .Select(x => new { 
        Id = x.Id, 
        PersonName = x.PersonName, 
        BirthDate = x.BirthDate, 
        Idade = GetPersonQuery.CalcularIdade(x.BirthDate), 
        CPF = x.CPF
     })'
2023-05-25 13:43:15.119 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType4<Guid, string, DateTime, object, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
        SELECT t.ID, t.DS_PERSON_NAME, t.DT_BIRTH_DATE, t.DS_CPF
        FROM TB_PERSON AS t
        WHERE TRUE && t.ST_ACTIVE), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType4<Guid, string, DateTime, object, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-05-25 13:43:15.126 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-05-25 13:43:15.129 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-05-25 13:43:15.131 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:43:15.135 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:43:15.140 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`DS_PERSON_NAME`, `t`.`DT_BIRTH_DATE`, `t`.`DS_CPF`
FROM `TB_PERSON` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-05-25 13:43:15.147 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`DS_PERSON_NAME`, `t`.`DT_BIRTH_DATE`, `t`.`DS_CPF`
FROM `TB_PERSON` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-05-25 13:43:15.153 -03:00 [DBG] A data reader was disposed.
2023-05-25 13:43:15.155 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:43:15.159 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-05-25 13:43:15.162 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-05-25 13:43:15.167 -03:00 [DBG] No information found on request to perform content negotiation.
2023-05-25 13:43:15.169 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-05-25 13:43:15.171 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-05-25 13:43:15.174 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-05-25 13:43:15.178 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.Person.GetPersonResponse'.
2023-05-25 13:43:15.187 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API) in 204.9261ms
2023-05-25 13:43:15.191 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API)'
2023-05-25 13:43:15.194 -03:00 [DBG] 'AthenaContext' disposed.
2023-05-25 13:43:15.197 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5002/api/v1/person/person - - - 200 - application/json;+charset=utf-8 278.8836ms
2023-05-25 13:43:20.679 -03:00 [DBG] Connection id "0HMQT7R5Q066S" received FIN.
2023-05-25 13:43:20.682 -03:00 [DBG] Connection id "0HMQT7R5Q066S" is closed. The last processed stream ID was 1.
2023-05-25 13:43:20.687 -03:00 [DBG] Connection id "0HMQT7R5Q066S" sending FIN because: "The client closed the connection."
2023-05-25 13:43:20.706 -03:00 [DBG] Connection id "0HMQT7R5Q066S" stopped.
