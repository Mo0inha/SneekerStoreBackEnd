2023-07-12 17:14:42.896 -03:00 [DBG] Hosting starting
2023-07-12 17:14:43.681 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-12 17:14:43.836 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-12 17:14:43.839 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-12 17:14:43.842 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-12 17:14:43.844 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-12 17:14:43.847 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-12 17:14:43.849 -03:00 [INF] Hosting environment: Local
2023-07-12 17:14:43.851 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-12 17:14:43.854 -03:00 [DBG] Hosting started
2023-07-12 17:14:53.739 -03:00 [DBG] Connection id "0HMS32IJP2O02" accepted.
2023-07-12 17:14:53.745 -03:00 [DBG] Connection id "0HMS32IJP2O02" started.
2023-07-12 17:14:53.993 -03:00 [DBG] Connection "0HMS32IJP2O02" established using the following protocol: "Tls12"
2023-07-12 17:14:54.069 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:14:54.114 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-12 17:14:54.135 -03:00 [DBG] POST requests are not supported
2023-07-12 17:14:54.187 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:14:54.197 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:14:54.201 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:14:54.215 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:14:54.218 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:14:54.224 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:14:54.236 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-12 17:14:54.319 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:14:54.327 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:14:54.332 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:14:54.336 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:14:54.343 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:14:54.348 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:14:54.352 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:14:54.360 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:14:54.398 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:14:54.403 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:14:54.411 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:14:54.438 -03:00 [DBG] Connection id "0HMS32IJP2O02", Request id "0HMS32IJP2O02:00000001": started reading request body.
2023-07-12 17:14:54.446 -03:00 [DBG] Connection id "0HMS32IJP2O02", Request id "0HMS32IJP2O02:00000001": done reading request body.
2023-07-12 17:14:54.453 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:14:54.459 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:14:54.462 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:14:54.465 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:14:54.470 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:14:54.477 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:14:54.481 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:14:54.484 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:14:54.486 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:14:55.077 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-12 17:14:56.162 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:14:56.243 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:14:56.825 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:14:57.167 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:14:57.178 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-12 17:14:57.181 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:14:57.242 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:14:57.266 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:14:57.506 -03:00 [INF] Executed DbCommand (255ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:14:57.515 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:14:57.522 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:14:58.033 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .Include(x => (object)(x.PersonId == __request_PersonId_0))
    .SingleOrDefault(x => x.Id == __GetId_1)'
2023-07-12 17:14:59.298 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 4942.4371ms
2023-07-12 17:14:59.303 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:14:59.310 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'Convert((x.PersonId == __request_PersonId_0), Object)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see http://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|31_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Repositories.WriteRepository.SingleAsync[T](Expression`1 predicate, Expression`1[] includes) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Repositories\WriteRepository.cs:line 52
   at Concent.Athena.Application.Commands.AlmoxarifadosCommands.CreateAlmoxarifadosCommand.BeforeChanges(CreateAlmoxarifadosRequest request) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Commands\AlmoxarifadosCommands\CreateAlmoxarifadosCommand.cs:line 29
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 48
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 17:14:59.743 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:14:59.754 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 5689.3073ms
2023-07-12 17:15:06.876 -03:00 [DBG] Connection id "0HMS32IJP2O02" received FIN.
2023-07-12 17:15:06.881 -03:00 [DBG] Connection id "0HMS32IJP2O02" is closed. The last processed stream ID was 1.
2023-07-12 17:15:06.881 -03:00 [DBG] Connection id "0HMS32IJP2O02" sending FIN because: "The client closed the connection."
2023-07-12 17:15:06.888 -03:00 [DBG] Connection id "0HMS32IJP2O02" stopped.
2023-07-12 17:15:54.793 -03:00 [DBG] Connection id "0HMS32IJP2O03" accepted.
2023-07-12 17:15:54.797 -03:00 [DBG] Connection id "0HMS32IJP2O03" started.
2023-07-12 17:15:54.823 -03:00 [DBG] Connection "0HMS32IJP2O03" established using the following protocol: "Tls12"
2023-07-12 17:15:54.840 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:15:54.842 -03:00 [DBG] POST requests are not supported
2023-07-12 17:15:54.854 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:15:54.858 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:15:54.861 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:15:54.864 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:15:54.867 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:15:54.869 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:15:54.872 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:15:54.877 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:15:54.880 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:15:54.884 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:15:54.889 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:15:54.892 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:15:54.896 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:15:54.900 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:15:54.905 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:15:54.908 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:15:54.911 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:15:54.914 -03:00 [DBG] Connection id "0HMS32IJP2O03", Request id "0HMS32IJP2O03:00000001": started reading request body.
2023-07-12 17:15:54.918 -03:00 [DBG] Connection id "0HMS32IJP2O03", Request id "0HMS32IJP2O03:00000001": done reading request body.
2023-07-12 17:15:54.921 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:15:54.924 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:15:54.927 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:15:54.930 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:15:54.934 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:15:54.937 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:15:54.940 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:15:54.943 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:15:54.946 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:15:54.954 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:15:54.959 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:15:54.970 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:15:54.981 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:15:54.985 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-12 17:15:54.987 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:15:54.995 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:15:55.000 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:15:55.008 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:15:55.014 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:15:55.018 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:15:55.026 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .Include(x => (object)(x.PersonId == __request_PersonId_0))
    .SingleOrDefault(x => x.Id == __GetId_1)'
2023-07-12 17:15:55.345 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 449.376ms
2023-07-12 17:15:55.350 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:15:55.356 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'Convert((x.PersonId == __request_PersonId_0), Object)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see http://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|31_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Repositories.WriteRepository.SingleAsync[T](Expression`1 predicate, Expression`1[] includes) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Repositories\WriteRepository.cs:line 52
   at Concent.Athena.Application.Commands.AlmoxarifadosCommands.CreateAlmoxarifadosCommand.BeforeChanges(CreateAlmoxarifadosRequest request) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Commands\AlmoxarifadosCommands\CreateAlmoxarifadosCommand.cs:line 29
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 48
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 17:15:55.389 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:15:55.392 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 552.3159ms
2023-07-12 17:15:56.944 -03:00 [DBG] Connection id "0HMS32IJP2O03" received FIN.
2023-07-12 17:15:56.948 -03:00 [DBG] Connection id "0HMS32IJP2O03" is closed. The last processed stream ID was 1.
2023-07-12 17:15:56.951 -03:00 [DBG] Connection id "0HMS32IJP2O03" sending FIN because: "The client closed the connection."
2023-07-12 17:15:56.958 -03:00 [DBG] Connection id "0HMS32IJP2O03" stopped.
2023-07-12 17:16:02.655 -03:00 [DBG] Connection id "0HMS32IJP2O04" accepted.
2023-07-12 17:16:02.658 -03:00 [DBG] Connection id "0HMS32IJP2O04" started.
2023-07-12 17:16:02.663 -03:00 [DBG] Connection "0HMS32IJP2O04" established using the following protocol: "Tls12"
2023-07-12 17:16:02.667 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:16:02.675 -03:00 [DBG] POST requests are not supported
2023-07-12 17:16:02.678 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:16:02.681 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:16:02.685 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:16:02.688 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:16:02.691 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:16:02.693 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:16:02.695 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:16:02.698 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:16:02.701 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:16:02.707 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:16:02.712 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:16:02.714 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:16:02.717 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:16:02.722 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:16:02.726 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:16:02.729 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:16:02.732 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:16:02.736 -03:00 [DBG] Connection id "0HMS32IJP2O04", Request id "0HMS32IJP2O04:00000001": started reading request body.
2023-07-12 17:16:02.741 -03:00 [DBG] Connection id "0HMS32IJP2O04", Request id "0HMS32IJP2O04:00000001": done reading request body.
2023-07-12 17:16:02.743 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:16:02.745 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:16:02.748 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:16:02.750 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:16:02.755 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:16:02.758 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:16:02.760 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:16:02.763 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:16:02.765 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:16:02.816 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:16:02.827 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:16:02.879 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:16:02.939 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:16:02.943 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 17:16:02.945 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:16:02.948 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:16:02.950 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:16:02.973 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:16:02.978 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:16:02.980 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:16:12.737 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .Include(x => (object)(x.PersonId == __request_PersonId_0))
    .SingleOrDefault(x => x.Id == __GetId_1)'
2023-07-12 17:16:15.564 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 12847.2534ms
2023-07-12 17:16:15.569 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:16:15.594 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The expression 'Convert((x.PersonId == __request_PersonId_0), Object)' is invalid inside an 'Include' operation, since it does not represent a property access: 't => t.MyProperty'. To target navigations declared on derived types, use casting ('t => ((Derived)t).MyProperty') or the 'as' operator ('t => (t as Derived).MyProperty'). Collection navigation access can be filtered by composing Where, OrderBy(Descending), ThenBy(Descending), Skip or Take operations. For more information on including related data, see http://go.microsoft.com/fwlink/?LinkID=746393.
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.<ProcessInclude>g__ExtractIncludeFilter|31_0(Expression currentExpression, Expression includeExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.SingleOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Repositories.WriteRepository.SingleAsync[T](Expression`1 predicate, Expression`1[] includes) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Repositories\WriteRepository.cs:line 52
   at Concent.Athena.Application.Commands.AlmoxarifadosCommands.CreateAlmoxarifadosCommand.BeforeChanges(CreateAlmoxarifadosRequest request) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Commands\AlmoxarifadosCommands\CreateAlmoxarifadosCommand.cs:line 29
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 48
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 17:16:15.653 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:16:15.661 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 12994.4553ms
2023-07-12 17:16:21.972 -03:00 [DBG] Connection id "0HMS32IJP2O04" received FIN.
2023-07-12 17:16:21.975 -03:00 [DBG] Connection id "0HMS32IJP2O04" is closed. The last processed stream ID was 1.
2023-07-12 17:16:21.978 -03:00 [DBG] Connection id "0HMS32IJP2O04" sending FIN because: "The client closed the connection."
2023-07-12 17:16:21.986 -03:00 [DBG] Connection id "0HMS32IJP2O04" stopped.
2023-07-12 17:17:14.701 -03:00 [DBG] Connection id "0HMS32IJP2O05" accepted.
2023-07-12 17:17:14.710 -03:00 [DBG] Connection id "0HMS32IJP2O05" started.
2023-07-12 17:17:14.726 -03:00 [DBG] Connection "0HMS32IJP2O05" established using the following protocol: "Tls12"
2023-07-12 17:17:14.729 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:17:14.731 -03:00 [DBG] POST requests are not supported
2023-07-12 17:17:14.736 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:17:14.738 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:17:14.741 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:17:14.743 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:17:14.745 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:17:14.747 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:17:14.750 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:17:14.754 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:17:14.757 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:17:14.760 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:17:14.763 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:17:14.766 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:17:14.770 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:17:14.772 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:17:14.774 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:17:14.777 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:17:14.780 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:17:14.783 -03:00 [DBG] Connection id "0HMS32IJP2O05", Request id "0HMS32IJP2O05:00000001": started reading request body.
2023-07-12 17:17:14.786 -03:00 [DBG] Connection id "0HMS32IJP2O05", Request id "0HMS32IJP2O05:00000001": done reading request body.
2023-07-12 17:17:14.789 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:17:14.791 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:17:14.794 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:17:14.797 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:17:14.799 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:17:14.803 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:17:14.805 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:17:14.807 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:17:14.810 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:17:14.814 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:17:14.819 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:17:14.828 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:17:14.832 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:17:14.837 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-12 17:17:14.839 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:14.846 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:14.850 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:17:14.859 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:17:14.866 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:14.872 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:18.548 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .SingleOrDefault(x => x.Id == __GetId_0 && x.PersonId == __request_PersonId_1)'
2023-07-12 17:17:18.734 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Almoxarifados>(
    asyncEnumerable: new SingleQueryingEnumerable<Almoxarifados>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Almoxarifados.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Almoxarifados.CreatedAt (DateTime) Required, 1], [Property: Almoxarifados.DescricaoAlmoxarifado (string) Required, 2], [Property: Almoxarifados.IsActive (bool) Required, 3], [Property: Almoxarifados.PersonId (Guid) Required FK Index, 4], [Property: Almoxarifados.Sigla (string) Required, 5], [Property: Almoxarifados.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.ID_PERSON, t.DS_SIGLA, t.UPDATED_AT
            FROM TB_ALMOXARIFADO AS t
            WHERE (t.ID == @__GetId_0) && (t.ID_PERSON == @__request_PersonId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Almoxarifados>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 17:17:18.780 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:17:18.783 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:17:18.804 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:18.815 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:18.821 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-12 17:17:18.860 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-12 17:17:18.992 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:17:18.997 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:19.001 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:24.478 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 17:17:24.485 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 17:17:24.487 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 17:17:24.489 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 17:17:24.493 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 17:17:24.496 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 17:17:24.532 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 9762.5777ms
2023-07-12 17:17:24.538 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:17:24.548 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:17:24.551 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 400 - application/json;+charset=utf-8 9821.4989ms
2023-07-12 17:17:32.061 -03:00 [DBG] Connection id "0HMS32IJP2O05" received FIN.
2023-07-12 17:17:32.064 -03:00 [DBG] Connection id "0HMS32IJP2O05" is closed. The last processed stream ID was 1.
2023-07-12 17:17:32.069 -03:00 [DBG] Connection id "0HMS32IJP2O05" sending FIN because: "The client closed the connection."
2023-07-12 17:17:32.072 -03:00 [DBG] Connection id "0HMS32IJP2O05" stopped.
2023-07-12 17:17:42.471 -03:00 [DBG] Connection id "0HMS32IJP2O06" accepted.
2023-07-12 17:17:42.474 -03:00 [DBG] Connection id "0HMS32IJP2O06" started.
2023-07-12 17:17:42.484 -03:00 [DBG] Connection "0HMS32IJP2O06" established using the following protocol: "Tls12"
2023-07-12 17:17:42.490 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:17:42.501 -03:00 [DBG] POST requests are not supported
2023-07-12 17:17:42.503 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:17:42.507 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:17:42.510 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:17:42.515 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:17:42.517 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:17:42.520 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:17:42.523 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:17:42.527 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:17:42.531 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:17:42.535 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:17:42.538 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:17:42.541 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:17:42.544 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:17:42.547 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:17:42.551 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:17:42.556 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:17:42.560 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:17:42.563 -03:00 [DBG] Connection id "0HMS32IJP2O06", Request id "0HMS32IJP2O06:00000001": started reading request body.
2023-07-12 17:17:42.567 -03:00 [DBG] Connection id "0HMS32IJP2O06", Request id "0HMS32IJP2O06:00000001": done reading request body.
2023-07-12 17:17:42.570 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:17:42.573 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:17:42.576 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:17:42.580 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:17:42.583 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:17:42.586 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:17:42.589 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:17:42.591 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:17:42.594 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:17:42.598 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:17:42.603 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:17:42.611 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:17:42.616 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:17:42.618 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 17:17:42.621 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:42.624 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:42.627 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:17:42.634 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:17:42.639 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:42.642 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:45.693 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:17:45.696 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:17:45.699 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:45.708 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:45.715 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-12 17:17:45.721 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-12 17:17:45.726 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:17:45.728 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:45.733 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:17:45.736 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 17:17:45.741 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 17:17:45.742 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 17:17:45.744 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 17:17:45.746 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 17:17:45.749 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 17:17:45.751 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 3207.837ms
2023-07-12 17:17:45.754 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:17:45.757 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:17:45.760 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 400 - application/json;+charset=utf-8 3270.4443ms
2023-07-12 17:17:52.079 -03:00 [DBG] Connection id "0HMS32IJP2O06" received FIN.
2023-07-12 17:17:52.083 -03:00 [DBG] Connection id "0HMS32IJP2O06" is closed. The last processed stream ID was 1.
2023-07-12 17:17:52.085 -03:00 [DBG] Connection id "0HMS32IJP2O06" sending FIN because: "The client closed the connection."
2023-07-12 17:17:52.094 -03:00 [DBG] Connection id "0HMS32IJP2O06" stopped.
2023-07-12 17:18:25.674 -03:00 [DBG] Connection id "0HMS32IJP2O07" accepted.
2023-07-12 17:18:25.706 -03:00 [DBG] Connection id "0HMS32IJP2O07" started.
2023-07-12 17:18:25.720 -03:00 [DBG] Connection "0HMS32IJP2O07" established using the following protocol: "Tls12"
2023-07-12 17:18:25.725 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:18:25.761 -03:00 [DBG] POST requests are not supported
2023-07-12 17:18:25.763 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:18:25.767 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:18:25.771 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:18:25.774 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:18:25.777 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:18:25.779 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:18:25.783 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:18:25.788 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:18:25.791 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:18:25.793 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:18:25.796 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:18:25.800 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:18:25.804 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:18:25.808 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:18:25.810 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:18:25.813 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:18:25.817 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:18:25.820 -03:00 [DBG] Connection id "0HMS32IJP2O07", Request id "0HMS32IJP2O07:00000001": started reading request body.
2023-07-12 17:18:25.822 -03:00 [DBG] Connection id "0HMS32IJP2O07", Request id "0HMS32IJP2O07:00000001": done reading request body.
2023-07-12 17:18:25.825 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:18:25.827 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:18:25.829 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:18:25.833 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:18:25.835 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:18:25.838 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:18:25.840 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:18:25.843 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:18:25.845 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:18:25.850 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:18:25.855 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:18:25.861 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:18:25.866 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:18:25.870 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 17:18:25.872 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:18:25.875 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:18:25.877 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:18:25.885 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:18:25.891 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:18:25.895 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:18:29.820 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:18:29.824 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-12 17:18:29.827 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:18:29.834 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:18:29.838 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-12 17:18:29.843 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-12 17:18:29.846 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:18:29.848 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:18:29.851 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:18:44.086 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 18282.1439ms
2023-07-12 17:18:44.092 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:18:44.109 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Concent.Athena.Application.Commands.AlmoxarifadosCommands.CreateAlmoxarifadosCommand.BeforeChanges(CreateAlmoxarifadosRequest request)
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken)
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 17:18:44.134 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:18:44.138 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 18414.3423ms
2023-07-12 17:18:52.129 -03:00 [DBG] Connection id "0HMS32IJP2O07" received FIN.
2023-07-12 17:18:52.133 -03:00 [DBG] Connection id "0HMS32IJP2O07" is closed. The last processed stream ID was 1.
2023-07-12 17:18:52.177 -03:00 [DBG] Connection id "0HMS32IJP2O07" sending FIN because: "The client closed the connection."
2023-07-12 17:18:52.187 -03:00 [DBG] Connection id "0HMS32IJP2O07" stopped.
2023-07-12 17:20:51.584 -03:00 [DBG] Connection id "0HMS32IJP2O08" accepted.
2023-07-12 17:20:51.597 -03:00 [DBG] Connection id "0HMS32IJP2O08" started.
2023-07-12 17:20:51.614 -03:00 [DBG] Connection "0HMS32IJP2O08" established using the following protocol: "Tls12"
2023-07-12 17:20:51.621 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:20:51.638 -03:00 [DBG] POST requests are not supported
2023-07-12 17:20:51.641 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:20:51.644 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:20:51.651 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:20:51.654 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:20:51.656 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:20:51.659 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:20:51.662 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:20:51.670 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:20:51.673 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:20:51.676 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:20:51.683 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:20:51.686 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:20:51.690 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:20:51.693 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:20:51.700 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:20:51.703 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:20:51.706 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:20:51.708 -03:00 [DBG] Connection id "0HMS32IJP2O08", Request id "0HMS32IJP2O08:00000001": started reading request body.
2023-07-12 17:20:51.711 -03:00 [DBG] Connection id "0HMS32IJP2O08", Request id "0HMS32IJP2O08:00000001": done reading request body.
2023-07-12 17:20:51.714 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:20:51.717 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:20:51.719 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:20:51.721 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:20:51.724 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:20:51.726 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:20:51.730 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:20:51.733 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:20:51.735 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:20:51.738 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:20:51.743 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:20:51.754 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:20:51.758 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:20:51.760 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 17:20:51.763 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:20:51.766 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:20:51.769 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:20:51.774 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:20:51.778 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:20:51.781 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:20:54.184 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:20:54.188 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:20:54.190 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:20:54.195 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:20:54.284 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-12 17:20:54.290 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-12 17:20:54.295 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:20:54.297 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:20:54.300 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:26:37.004 -03:00 [DBG] Hosting starting
2023-07-12 17:26:37.841 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-12 17:26:38.003 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-12 17:26:38.008 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-12 17:26:38.011 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-12 17:26:38.013 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-12 17:26:38.017 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-12 17:26:38.019 -03:00 [INF] Hosting environment: Local
2023-07-12 17:26:38.023 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-12 17:26:38.025 -03:00 [DBG] Hosting started
2023-07-12 17:26:38.086 -03:00 [DBG] Connection id "0HMS32P5MIED0" accepted.
2023-07-12 17:26:38.089 -03:00 [DBG] Connection id "0HMS32P5MIED0" started.
2023-07-12 17:26:38.102 -03:00 [DBG] Connection id "0HMS32P5MIED1" accepted.
2023-07-12 17:26:38.105 -03:00 [DBG] Connection id "0HMS32P5MIED1" started.
2023-07-12 17:26:38.238 -03:00 [DBG] Connection id "0HMS32P5MIED0" received FIN.
2023-07-12 17:26:38.259 -03:00 [DBG] Connection "0HMS32P5MIED1" established using the following protocol: "Tls12"
2023-07-12 17:26:38.259 -03:00 [DBG] Connection "0HMS32P5MIED0" established using the following protocol: "Tls12"
2023-07-12 17:26:38.276 -03:00 [DBG] Connection id "0HMS32P5MIED0" is closed. The last processed stream ID was 0.
2023-07-12 17:26:38.279 -03:00 [DBG] Connection id "0HMS32P5MIED0" sending FIN because: "The client closed the connection."
2023-07-12 17:26:38.291 -03:00 [DBG] Connection id "0HMS32P5MIED0" stopped.
2023-07-12 17:26:38.325 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:26:38.353 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-12 17:26:38.374 -03:00 [DBG] POST requests are not supported
2023-07-12 17:26:38.425 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:26:38.438 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:26:38.442 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:26:38.453 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:26:38.456 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:26:38.459 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:26:38.473 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-12 17:26:38.528 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:26:38.535 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:26:38.537 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:26:38.540 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:26:38.546 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:26:38.551 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:26:38.555 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:26:38.561 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:26:38.588 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:26:38.594 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:26:38.601 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:26:38.621 -03:00 [DBG] Connection id "0HMS32P5MIED1", Request id "0HMS32P5MIED1:00000001": started reading request body.
2023-07-12 17:26:38.624 -03:00 [DBG] Connection id "0HMS32P5MIED1", Request id "0HMS32P5MIED1:00000001": done reading request body.
2023-07-12 17:26:38.630 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:26:38.635 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:26:38.638 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:26:38.640 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:26:38.645 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:26:38.651 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:26:38.654 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:26:38.656 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:26:38.659 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:26:38.970 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-12 17:26:39.871 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:26:39.902 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:26:40.039 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:26:40.159 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:26:40.164 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-12 17:26:40.169 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:26:40.184 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:26:40.195 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:26:40.236 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:26:40.244 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:26:40.255 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:26:40.582 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .SingleOrDefault(x => x.Id == __GetId_0 && x.PersonId == __request_PersonId_1 && x.Sigla == __request_Sigla_2)'
2023-07-12 17:26:40.768 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Almoxarifados>(
    asyncEnumerable: new SingleQueryingEnumerable<Almoxarifados>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Almoxarifados.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Almoxarifados.CreatedAt (DateTime) Required, 1], [Property: Almoxarifados.DescricaoAlmoxarifado (string) Required, 2], [Property: Almoxarifados.IsActive (bool) Required, 3], [Property: Almoxarifados.PersonId (Guid) Required FK Index, 4], [Property: Almoxarifados.Sigla (string) Required, 5], [Property: Almoxarifados.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.ID_PERSON, t.DS_SIGLA, t.UPDATED_AT
            FROM TB_ALMOXARIFADO AS t
            WHERE ((t.ID == @__GetId_0) && (t.ID_PERSON == @__request_PersonId_1)) && (t.DS_SIGLA == @__request_Sigla_2)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Almoxarifados>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 17:26:40.811 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:26:40.814 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:26:40.836 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:26:40.851 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:26:40.858 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:26:40.898 -03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:26:40.912 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:26:40.917 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:26:40.920 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:26:52.787 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 14228.3315ms
2023-07-12 17:26:52.802 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:26:52.839 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Concent.Athena.Application.Commands.AlmoxarifadosCommands.CreateAlmoxarifadosCommand.Changes(CreateAlmoxarifadosRequest request) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Commands\AlmoxarifadosCommands\CreateAlmoxarifadosCommand.cs:line 41
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 52
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 17:26:53.046 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:26:53.206 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 14878.7258ms
2023-07-12 17:26:57.995 -03:00 [DBG] Connection id "0HMS32P5MIED1" received FIN.
2023-07-12 17:26:57.998 -03:00 [DBG] Connection id "0HMS32P5MIED1" is closed. The last processed stream ID was 1.
2023-07-12 17:26:58.002 -03:00 [DBG] Connection id "0HMS32P5MIED1" sending FIN because: "The client closed the connection."
2023-07-12 17:26:58.010 -03:00 [DBG] Connection id "0HMS32P5MIED1" stopped.
2023-07-12 17:27:27.442 -03:00 [DBG] Hosting starting
2023-07-12 17:27:27.996 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-12 17:27:28.106 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-12 17:27:28.110 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-12 17:27:28.119 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-12 17:27:28.127 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-12 17:27:28.129 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-12 17:27:28.131 -03:00 [INF] Hosting environment: Local
2023-07-12 17:27:28.134 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-12 17:27:28.137 -03:00 [DBG] Hosting started
2023-07-12 17:27:28.152 -03:00 [DBG] Connection id "0HMS32PKK0MBE" accepted.
2023-07-12 17:27:28.152 -03:00 [DBG] Connection id "0HMS32PKK0MBD" accepted.
2023-07-12 17:27:28.160 -03:00 [DBG] Connection id "0HMS32PKK0MBE" started.
2023-07-12 17:27:28.160 -03:00 [DBG] Connection id "0HMS32PKK0MBD" started.
2023-07-12 17:27:28.223 -03:00 [DBG] Connection id "0HMS32PKK0MBE" received FIN.
2023-07-12 17:27:28.238 -03:00 [DBG] Connection "0HMS32PKK0MBD" established using the following protocol: "Tls12"
2023-07-12 17:27:28.238 -03:00 [DBG] Connection "0HMS32PKK0MBE" established using the following protocol: "Tls12"
2023-07-12 17:27:28.255 -03:00 [DBG] Connection id "0HMS32PKK0MBE" is closed. The last processed stream ID was 0.
2023-07-12 17:27:28.258 -03:00 [DBG] Connection id "0HMS32PKK0MBE" sending FIN because: "The client closed the connection."
2023-07-12 17:27:28.266 -03:00 [DBG] Connection id "0HMS32PKK0MBE" stopped.
2023-07-12 17:27:28.296 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:27:28.315 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-12 17:27:28.333 -03:00 [DBG] POST requests are not supported
2023-07-12 17:27:28.382 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:27:28.392 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:27:28.396 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:27:28.406 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:27:28.408 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:27:28.412 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:27:28.423 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-12 17:27:28.473 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:27:28.477 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:27:28.480 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:27:28.483 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:27:28.486 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:27:28.489 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:27:28.493 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:27:28.497 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:27:28.516 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:27:28.523 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:27:28.527 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:27:28.543 -03:00 [DBG] Connection id "0HMS32PKK0MBD", Request id "0HMS32PKK0MBD:00000001": started reading request body.
2023-07-12 17:27:28.547 -03:00 [DBG] Connection id "0HMS32PKK0MBD", Request id "0HMS32PKK0MBD:00000001": done reading request body.
2023-07-12 17:27:28.553 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:27:28.558 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:27:28.561 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:27:28.564 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:27:28.569 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:27:28.576 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:27:28.579 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:27:28.583 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:27:28.587 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:27:28.803 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-12 17:27:29.620 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:27:29.643 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:27:29.769 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:27:29.863 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:27:29.867 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-12 17:27:29.872 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:27:29.900 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:27:29.915 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:27:29.951 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:27:29.958 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:27:29.964 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:27:30.246 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .SingleOrDefault(x => x.Id == __GetId_0 && x.PersonId == __request_PersonId_1 && x.Sigla == __request_Sigla_2)'
2023-07-12 17:27:30.452 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Almoxarifados>(
    asyncEnumerable: new SingleQueryingEnumerable<Almoxarifados>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Almoxarifados.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Almoxarifados.CreatedAt (DateTime) Required, 1], [Property: Almoxarifados.DescricaoAlmoxarifado (string) Required, 2], [Property: Almoxarifados.IsActive (bool) Required, 3], [Property: Almoxarifados.PersonId (Guid) Required FK Index, 4], [Property: Almoxarifados.Sigla (string) Required, 5], [Property: Almoxarifados.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.ID_PERSON, t.DS_SIGLA, t.UPDATED_AT
            FROM TB_ALMOXARIFADO AS t
            WHERE ((t.ID == @__GetId_0) && (t.ID_PERSON == @__request_PersonId_1)) && (t.DS_SIGLA == @__request_Sigla_2)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Almoxarifados>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 17:27:30.503 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:27:30.507 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-12 17:27:30.546 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:27:30.563 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:27:30.569 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:27:30.599 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:27:30.610 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:27:30.614 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:27:30.618 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:27:30.679 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:27:30.767 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:27:30.774 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:27:30.794 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:27:30.797 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:27:30.799 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:27:30.808 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 17:27:30.812 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:27:30.815 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:27:30.838 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:27:30.852 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:27:30.860 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 17:27:30.888 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 17:27:30.984 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:27:30.987 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:27:30.991 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:27:31.023 -03:00 [ERR] Failed executing DbCommand (30ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:27:31.049 -03:00 [DBG] Disposing transaction.
2023-07-12 17:27:31.054 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:27:31.058 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:27:31.151 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-12 17:27:31.618 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 3120.0283ms
2023-07-12 17:27:31.626 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:27:31.654 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 17:27:31.774 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:27:31.784 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 3490.5147ms
2023-07-12 17:27:33.053 -03:00 [DBG] Connection id "0HMS32PKK0MBD" received FIN.
2023-07-12 17:27:33.057 -03:00 [DBG] Connection id "0HMS32PKK0MBD" is closed. The last processed stream ID was 1.
2023-07-12 17:27:33.061 -03:00 [DBG] Connection id "0HMS32PKK0MBD" sending FIN because: "The client closed the connection."
2023-07-12 17:27:33.068 -03:00 [DBG] Connection id "0HMS32PKK0MBD" stopped.
2023-07-12 17:33:09.032 -03:00 [DBG] Connection id "0HMS32PKK0MBF" accepted.
2023-07-12 17:33:09.040 -03:00 [DBG] Connection id "0HMS32PKK0MBF" started.
2023-07-12 17:33:09.066 -03:00 [DBG] Connection "0HMS32PKK0MBF" established using the following protocol: "Tls12"
2023-07-12 17:33:09.074 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:33:09.077 -03:00 [DBG] POST requests are not supported
2023-07-12 17:33:09.082 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:33:09.084 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:33:09.089 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:33:09.091 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:33:09.093 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:33:09.095 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:33:09.097 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:33:09.100 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:33:09.104 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:33:09.107 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:33:09.110 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:33:09.112 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:33:09.115 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:33:09.119 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:33:09.122 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:33:09.125 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:33:09.128 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:33:09.131 -03:00 [DBG] Connection id "0HMS32PKK0MBF", Request id "0HMS32PKK0MBF:00000001": started reading request body.
2023-07-12 17:33:09.133 -03:00 [DBG] Connection id "0HMS32PKK0MBF", Request id "0HMS32PKK0MBF:00000001": done reading request body.
2023-07-12 17:33:09.136 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:33:09.139 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:33:09.141 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:33:09.144 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:33:09.147 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:33:09.150 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:33:09.153 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:33:09.156 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:33:09.159 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:33:09.165 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:33:09.169 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:33:09.181 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:33:09.191 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:33:09.194 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-12 17:33:09.196 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:33:09.201 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:33:09.204 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:33:09.216 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:33:09.220 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:33:09.223 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:33:09.230 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:33:09.232 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:33:09.234 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:33:09.241 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:33:09.246 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:33:09.255 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:33:09.263 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:33:09.265 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:33:09.267 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:33:09.270 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:33:09.275 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:33:09.279 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:33:09.281 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:33:09.283 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:33:09.285 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:33:09.288 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 17:33:09.290 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:33:09.293 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:33:09.295 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:33:09.302 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:33:09.306 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 17:33:09.315 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 17:33:09.320 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:33:09.323 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-12 17:33:09.326 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:33:09.335 -03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:33:09.347 -03:00 [DBG] Disposing transaction.
2023-07-12 17:33:09.349 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:33:09.351 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:33:09.361 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`))
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`))
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-12 17:33:09.828 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 712.9156ms
2023-07-12 17:33:09.836 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:33:09.853 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`))
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 17:33:09.905 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:33:09.909 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 834.2790ms
2023-07-12 17:33:18.576 -03:00 [DBG] Connection id "0HMS32PKK0MBF" received FIN.
2023-07-12 17:33:18.579 -03:00 [DBG] Connection id "0HMS32PKK0MBF" is closed. The last processed stream ID was 1.
2023-07-12 17:33:18.583 -03:00 [DBG] Connection id "0HMS32PKK0MBF" sending FIN because: "The client closed the connection."
2023-07-12 17:33:18.592 -03:00 [DBG] Connection id "0HMS32PKK0MBF" stopped.
2023-07-12 17:35:30.677 -03:00 [DBG] Hosting starting
2023-07-12 17:35:31.434 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-12 17:35:31.571 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-12 17:35:31.574 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-12 17:35:31.576 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-12 17:35:31.580 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-12 17:35:31.582 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-12 17:35:31.584 -03:00 [INF] Hosting environment: Local
2023-07-12 17:35:31.587 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-12 17:35:31.590 -03:00 [DBG] Hosting started
2023-07-12 17:36:25.099 -03:00 [DBG] Hosting starting
2023-07-12 17:36:25.828 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-12 17:36:25.982 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-12 17:36:25.985 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-12 17:36:25.988 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-12 17:36:25.992 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-12 17:36:25.995 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-12 17:36:25.998 -03:00 [INF] Hosting environment: Local
2023-07-12 17:36:26.000 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-12 17:36:26.003 -03:00 [DBG] Hosting started
2023-07-12 17:36:26.166 -03:00 [DBG] Connection id "0HMS32UKUTATP" accepted.
2023-07-12 17:36:26.170 -03:00 [DBG] Connection id "0HMS32UKUTATP" started.
2023-07-12 17:36:26.275 -03:00 [DBG] Connection "0HMS32UKUTATP" established using the following protocol: "Tls12"
2023-07-12 17:36:26.346 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:36:26.387 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-12 17:36:26.406 -03:00 [DBG] POST requests are not supported
2023-07-12 17:36:26.463 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:36:26.475 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:36:26.481 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:36:26.494 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:36:26.497 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:36:26.502 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:36:26.514 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-12 17:36:26.577 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:36:26.582 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:36:26.585 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:36:26.588 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:36:26.591 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:36:26.596 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:36:26.600 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:36:26.604 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:36:26.632 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:36:26.638 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:36:26.645 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:36:26.663 -03:00 [DBG] Connection id "0HMS32UKUTATP", Request id "0HMS32UKUTATP:00000001": started reading request body.
2023-07-12 17:36:26.666 -03:00 [DBG] Connection id "0HMS32UKUTATP", Request id "0HMS32UKUTATP:00000001": done reading request body.
2023-07-12 17:36:26.675 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:36:26.679 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:36:26.682 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:36:26.684 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:36:26.691 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:36:26.697 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:36:26.701 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:36:26.705 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:36:26.707 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:36:27.030 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-12 17:36:27.968 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:36:27.996 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:36:28.139 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:36:28.266 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:36:28.280 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-12 17:36:28.284 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:36:28.306 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:36:28.321 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:36:28.355 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:36:28.361 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:36:28.367 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:36:28.688 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .SingleOrDefault(x => x.Id == __GetId_0 && x.PersonId == __request_PersonId_1 && x.Sigla == __request_Sigla_2)'
2023-07-12 17:36:28.876 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Almoxarifados>(
    asyncEnumerable: new SingleQueryingEnumerable<Almoxarifados>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Almoxarifados.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Almoxarifados.CreatedAt (DateTime) Required, 1], [Property: Almoxarifados.DescricaoAlmoxarifado (string) Required, 2], [Property: Almoxarifados.IsActive (bool) Required, 3], [Property: Almoxarifados.PersonId (Guid) Required FK Index, 4], [Property: Almoxarifados.Sigla (string) Required, 5], [Property: Almoxarifados.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.ID_PERSON, t.DS_SIGLA, t.UPDATED_AT
            FROM TB_ALMOXARIFADO AS t
            WHERE ((t.ID == @__GetId_0) && (t.ID_PERSON == @__request_PersonId_1)) && (t.DS_SIGLA == @__request_Sigla_2)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Almoxarifados>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 17:36:28.921 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:36:28.925 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:36:28.949 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:36:28.965 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:36:28.970 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:36:29.007 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:36:29.020 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:36:29.025 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:36:29.030 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:36:29.096 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:36:29.168 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:36:29.174 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:36:29.188 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:36:29.191 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:36:29.194 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:36:29.200 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 17:36:29.203 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:36:29.206 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:36:29.224 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:36:29.241 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:36:29.249 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 17:36:29.266 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 17:36:29.334 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:36:29.337 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:36:29.340 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:36:29.368 -03:00 [ERR] Failed executing DbCommand (27ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:36:29.387 -03:00 [DBG] Disposing transaction.
2023-07-12 17:36:29.393 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:36:29.397 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:36:29.551 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`))
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`))
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-12 17:36:29.941 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 3337.7886ms
2023-07-12 17:36:29.952 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:36:29.974 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`))
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 17:36:30.064 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:36:30.072 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 3731.5955ms
2023-07-12 17:36:38.923 -03:00 [DBG] Connection id "0HMS32UKUTATP" received FIN.
2023-07-12 17:36:38.928 -03:00 [DBG] Connection id "0HMS32UKUTATP" is closed. The last processed stream ID was 1.
2023-07-12 17:36:38.931 -03:00 [DBG] Connection id "0HMS32UKUTATP" sending FIN because: "The client closed the connection."
2023-07-12 17:36:38.941 -03:00 [DBG] Connection id "0HMS32UKUTATP" stopped.
2023-07-12 17:37:57.220 -03:00 [DBG] Config reload token fired. Checking for changes...
2023-07-12 17:38:02.717 -03:00 [DBG] Hosting starting
2023-07-12 17:38:03.335 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-12 17:38:03.459 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-12 17:38:03.462 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-12 17:38:03.465 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-12 17:38:03.468 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-12 17:38:03.470 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-12 17:38:03.472 -03:00 [INF] Hosting environment: Local
2023-07-12 17:38:03.473 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-12 17:38:03.477 -03:00 [DBG] Hosting started
2023-07-12 17:38:08.929 -03:00 [DBG] Config reload token fired. Checking for changes...
2023-07-12 17:38:09.192 -03:00 [DBG] Config reload token fired. Checking for changes...
2023-07-12 17:38:16.099 -03:00 [DBG] Hosting starting
2023-07-12 17:38:16.656 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-12 17:38:16.755 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-12 17:38:16.759 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-12 17:38:16.761 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-12 17:38:16.765 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-12 17:38:16.767 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-12 17:38:16.770 -03:00 [INF] Hosting environment: Local
2023-07-12 17:38:16.774 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-12 17:38:16.776 -03:00 [DBG] Hosting started
2023-07-12 17:39:02.373 -03:00 [DBG] Connection id "0HMS3303GLIJS" accepted.
2023-07-12 17:39:02.383 -03:00 [DBG] Connection id "0HMS3303GLIJS" started.
2023-07-12 17:39:02.476 -03:00 [DBG] Connection "0HMS3303GLIJS" established using the following protocol: "Tls12"
2023-07-12 17:39:02.533 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:39:02.553 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-12 17:39:02.571 -03:00 [DBG] POST requests are not supported
2023-07-12 17:39:02.622 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:39:02.631 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:39:02.636 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:39:02.648 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:39:02.651 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:39:02.655 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:39:02.668 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-12 17:39:02.720 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:39:02.726 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:39:02.732 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:39:02.738 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:39:02.742 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:39:02.746 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:39:02.750 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:39:02.754 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:39:02.773 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:39:02.780 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:39:02.785 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:39:02.800 -03:00 [DBG] Connection id "0HMS3303GLIJS", Request id "0HMS3303GLIJS:00000001": started reading request body.
2023-07-12 17:39:02.803 -03:00 [DBG] Connection id "0HMS3303GLIJS", Request id "0HMS3303GLIJS:00000001": done reading request body.
2023-07-12 17:39:02.809 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:39:02.814 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:39:02.817 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:39:02.819 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:39:02.824 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:39:02.832 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:39:02.836 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:39:02.839 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:39:02.841 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:39:03.084 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-12 17:39:03.896 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:39:03.919 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:39:04.036 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:39:04.153 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:39:04.163 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-12 17:39:04.168 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:39:04.183 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:39:04.194 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:39:04.223 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:39:04.232 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:39:04.237 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:39:04.544 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .SingleOrDefault(x => x.Id == __GetId_0 && x.PersonId == __request_PersonId_1 && x.Sigla == __request_Sigla_2)'
2023-07-12 17:39:04.732 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Almoxarifados>(
    asyncEnumerable: new SingleQueryingEnumerable<Almoxarifados>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Almoxarifados.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Almoxarifados.CreatedAt (DateTime) Required, 1], [Property: Almoxarifados.DescricaoAlmoxarifado (string) Required, 2], [Property: Almoxarifados.IsActive (bool) Required, 3], [Property: Almoxarifados.PersonId (Guid) Required FK Index, 4], [Property: Almoxarifados.Sigla (string) Required, 5], [Property: Almoxarifados.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.ID_PERSON, t.DS_SIGLA, t.UPDATED_AT
            FROM TB_ALMOXARIFADO AS t
            WHERE ((t.ID == @__GetId_0) && (t.ID_PERSON == @__request_PersonId_1)) && (t.DS_SIGLA == @__request_Sigla_2)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Almoxarifados>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 17:39:04.779 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:39:04.783 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-12 17:39:04.805 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:39:04.819 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:39:04.824 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:39:04.850 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:39:04.859 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:39:04.864 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:39:04.868 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:39:04.925 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:39:05.002 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:39:05.009 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:39:05.027 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:39:05.032 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:39:05.034 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:39:05.046 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 17:39:05.051 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:39:05.053 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:39:05.072 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:39:05.080 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:39:05.085 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 17:39:05.102 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 17:39:05.181 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:39:05.185 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:39:05.187 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:39:05.203 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:39:05.233 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:39:05.238 -03:00 [DBG] Committing transaction.
2023-07-12 17:39:05.248 -03:00 [DBG] Committed transaction.
2023-07-12 17:39:05.253 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:39:05.256 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:39:05.260 -03:00 [DBG] Disposing transaction.
2023-07-12 17:39:05.274 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:39:05.281 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 17:39:05.301 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 17:39:05.308 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 17:39:05.309 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 17:39:05.312 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 17:39:05.315 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 17:39:05.318 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 17:39:05.365 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 2610.7374ms
2023-07-12 17:39:05.370 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:39:05.383 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:39:05.389 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 201 - application/json;+charset=utf-8 2859.1738ms
2023-07-12 17:39:14.122 -03:00 [DBG] Connection id "0HMS3303GLIJS" received FIN.
2023-07-12 17:39:14.126 -03:00 [DBG] Connection id "0HMS3303GLIJS" is closed. The last processed stream ID was 1.
2023-07-12 17:39:14.130 -03:00 [DBG] Connection id "0HMS3303GLIJS" sending FIN because: "The client closed the connection."
2023-07-12 17:39:14.138 -03:00 [DBG] Connection id "0HMS3303GLIJS" stopped.
2023-07-12 17:45:51.541 -03:00 [DBG] Hosting starting
2023-07-12 17:45:52.154 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-12 17:45:52.274 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-12 17:45:52.277 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-12 17:45:52.282 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-12 17:45:52.288 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-12 17:45:52.294 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-12 17:45:52.446 -03:00 [INF] Hosting environment: Local
2023-07-12 17:45:52.468 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-12 17:45:52.477 -03:00 [DBG] Hosting started
2023-07-12 17:45:56.929 -03:00 [DBG] Connection id "0HMS333V25C9Q" accepted.
2023-07-12 17:45:56.934 -03:00 [DBG] Connection id "0HMS333V25C9Q" started.
2023-07-12 17:45:57.023 -03:00 [DBG] Connection "0HMS333V25C9Q" established using the following protocol: "Tls12"
2023-07-12 17:45:57.076 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:45:57.099 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-12 17:45:57.123 -03:00 [DBG] POST requests are not supported
2023-07-12 17:45:57.176 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:45:57.185 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:45:57.188 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:45:57.198 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:45:57.202 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:45:57.206 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:45:57.217 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-12 17:45:57.272 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:45:57.277 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:45:57.282 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:45:57.285 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:45:57.288 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:45:57.291 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:45:57.296 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:45:57.301 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:45:57.319 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:45:57.324 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:45:57.329 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:45:57.349 -03:00 [DBG] Connection id "0HMS333V25C9Q", Request id "0HMS333V25C9Q:00000001": started reading request body.
2023-07-12 17:45:57.352 -03:00 [DBG] Connection id "0HMS333V25C9Q", Request id "0HMS333V25C9Q:00000001": done reading request body.
2023-07-12 17:45:57.361 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:45:57.365 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:45:57.368 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:45:57.371 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:45:57.380 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:45:57.385 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:45:57.390 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:45:57.393 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:45:57.398 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:45:57.653 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-12 17:45:58.491 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:45:58.522 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:45:58.641 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:45:58.755 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:45:58.763 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 17:45:58.768 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:45:58.784 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:45:58.798 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:45:58.837 -03:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:45:58.844 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:45:58.849 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:45:59.164 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .SingleOrDefault(x => x.Id == __GetId_0 && x.PersonId == __request_PersonId_1 && x.Sigla == __request_Sigla_2)'
2023-07-12 17:45:59.346 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Almoxarifados>(
    asyncEnumerable: new SingleQueryingEnumerable<Almoxarifados>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Almoxarifados.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Almoxarifados.CreatedAt (DateTime) Required, 1], [Property: Almoxarifados.DescricaoAlmoxarifado (string) Required, 2], [Property: Almoxarifados.IsActive (bool) Required, 3], [Property: Almoxarifados.PersonId (Guid) Required FK Index, 4], [Property: Almoxarifados.Sigla (string) Required, 5], [Property: Almoxarifados.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.ID_PERSON, t.DS_SIGLA, t.UPDATED_AT
            FROM TB_ALMOXARIFADO AS t
            WHERE ((t.ID == @__GetId_0) && (t.ID_PERSON == @__request_PersonId_1)) && (t.DS_SIGLA == @__request_Sigla_2)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Almoxarifados>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 17:45:59.384 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:45:59.387 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:45:59.410 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:45:59.430 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:45:59.436 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:45:59.463 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:45:59.476 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:45:59.484 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:45:59.487 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:45:59.491 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.Id == __request_PersonId_0)'
2023-07-12 17:45:59.504 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_PERSON AS t
                WHERE t.ID == @__request_PersonId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 17:45:59.518 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:45:59.522 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:45:59.524 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:45:59.538 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:45:59.547 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:45:59.561 -03:00 [INF] Executed DbCommand (15ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:45:59.572 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:45:59.574 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:45:59.580 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:45:59.592 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 17:45:59.600 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 17:45:59.601 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 17:45:59.603 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 17:45:59.606 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 17:45:59.609 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 17:45:59.650 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 2347.5879ms
2023-07-12 17:45:59.656 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:45:59.671 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:45:59.682 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 404 - application/json;+charset=utf-8 2608.7253ms
2023-07-12 17:45:59.872 -03:00 [DBG] Connection id "0HMS333V25C9Q" received FIN.
2023-07-12 17:45:59.877 -03:00 [DBG] Connection id "0HMS333V25C9Q" is closed. The last processed stream ID was 1.
2023-07-12 17:45:59.881 -03:00 [DBG] Connection id "0HMS333V25C9Q" sending FIN because: "The client closed the connection."
2023-07-12 17:45:59.904 -03:00 [DBG] Connection id "0HMS333V25C9Q" stopped.
2023-07-12 17:54:41.819 -03:00 [DBG] Connection id "0HMS333V25C9R" accepted.
2023-07-12 17:54:41.848 -03:00 [DBG] Connection id "0HMS333V25C9R" started.
2023-07-12 17:54:41.895 -03:00 [DBG] Connection "0HMS333V25C9R" established using the following protocol: "Tls12"
2023-07-12 17:54:41.972 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:54:41.975 -03:00 [DBG] POST requests are not supported
2023-07-12 17:54:41.982 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:54:41.986 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:54:41.989 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:41.991 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:54:41.995 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:54:41.997 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:41.999 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:54:42.004 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:54:42.006 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:54:42.009 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:54:42.013 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:54:42.017 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:54:42.020 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:54:42.024 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:54:42.030 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:54:42.034 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:54:42.037 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:54:42.039 -03:00 [DBG] Connection id "0HMS333V25C9R", Request id "0HMS333V25C9R:00000001": started reading request body.
2023-07-12 17:54:42.042 -03:00 [DBG] Connection id "0HMS333V25C9R", Request id "0HMS333V25C9R:00000001": done reading request body.
2023-07-12 17:54:42.046 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:54:42.049 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:42.052 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:42.055 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:54:42.057 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:42.060 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:54:42.063 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:54:42.066 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:54:42.068 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:54:42.075 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:54:42.085 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:54:42.097 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:54:42.105 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:54:42.109 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 17:54:42.113 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.123 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.128 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:54:42.157 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:54:42.163 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.166 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.171 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:42.174 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:54:42.179 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.190 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.196 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:54:42.203 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:54:42.211 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:42.215 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.219 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.221 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:42.223 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 17:54:42.228 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.235 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.239 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:54:42.250 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:54:42.255 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:42.257 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.260 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.323 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:42.408 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:42.416 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:42.436 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:42.439 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:42.441 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:42.449 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 17:54:42.454 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:42.457 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:42.484 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.488 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.493 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 17:54:42.507 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 17:54:42.572 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:42.574 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:54:42.578 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:54:42.587 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:54:42.614 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:42.618 -03:00 [DBG] Committing transaction.
2023-07-12 17:54:42.624 -03:00 [DBG] Committed transaction.
2023-07-12 17:54:42.629 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.632 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:42.636 -03:00 [DBG] Disposing transaction.
2023-07-12 17:54:42.648 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:42.656 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 17:54:42.669 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 17:54:42.674 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 17:54:42.678 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 17:54:42.680 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 17:54:42.682 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 17:54:42.685 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 17:54:42.688 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 667.343ms
2023-07-12 17:54:42.690 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:42.695 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:54:42.698 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 201 - application/json;+charset=utf-8 726.8696ms
2023-07-12 17:54:44.306 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:54:44.310 -03:00 [DBG] POST requests are not supported
2023-07-12 17:54:44.314 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:54:44.318 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:54:44.322 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:44.326 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:54:44.332 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:54:44.335 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:44.339 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:54:44.347 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:54:44.352 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:54:44.355 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:54:44.358 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:54:44.361 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:54:44.368 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:54:44.372 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:54:44.374 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:54:44.378 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:54:44.383 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:54:44.386 -03:00 [DBG] Connection id "0HMS333V25C9R", Request id "0HMS333V25C9R:00000003": started reading request body.
2023-07-12 17:54:44.388 -03:00 [DBG] Connection id "0HMS333V25C9R", Request id "0HMS333V25C9R:00000003": done reading request body.
2023-07-12 17:54:44.390 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:54:44.393 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:44.397 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:44.400 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:54:44.403 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:44.406 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:54:44.408 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:54:44.412 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:54:44.416 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:54:44.467 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:54:44.477 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:54:44.486 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:54:44.490 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:54:44.493 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 17:54:44.497 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.501 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.503 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:54:44.508 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:54:44.514 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.517 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.522 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:44.526 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:54:44.532 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.538 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.543 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:54:44.551 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:54:44.557 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:44.559 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.564 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.568 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:44.571 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:54:44.574 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.584 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.588 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:54:44.595 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:54:44.601 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:44.604 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.607 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.612 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:44.617 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:44.620 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:44.622 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:44.624 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:44.626 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:44.630 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 17:54:44.633 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:44.635 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:44.637 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.641 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.645 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 17:54:44.651 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 17:54:44.656 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:44.659 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:54:44.666 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:54:44.671 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:54:44.676 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:44.681 -03:00 [DBG] Committing transaction.
2023-07-12 17:54:44.685 -03:00 [DBG] Committed transaction.
2023-07-12 17:54:44.687 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.689 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:44.691 -03:00 [DBG] Disposing transaction.
2023-07-12 17:54:44.693 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:44.699 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 17:54:44.702 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 17:54:44.705 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 17:54:44.707 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 17:54:44.708 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 17:54:44.710 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 17:54:44.717 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 17:54:44.720 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 351.9008ms
2023-07-12 17:54:44.722 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:44.725 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:54:44.732 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 201 - application/json;+charset=utf-8 425.9839ms
2023-07-12 17:54:47.084 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:54:47.086 -03:00 [DBG] POST requests are not supported
2023-07-12 17:54:47.108 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:54:47.111 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:54:47.118 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:47.120 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:54:47.122 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:54:47.124 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:47.126 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:54:47.132 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:54:47.135 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:54:47.137 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:54:47.140 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:54:47.143 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:54:47.147 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:54:47.152 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:54:47.154 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:54:47.157 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:54:47.160 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:54:47.165 -03:00 [DBG] Connection id "0HMS333V25C9R", Request id "0HMS333V25C9R:00000005": started reading request body.
2023-07-12 17:54:47.167 -03:00 [DBG] Connection id "0HMS333V25C9R", Request id "0HMS333V25C9R:00000005": done reading request body.
2023-07-12 17:54:47.170 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:54:47.172 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:47.174 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:47.177 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:54:47.181 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:47.184 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:54:47.187 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:54:47.189 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:54:47.192 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:54:47.197 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:54:47.201 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:54:47.207 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:54:47.214 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:54:47.218 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 17:54:47.221 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.223 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.226 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:54:47.233 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:54:47.237 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.239 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.243 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:47.247 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:54:47.249 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.253 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.258 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:54:47.265 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:54:47.270 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:47.272 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.275 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.278 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:47.281 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:54:47.284 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.288 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.292 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:54:47.300 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:54:47.305 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:47.307 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.309 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.313 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:47.316 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:47.320 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:47.322 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:47.324 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:47.327 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:47.330 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 17:54:47.333 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:47.336 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:47.338 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.342 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.345 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 17:54:47.350 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 17:54:47.353 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:47.355 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 17:54:47.357 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:54:47.363 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:54:47.368 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:47.369 -03:00 [DBG] Committing transaction.
2023-07-12 17:54:47.372 -03:00 [DBG] Committed transaction.
2023-07-12 17:54:47.374 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.376 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:47.379 -03:00 [DBG] Disposing transaction.
2023-07-12 17:54:47.382 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:47.386 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 17:54:47.389 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 17:54:47.392 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 17:54:47.394 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 17:54:47.396 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 17:54:47.398 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 17:54:47.401 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 17:54:47.404 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 256.1536ms
2023-07-12 17:54:47.407 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:47.409 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:54:47.412 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 201 - application/json;+charset=utf-8 327.9748ms
2023-07-12 17:54:47.918 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:54:47.921 -03:00 [DBG] POST requests are not supported
2023-07-12 17:54:47.923 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:54:47.933 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:54:47.938 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:47.941 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:54:47.944 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:54:47.948 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:47.953 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:54:47.957 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:54:47.960 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:54:47.964 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:54:47.968 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:54:47.970 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:54:47.973 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:54:47.976 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:54:47.978 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:54:47.983 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:54:47.986 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:54:47.991 -03:00 [DBG] Connection id "0HMS333V25C9R", Request id "0HMS333V25C9R:00000007": started reading request body.
2023-07-12 17:54:47.993 -03:00 [DBG] Connection id "0HMS333V25C9R", Request id "0HMS333V25C9R:00000007": done reading request body.
2023-07-12 17:54:47.997 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:54:47.999 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:48.001 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:48.004 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:54:48.007 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:48.009 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:54:48.011 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:54:48.015 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:54:48.017 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:54:48.022 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:54:48.025 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:54:48.032 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:54:48.037 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:54:48.040 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 17:54:48.043 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.047 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.051 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:54:48.057 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:54:48.062 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.066 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.069 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:48.071 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:54:48.074 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.078 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.084 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:54:48.088 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:54:48.092 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:48.094 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.098 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.101 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:48.103 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:54:48.105 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.116 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.120 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:54:48.125 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:54:48.132 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:48.135 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.138 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.141 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:48.147 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:48.150 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:48.152 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:48.155 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:48.157 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:48.160 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 17:54:48.163 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:48.167 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:48.169 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.173 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.182 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 17:54:48.187 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 17:54:48.192 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:48.195 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:54:48.199 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:54:48.204 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:54:48.210 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:48.212 -03:00 [DBG] Committing transaction.
2023-07-12 17:54:48.216 -03:00 [DBG] Committed transaction.
2023-07-12 17:54:48.219 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.221 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.224 -03:00 [DBG] Disposing transaction.
2023-07-12 17:54:48.226 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:48.230 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 17:54:48.233 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 17:54:48.236 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 17:54:48.238 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 17:54:48.240 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 17:54:48.242 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 17:54:48.244 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 17:54:48.248 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 274.4066ms
2023-07-12 17:54:48.251 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:48.253 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:54:48.256 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 201 - application/json;+charset=utf-8 337.2435ms
2023-07-12 17:54:48.547 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:54:48.557 -03:00 [DBG] POST requests are not supported
2023-07-12 17:54:48.561 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:54:48.566 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:54:48.571 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:48.573 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:54:48.575 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:54:48.577 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:48.579 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:54:48.586 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:54:48.588 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:54:48.591 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:54:48.594 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:54:48.599 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:54:48.603 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:54:48.606 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:54:48.608 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:54:48.611 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:54:48.615 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:54:48.617 -03:00 [DBG] Connection id "0HMS333V25C9R", Request id "0HMS333V25C9R:00000009": started reading request body.
2023-07-12 17:54:48.620 -03:00 [DBG] Connection id "0HMS333V25C9R", Request id "0HMS333V25C9R:00000009": done reading request body.
2023-07-12 17:54:48.622 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:54:48.624 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:48.627 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:48.631 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:54:48.634 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:48.637 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:54:48.639 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:54:48.642 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:54:48.644 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:54:48.649 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:54:48.652 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:54:48.658 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:54:48.665 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:54:48.668 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 17:54:48.671 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.675 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.678 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:54:48.684 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:54:48.688 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.690 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.694 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:48.699 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-07-12 17:54:48.701 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.706 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.710 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:54:48.717 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:54:48.724 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:48.727 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.730 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.734 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:48.736 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:54:48.740 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.745 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.748 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:54:48.756 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:54:48.760 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:48.761 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.764 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.767 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:48.771 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:48.775 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:48.778 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:48.782 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:48.786 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:48.789 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 17:54:48.791 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:48.793 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:48.795 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.801 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.804 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 17:54:48.808 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 17:54:48.811 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:48.814 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 17:54:48.820 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:54:48.825 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:54:48.834 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:48.837 -03:00 [DBG] Committing transaction.
2023-07-12 17:54:48.839 -03:00 [DBG] Committed transaction.
2023-07-12 17:54:48.841 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.843 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:48.846 -03:00 [DBG] Disposing transaction.
2023-07-12 17:54:48.849 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:48.854 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 17:54:48.857 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 17:54:48.861 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 17:54:48.865 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 17:54:48.868 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 17:54:48.870 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 17:54:48.872 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 17:54:48.875 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 271.8164ms
2023-07-12 17:54:48.878 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:48.882 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:54:48.886 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 201 - application/json;+charset=utf-8 338.4986ms
2023-07-12 17:54:49.025 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:54:49.027 -03:00 [DBG] POST requests are not supported
2023-07-12 17:54:49.031 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:54:49.036 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:54:49.041 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:49.043 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:54:49.045 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:54:49.049 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:49.051 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:54:49.055 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:54:49.058 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:54:49.061 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:54:49.066 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:54:49.070 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:54:49.072 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:54:49.075 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:54:49.077 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:54:49.081 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:54:49.085 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:54:49.088 -03:00 [DBG] Connection id "0HMS333V25C9R", Request id "0HMS333V25C9R:0000000B": started reading request body.
2023-07-12 17:54:49.090 -03:00 [DBG] Connection id "0HMS333V25C9R", Request id "0HMS333V25C9R:0000000B": done reading request body.
2023-07-12 17:54:49.093 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:54:49.095 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:49.099 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:49.102 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:54:49.104 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:54:49.106 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:54:49.109 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:54:49.111 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:54:49.115 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:54:49.118 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:54:49.122 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:54:49.127 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:54:49.131 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:54:49.135 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 17:54:49.139 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.142 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.145 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:54:49.152 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:54:49.156 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.158 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.161 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:49.166 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-12 17:54:49.168 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.172 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.176 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:54:49.183 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:54:49.189 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:49.190 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.193 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.198 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:49.200 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:54:49.203 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.208 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.213 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:54:49.218 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-12 17:54:49.222 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:49.223 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.226 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.229 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:49.233 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:49.235 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:49.237 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:49.239 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:49.243 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:49.247 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 17:54:49.250 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 17:54:49.252 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 17:54:49.255 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.260 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.264 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 17:54:49.269 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 17:54:49.272 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:54:49.275 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:54:49.278 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:54:49.284 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 17:54:49.290 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:54:49.292 -03:00 [DBG] Committing transaction.
2023-07-12 17:54:49.295 -03:00 [DBG] Committed transaction.
2023-07-12 17:54:49.298 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.300 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:54:49.303 -03:00 [DBG] Disposing transaction.
2023-07-12 17:54:49.305 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 17:54:49.315 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 17:54:49.318 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 17:54:49.322 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 17:54:49.324 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 17:54:49.326 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 17:54:49.327 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 17:54:49.330 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 17:54:49.334 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 261.883ms
2023-07-12 17:54:49.338 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:54:49.348 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:54:49.373 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 201 - application/json;+charset=utf-8 348.1827ms
2023-07-12 17:54:51.675 -03:00 [DBG] Connection id "0HMS333V25C9R" received FIN.
2023-07-12 17:54:51.679 -03:00 [DBG] Connection id "0HMS333V25C9R" is closed. The last processed stream ID was 11.
2023-07-12 17:54:51.685 -03:00 [DBG] Connection id "0HMS333V25C9R" sending FIN because: "The client closed the connection."
2023-07-12 17:54:51.705 -03:00 [DBG] Connection id "0HMS333V25C9R" stopped.
2023-07-12 17:56:31.297 -03:00 [DBG] Hosting starting
2023-07-12 17:56:31.929 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-12 17:56:32.042 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-12 17:56:32.045 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-12 17:56:32.048 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-12 17:56:32.050 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-12 17:56:32.052 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-12 17:56:32.054 -03:00 [INF] Hosting environment: Local
2023-07-12 17:56:32.055 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-12 17:56:32.058 -03:00 [DBG] Hosting started
2023-07-12 17:56:32.163 -03:00 [DBG] Connection id "0HMS339SC7J5U" accepted.
2023-07-12 17:56:32.171 -03:00 [DBG] Connection id "0HMS339SC7J5U" started.
2023-07-12 17:56:32.187 -03:00 [DBG] Connection id "0HMS339SC7J5V" accepted.
2023-07-12 17:56:32.191 -03:00 [DBG] Connection id "0HMS339SC7J5V" started.
2023-07-12 17:56:32.283 -03:00 [DBG] Connection id "0HMS339SC7J5U" received FIN.
2023-07-12 17:56:32.301 -03:00 [DBG] Connection "0HMS339SC7J5V" established using the following protocol: "Tls12"
2023-07-12 17:56:32.301 -03:00 [DBG] Connection "0HMS339SC7J5U" established using the following protocol: "Tls12"
2023-07-12 17:56:32.324 -03:00 [DBG] Connection id "0HMS339SC7J5U" is closed. The last processed stream ID was 0.
2023-07-12 17:56:32.331 -03:00 [DBG] Connection id "0HMS339SC7J5U" sending FIN because: "The client closed the connection."
2023-07-12 17:56:32.340 -03:00 [DBG] Connection id "0HMS339SC7J5U" stopped.
2023-07-12 17:56:32.374 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 17:56:32.398 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-12 17:56:32.416 -03:00 [DBG] POST requests are not supported
2023-07-12 17:56:32.462 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:56:32.474 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 17:56:32.479 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:56:32.488 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 17:56:32.490 -03:00 [INF] CORS policy execution successful.
2023-07-12 17:56:32.496 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:56:32.507 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-12 17:56:32.568 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 17:56:32.573 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 17:56:32.578 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 17:56:32.582 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 17:56:32.587 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 17:56:32.590 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 17:56:32.595 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:56:32.599 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 17:56:32.621 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:56:32.629 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 17:56:32.635 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 17:56:32.654 -03:00 [DBG] Connection id "0HMS339SC7J5V", Request id "0HMS339SC7J5V:00000001": started reading request body.
2023-07-12 17:56:32.657 -03:00 [DBG] Connection id "0HMS339SC7J5V", Request id "0HMS339SC7J5V:00000001": done reading request body.
2023-07-12 17:56:32.668 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 17:56:32.671 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:56:32.674 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:56:32.680 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 17:56:32.685 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 17:56:32.689 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:56:32.691 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:56:32.695 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 17:56:32.698 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 17:56:32.929 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-12 17:56:33.721 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 17:56:33.741 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 17:56:33.879 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 17:56:33.968 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 17:56:33.972 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-12 17:56:33.975 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:56:33.990 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:56:34.002 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:56:34.037 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 17:56:34.045 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:56:34.052 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:56:34.342 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .SingleOrDefault(x => x.Id == __GetId_0 && x.PersonId == __request_PersonId_1 && x.Sigla == __request_Sigla_2)'
2023-07-12 17:56:34.530 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Almoxarifados>(
    asyncEnumerable: new SingleQueryingEnumerable<Almoxarifados>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Almoxarifados.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Almoxarifados.CreatedAt (DateTime) Required, 1], [Property: Almoxarifados.DescricaoAlmoxarifado (string) Required, 2], [Property: Almoxarifados.IsActive (bool) Required, 3], [Property: Almoxarifados.PersonId (Guid) Required FK Index, 4], [Property: Almoxarifados.Sigla (string) Required, 5], [Property: Almoxarifados.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.ID_PERSON, t.DS_SIGLA, t.UPDATED_AT
            FROM TB_ALMOXARIFADO AS t
            WHERE ((t.ID == @__GetId_0) && (t.ID_PERSON == @__request_PersonId_1)) && (t.DS_SIGLA == @__request_Sigla_2)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Almoxarifados>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 17:56:34.569 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 17:56:34.572 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 17:56:34.595 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:56:34.607 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:56:34.614 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:56:34.640 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid), @__request_Sigla_2='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE ((`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)) AND (`t`.`DS_SIGLA` = @__request_Sigla_2)
LIMIT 2
2023-07-12 17:56:34.651 -03:00 [DBG] A data reader was disposed.
2023-07-12 17:56:34.656 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:56:34.659 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 17:56:58.443 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 25844.3505ms
2023-07-12 17:56:58.510 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 17:56:58.560 -03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Concent.Athena.Application.Commands.AlmoxarifadosCommands.CreateAlmoxarifadosCommand.BeforeChanges(CreateAlmoxarifadosRequest request) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Commands\AlmoxarifadosCommands\CreateAlmoxarifadosCommand.cs:line 32
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 48
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 17:56:58.680 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 17:56:58.686 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 26314.8773ms
2023-07-12 17:57:01.873 -03:00 [DBG] Connection id "0HMS339SC7J5V" received FIN.
2023-07-12 17:57:01.878 -03:00 [DBG] Connection id "0HMS339SC7J5V" is closed. The last processed stream ID was 1.
2023-07-12 17:57:01.880 -03:00 [DBG] Connection id "0HMS339SC7J5V" sending FIN because: "The client closed the connection."
2023-07-12 17:57:01.887 -03:00 [DBG] Connection id "0HMS339SC7J5V" stopped.
