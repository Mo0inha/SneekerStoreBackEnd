2023-07-12 15:00:00.032 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Field 'TenantId' doesn't have a default value
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Field 'TenantId' doesn't have a default value
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-12 15:00:00.386 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API) in 2811.6641ms
2023-07-12 15:00:00.394 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:00:00.415 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Field 'TenantId' doesn't have a default value
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create(CreateUnidadeMedidaRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\UnidadeMedidaController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 15:00:00.517 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:00:00.527 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/unidademedida application/json 104 - 500 - text/plain 3177.7791ms
2023-07-12 15:00:08.950 -03:00 [DBG] Connection id "0HMS3076QKRGD" received FIN.
2023-07-12 15:00:08.954 -03:00 [DBG] Connection id "0HMS3076QKRGD" is closed. The last processed stream ID was 1.
2023-07-12 15:00:08.957 -03:00 [DBG] Connection id "0HMS3076QKRGD" sending FIN because: "The client closed the connection."
2023-07-12 15:00:08.963 -03:00 [DBG] Connection id "0HMS3076QKRGD" stopped.
2023-07-12 15:00:45.268 -03:00 [DBG] Connection id "0HMS3076QKRGE" accepted.
2023-07-12 15:00:45.270 -03:00 [DBG] Connection id "0HMS3076QKRGE" started.
2023-07-12 15:00:45.282 -03:00 [DBG] Connection "0HMS3076QKRGE" established using the following protocol: "Tls12"
2023-07-12 15:00:45.293 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/unidademedida application/json 104
2023-07-12 15:00:45.299 -03:00 [DBG] POST requests are not supported
2023-07-12 15:00:45.306 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:00:45.309 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:00:45.312 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:00:45.316 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:00:45.318 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:00:45.319 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:00:45.321 -03:00 [INF] Route matched with {action = "Create", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-12 15:00:45.326 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:00:45.328 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:00:45.332 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:00:45.335 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:00:45.338 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:00:45.341 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:00:45.344 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:00:45.350 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' ...
2023-07-12 15:00:45.353 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' using the name '' in request data ...
2023-07-12 15:00:45.357 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:00:45.361 -03:00 [DBG] Connection id "0HMS3076QKRGE", Request id "0HMS3076QKRGE:00000001": started reading request body.
2023-07-12 15:00:45.364 -03:00 [DBG] Connection id "0HMS3076QKRGE", Request id "0HMS3076QKRGE:00000001": done reading request body.
2023-07-12 15:00:45.366 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'
2023-07-12 15:00:45.368 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-12 15:00:45.371 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-12 15:00:45.373 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' ...
2023-07-12 15:00:45.376 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-12 15:00:45.378 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:00:45.382 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:00:45.384 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:00:45.387 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:00:45.391 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:00:45.396 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:00:45.402 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:00:45.424 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:00:45.429 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:00:45.434 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:00:45.438 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:00:45.440 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:45.442 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-12 15:00:45.444 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE `Athenadb`;
2023-07-12 15:00:45.453 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE `Athenadb`;
2023-07-12 15:00:45.457 -03:00 [DBG] Committing transaction.
2023-07-12 15:00:45.461 -03:00 [DBG] Committed transaction.
2023-07-12 15:00:45.464 -03:00 [DBG] Disposing transaction.
2023-07-12 15:00:45.467 -03:00 [DBG] Closing connection to database '' on server 'localhost'.
2023-07-12 15:00:45.470 -03:00 [DBG] Closed connection to database '' on server 'localhost'.
2023-07-12 15:00:45.474 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:00:45.479 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:00:45.598 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:00:45.601 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:00:45.628 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:00:45.637 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:00:45.641 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:00:45.643 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:00:45.645 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:45.648 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:45.653 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2023-07-12 15:00:45.660 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2023-07-12 15:00:45.666 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:45.669 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-12 15:00:45.673 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ADDRESS` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_STREET` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_CITY` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_STATE` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_POSTAL_CODE` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_COUNTRY` varchar(400) CHARACTER SET utf8mb4 NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_ADDRESS` PRIMARY KEY (`ID`)
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.698 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ADDRESS` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_STREET` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_CITY` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_STATE` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_POSTAL_CODE` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_COUNTRY` varchar(400) CHARACTER SET utf8mb4 NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_ADDRESS` PRIMARY KEY (`ID`)
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.704 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:45.706 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-12 15:00:45.709 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_PERSON` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_PERSON_NAME` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_CPF` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_PERSON` PRIMARY KEY (`ID`)
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.730 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_PERSON` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_PERSON_NAME` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_CPF` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_PERSON` PRIMARY KEY (`ID`)
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.737 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:45.740 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-12 15:00:45.743 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_UNIDADE_MEDIDA` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_UNIDADE_MEDIDA` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_DESCRICAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_OBSERVACAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_UNIDADE_MEDIDA` PRIMARY KEY (`ID`)
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.767 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_UNIDADE_MEDIDA` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_UNIDADE_MEDIDA` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_DESCRICAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_OBSERVACAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_UNIDADE_MEDIDA` PRIMARY KEY (`ID`)
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.773 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:45.775 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:45.777 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_TENANT` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `NM_NAME` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ST_TYPE_TENANT` tinyint NOT NULL,
    `DS_CODE` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_PHONE` varchar(400) CHARACTER SET utf8mb4 NULL,
    `ID_ADDRESS` char(36) COLLATE ascii_general_ci NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_TENANT` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_TENANT_TB_ADDRESS_ID_ADDRESS` FOREIGN KEY (`ID_ADDRESS`) REFERENCES `TB_ADDRESS` (`ID`) ON DELETE RESTRICT
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.802 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_TENANT` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `NM_NAME` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ST_TYPE_TENANT` tinyint NOT NULL,
    `DS_CODE` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_PHONE` varchar(400) CHARACTER SET utf8mb4 NULL,
    `ID_ADDRESS` char(36) COLLATE ascii_general_ci NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_TENANT` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_TENANT_TB_ADDRESS_ID_ADDRESS` FOREIGN KEY (`ID_ADDRESS`) REFERENCES `TB_ADDRESS` (`ID`) ON DELETE RESTRICT
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.808 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:45.810 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-12 15:00:45.812 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ALMOXARIFADO` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_DESCRICAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_SIGLA` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_ALMOXARIFADO` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.838 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ALMOXARIFADO` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_DESCRICAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_SIGLA` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_ALMOXARIFADO` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.843 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:45.845 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-12 15:00:45.848 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_USER` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_USER_LOGIN` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_USER_PASSWORD` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_SALT` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `IE_ISLOGED` tinyint(1) NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_USER` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_USER_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.878 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_USER` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_USER_LOGIN` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_USER_PASSWORD` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_SALT` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `IE_ISLOGED` tinyint(1) NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_USER` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_USER_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.887 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:45.889 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:45.892 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ACCOUNT` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_BANKCODE` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `NR_ACCOUNT_NUMBER` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `NR_BRANCH` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ST_TYPE_ACCOUNT` tinyint NOT NULL,
    `DT_OPEN_DATE` datetime(6) NOT NULL,
    `CloseDate` datetime(6) NOT NULL,
    `NR_OPENING_BALANCE` decimal(65,30) NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    `TenantId` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TB_ACCOUNT` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ACCOUNT_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_TB_TENANT_TenantId` FOREIGN KEY (`TenantId`) REFERENCES `TB_TENANT` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.927 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ACCOUNT` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_BANKCODE` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `NR_ACCOUNT_NUMBER` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `NR_BRANCH` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ST_TYPE_ACCOUNT` tinyint NOT NULL,
    `DT_OPEN_DATE` datetime(6) NOT NULL,
    `CloseDate` datetime(6) NOT NULL,
    `NR_OPENING_BALANCE` decimal(65,30) NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    `TenantId` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TB_ACCOUNT` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ACCOUNT_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_TB_TENANT_TenantId` FOREIGN KEY (`TenantId`) REFERENCES `TB_TENANT` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.935 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:45.937 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:45.942 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_INCOME_EXPENSES` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `NM_NAME` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ST_TYPE` tinyint NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    `ID_TENANT` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TB_INCOME_EXPENSES` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_INCOME_EXPENSES_TB_TENANT_ID_TENANT` FOREIGN KEY (`ID_TENANT`) REFERENCES `TB_TENANT` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.972 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_INCOME_EXPENSES` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `NM_NAME` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ST_TYPE` tinyint NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    `ID_TENANT` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TB_INCOME_EXPENSES` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_INCOME_EXPENSES_TB_TENANT_ID_TENANT` FOREIGN KEY (`ID_TENANT`) REFERENCES `TB_TENANT` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-12 15:00:45.978 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:45.982 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-12 15:00:45.986 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_Produtos` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `NomeProduto` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_DESCRICAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_PESO_LIQUIDO` float NOT NULL,
    `DS_PESO_BRUTO` float NOT NULL,
    `ID_UNIDADE_MEDIDA` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_ALMOXARIFADOS` char(36) COLLATE ascii_general_ci NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_Produtos` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_Produtos_TB_ALMOXARIFADO_ID_ALMOXARIFADOS` FOREIGN KEY (`ID_ALMOXARIFADOS`) REFERENCES `TB_ALMOXARIFADO` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_Produtos_TB_UNIDADE_MEDIDA_ID_UNIDADE_MEDIDA` FOREIGN KEY (`ID_UNIDADE_MEDIDA`) REFERENCES `TB_UNIDADE_MEDIDA` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-12 15:00:46.016 -03:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_Produtos` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `NomeProduto` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_DESCRICAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_PESO_LIQUIDO` float NOT NULL,
    `DS_PESO_BRUTO` float NOT NULL,
    `ID_UNIDADE_MEDIDA` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_ALMOXARIFADOS` char(36) COLLATE ascii_general_ci NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_Produtos` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_Produtos_TB_ALMOXARIFADO_ID_ALMOXARIFADOS` FOREIGN KEY (`ID_ALMOXARIFADOS`) REFERENCES `TB_ALMOXARIFADO` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_Produtos_TB_UNIDADE_MEDIDA_ID_UNIDADE_MEDIDA` FOREIGN KEY (`ID_UNIDADE_MEDIDA`) REFERENCES `TB_UNIDADE_MEDIDA` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-12 15:00:46.022 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.025 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:46.028 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ACCOUNT_MOVES` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_TYPE_INCOME_EXPENSES` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_ACCOUNT` char(36) COLLATE ascii_general_ci NOT NULL,
    `NR_VALUE` decimal(65,30) NOT NULL,
    `DS_DESCRIPTION` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    `ID_TENANT` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TB_ACCOUNT_MOVES` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_ACCOUNT_ID_ACCOUNT` FOREIGN KEY (`ID_ACCOUNT`) REFERENCES `TB_ACCOUNT` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_INCOME_EXPENSES_ID_TYPE_INCOME_EXPENSES` FOREIGN KEY (`ID_TYPE_INCOME_EXPENSES`) REFERENCES `TB_INCOME_EXPENSES` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_TENANT_ID_TENANT` FOREIGN KEY (`ID_TENANT`) REFERENCES `TB_TENANT` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-12 15:00:46.068 -03:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ACCOUNT_MOVES` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_TYPE_INCOME_EXPENSES` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_ACCOUNT` char(36) COLLATE ascii_general_ci NOT NULL,
    `NR_VALUE` decimal(65,30) NOT NULL,
    `DS_DESCRIPTION` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    `ID_TENANT` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TB_ACCOUNT_MOVES` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_ACCOUNT_ID_ACCOUNT` FOREIGN KEY (`ID_ACCOUNT`) REFERENCES `TB_ACCOUNT` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_INCOME_EXPENSES_ID_TYPE_INCOME_EXPENSES` FOREIGN KEY (`ID_TYPE_INCOME_EXPENSES`) REFERENCES `TB_INCOME_EXPENSES` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_TENANT_ID_TENANT` FOREIGN KEY (`ID_TENANT`) REFERENCES `TB_TENANT` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-12 15:00:46.073 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.075 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:46.078 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_ID_PERSON` ON `TB_ACCOUNT` (`ID_PERSON`);
2023-07-12 15:00:46.104 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_ID_PERSON` ON `TB_ACCOUNT` (`ID_PERSON`);
2023-07-12 15:00:46.109 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.111 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:46.116 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_TenantId` ON `TB_ACCOUNT` (`TenantId`);
2023-07-12 15:00:46.142 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_TenantId` ON `TB_ACCOUNT` (`TenantId`);
2023-07-12 15:00:46.147 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.149 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-12 15:00:46.152 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_ACCOUNT` ON `TB_ACCOUNT_MOVES` (`ID_ACCOUNT`);
2023-07-12 15:00:46.174 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_ACCOUNT` ON `TB_ACCOUNT_MOVES` (`ID_ACCOUNT`);
2023-07-12 15:00:46.178 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.182 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-12 15:00:46.184 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_PERSON` ON `TB_ACCOUNT_MOVES` (`ID_PERSON`);
2023-07-12 15:00:46.203 -03:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_PERSON` ON `TB_ACCOUNT_MOVES` (`ID_PERSON`);
2023-07-12 15:00:46.208 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.211 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:46.214 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_TENANT` ON `TB_ACCOUNT_MOVES` (`ID_TENANT`);
2023-07-12 15:00:46.231 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_TENANT` ON `TB_ACCOUNT_MOVES` (`ID_TENANT`);
2023-07-12 15:00:46.237 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.239 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:46.242 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_TYPE_INCOME_EXPENSES` ON `TB_ACCOUNT_MOVES` (`ID_TYPE_INCOME_EXPENSES`);
2023-07-12 15:00:46.264 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_TYPE_INCOME_EXPENSES` ON `TB_ACCOUNT_MOVES` (`ID_TYPE_INCOME_EXPENSES`);
2023-07-12 15:00:46.269 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.271 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:46.275 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ALMOXARIFADO_ID_PERSON` ON `TB_ALMOXARIFADO` (`ID_PERSON`);
2023-07-12 15:00:46.298 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ALMOXARIFADO_ID_PERSON` ON `TB_ALMOXARIFADO` (`ID_PERSON`);
2023-07-12 15:00:46.302 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.305 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:46.308 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_INCOME_EXPENSES_ID_TENANT` ON `TB_INCOME_EXPENSES` (`ID_TENANT`);
2023-07-12 15:00:46.335 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_INCOME_EXPENSES_ID_TENANT` ON `TB_INCOME_EXPENSES` (`ID_TENANT`);
2023-07-12 15:00:46.340 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.344 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2023-07-12 15:00:46.348 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_Produtos_ID_ALMOXARIFADOS` ON `TB_Produtos` (`ID_ALMOXARIFADOS`);
2023-07-12 15:00:46.372 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_Produtos_ID_ALMOXARIFADOS` ON `TB_Produtos` (`ID_ALMOXARIFADOS`);
2023-07-12 15:00:46.385 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.387 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:46.391 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_Produtos_ID_UNIDADE_MEDIDA` ON `TB_Produtos` (`ID_UNIDADE_MEDIDA`);
2023-07-12 15:00:46.404 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_Produtos_ID_UNIDADE_MEDIDA` ON `TB_Produtos` (`ID_UNIDADE_MEDIDA`);
2023-07-12 15:00:46.408 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.410 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-12 15:00:46.413 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_TENANT_ID_ADDRESS` ON `TB_TENANT` (`ID_ADDRESS`);
2023-07-12 15:00:46.442 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_TENANT_ID_ADDRESS` ON `TB_TENANT` (`ID_ADDRESS`);
2023-07-12 15:00:46.446 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-12 15:00:46.449 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-12 15:00:46.452 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `IX_TB_USER_ID_PERSON` ON `TB_USER` (`ID_PERSON`);
2023-07-12 15:00:46.466 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `IX_TB_USER_ID_PERSON` ON `TB_USER` (`ID_PERSON`);
2023-07-12 15:00:46.470 -03:00 [DBG] Committing transaction.
2023-07-12 15:00:46.472 -03:00 [DBG] Committed transaction.
2023-07-12 15:00:46.474 -03:00 [DBG] Disposing transaction.
2023-07-12 15:00:46.476 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:00:46.478 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:00:46.485 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:00:46.487 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 15:00:46.490 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:00:46.503 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:00:46.507 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`DS_UNIDADE_MEDIDA` = @__request_NomeUnidadeMedida_0)
2023-07-12 15:00:46.519 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`DS_UNIDADE_MEDIDA` = @__request_NomeUnidadeMedida_0)
2023-07-12 15:00:46.524 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:00:46.526 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:00:46.529 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:00:46.533 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.UnidadeMedida'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:00:46.536 -03:00 [DBG] Context 'AthenaContext' started tracking 'UnidadeMedida' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:00:46.539 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:00:46.541 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:00:46.543 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:00:46.545 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:00:46.550 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:00:46.554 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:00:46.558 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:00:46.561 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:00:46.566 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:00:46.569 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:00:46.581 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:00:46.584 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:00:46.586 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:00:46.590 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (Size = 400), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_UNIDADE_MEDIDA` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `DS_UNIDADE_MEDIDA`, `DS_OBSERVACAO`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:00:46.602 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (Size = 400), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_UNIDADE_MEDIDA` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `DS_UNIDADE_MEDIDA`, `DS_OBSERVACAO`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:00:46.628 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:00:46.632 -03:00 [DBG] Committing transaction.
2023-07-12 15:00:46.637 -03:00 [DBG] Committed transaction.
2023-07-12 15:00:46.639 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:00:46.641 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:00:46.644 -03:00 [DBG] Disposing transaction.
2023-07-12 15:00:46.656 -03:00 [DBG] An entity of type 'UnidadeMedida' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:00:46.660 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:00:46.674 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:00:46.679 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:00:46.683 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:00:46.685 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:00:46.687 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:00:46.690 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.CreateUnidadeMedidaResponse'.
2023-07-12 15:00:46.721 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API) in 1380.2077ms
2023-07-12 15:00:46.725 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:00:46.728 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:00:46.742 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/unidademedida application/json 104 - 201 - application/json;+charset=utf-8 1448.7495ms
2023-07-12 15:00:49.017 -03:00 [DBG] Connection id "0HMS3076QKRGE" received FIN.
2023-07-12 15:00:49.021 -03:00 [DBG] Connection id "0HMS3076QKRGE" is closed. The last processed stream ID was 1.
2023-07-12 15:00:49.026 -03:00 [DBG] Connection id "0HMS3076QKRGE" sending FIN because: "The client closed the connection."
2023-07-12 15:00:49.032 -03:00 [DBG] Connection id "0HMS3076QKRGE" stopped.
2023-07-12 15:01:50.679 -03:00 [DBG] Connection id "0HMS3076QKRGF" accepted.
2023-07-12 15:01:50.715 -03:00 [DBG] Connection id "0HMS3076QKRGF" started.
2023-07-12 15:01:50.734 -03:00 [DBG] Connection "0HMS3076QKRGF" established using the following protocol: "Tls12"
2023-07-12 15:01:50.745 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida - -
2023-07-12 15:01:50.750 -03:00 [DBG] The request path  does not match the path filter
2023-07-12 15:01:50.753 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:01:50.756 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:01:50.763 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:01:50.766 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:01:50.774 -03:00 [INF] Route matched with {action = "GetAll", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-12 15:01:50.780 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:01:50.783 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:01:50.786 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:01:50.790 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:01:50.795 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:01:50.798 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:01:50.801 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:01:50.804 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-12 15:01:50.807 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' using the name '' in request data ...
2023-07-12 15:01:50.811 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-12 15:01:50.814 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-12 15:01:50.817 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-12 15:01:50.819 -03:00 [DBG] Attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-12 15:01:50.822 -03:00 [DBG] Done attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-12 15:01:50.825 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:01:50.829 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:01:50.832 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:01:50.834 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:01:50.894 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:01:50.903 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:01:50.909 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:01:50.913 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:01:50.915 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:01:50.917 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:01:50.920 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:01:50.922 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:01:50.928 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:01:50.932 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:01:50.934 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:01:50.949 -03:00 [DBG] Compiling query expression: 
'DbSet<UnidadeMedida>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
    )
    .Select(x => new { 
        Id = x.Id, 
        NomeUnidadeMedida = x.NomeUnidadeMedida
     })'
2023-07-12 15:01:50.973 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType15<Guid, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            NomeUnidadeMedida -> 1
        SELECT t.ID AS Id, t.DS_UNIDADE_MEDIDA AS NomeUnidadeMedida
        FROM TB_UNIDADE_MEDIDA AS t
        WHERE TRUE && t.ST_ACTIVE), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType15<Guid, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-12 15:01:50.982 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:01:50.985 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:01:50.987 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:01:50.990 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:01:50.994 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:01:50.999 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:01:51.005 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:01:51.007 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:01:51.010 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:01:51.034 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:01:51.038 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:01:51.039 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:01:51.041 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:01:51.044 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:01:51.047 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.GetUnidadeMedidaResponse'.
2023-07-12 15:01:51.058 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API) in 259.9125ms
2023-07-12 15:01:51.062 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:01:51.065 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:01:51.068 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida - - - 200 - application/json;+charset=utf-8 327.1846ms
2023-07-12 15:01:59.129 -03:00 [DBG] Connection id "0HMS3076QKRGF" received FIN.
2023-07-12 15:01:59.133 -03:00 [DBG] Connection id "0HMS3076QKRGF" is closed. The last processed stream ID was 1.
2023-07-12 15:01:59.135 -03:00 [DBG] Connection id "0HMS3076QKRGF" sending FIN because: "The client closed the connection."
2023-07-12 15:01:59.145 -03:00 [DBG] Connection id "0HMS3076QKRGF" stopped.
2023-07-12 15:02:25.405 -03:00 [DBG] Connection id "0HMS3076QKRGG" accepted.
2023-07-12 15:02:25.409 -03:00 [DBG] Connection id "0HMS3076QKRGG" started.
2023-07-12 15:02:25.426 -03:00 [DBG] Connection "0HMS3076QKRGG" established using the following protocol: "Tls12"
2023-07-12 15:02:25.431 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:5004/api/v1/tenant/unidademedida/08db8301-eb15-4c79-8453-86be500fb068 application/json 104
2023-07-12 15:02:25.434 -03:00 [DBG] PUT requests are not supported
2023-07-12 15:02:25.438 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida/08db8301-eb15-4c79-8453-86be500fb068'
2023-07-12 15:02:25.442 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Update (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida/{id}' is valid for the request path '/api/v1/tenant/unidademedida/08db8301-eb15-4c79-8453-86be500fb068'
2023-07-12 15:02:25.446 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Update (Concent.Athena.Services.API)'
2023-07-12 15:02:25.448 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:02:25.450 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:02:25.451 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Update (Concent.Athena.Services.API)'
2023-07-12 15:02:25.456 -03:00 [INF] Route matched with {action = "Update", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-12 15:02:25.462 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:02:25.465 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:02:25.468 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:02:25.472 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:02:25.474 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:02:25.478 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:02:25.480 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:02:25.483 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-12 15:02:25.485 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-12 15:02:25.488 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:02:25.491 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:02:25.494 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-12 15:02:25.497 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-12 15:02:25.500 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest' ...
2023-07-12 15:02:25.502 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest' using the name '' in request data ...
2023-07-12 15:02:25.505 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:02:25.508 -03:00 [DBG] Connection id "0HMS3076QKRGG", Request id "0HMS3076QKRGG:00000001": started reading request body.
2023-07-12 15:02:25.511 -03:00 [DBG] Connection id "0HMS3076QKRGG", Request id "0HMS3076QKRGG:00000001": done reading request body.
2023-07-12 15:02:25.515 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest'
2023-07-12 15:02:25.517 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest'.
2023-07-12 15:02:25.519 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest'.
2023-07-12 15:02:25.522 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest' ...
2023-07-12 15:02:25.525 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest'.
2023-07-12 15:02:25.529 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:02:25.531 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:02:25.534 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:02:25.536 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:02:25.540 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:02:25.546 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:02:25.551 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:02:25.556 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:02:25.560 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 15:02:25.563 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:02:25.565 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:02:25.568 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:02:25.572 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:02:25.577 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:02:25.580 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:02:25.586 -03:00 [DBG] Compiling query expression: 
'DbSet<UnidadeMedida>()
    .SingleOrDefault(x => x.Id == __GetId_0)'
2023-07-12 15:02:25.622 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UnidadeMedida>(
    asyncEnumerable: new SingleQueryingEnumerable<UnidadeMedida>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UnidadeMedida.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UnidadeMedida.CreatedAt (DateTime) Required, 1], [Property: UnidadeMedida.DescricaoUnidadeMedida (string) Required, 2], [Property: UnidadeMedida.IsActive (bool) Required, 3], [Property: UnidadeMedida.NomeUnidadeMedida (string) Required, 4], [Property: UnidadeMedida.Observação (string) Required, 5], [Property: UnidadeMedida.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.DS_UNIDADE_MEDIDA, t.DS_OBSERVACAO, t.UPDATED_AT
            FROM TB_UNIDADE_MEDIDA AS t
            WHERE t.ID == @__GetId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UnidadeMedida>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 15:02:25.636 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:02:25.643 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2023-07-12 15:02:25.647 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:02:25.653 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:02:25.657 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_UNIDADE_MEDIDA`, `t`.`DS_OBSERVACAO`, `t`.`UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:02:25.668 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_UNIDADE_MEDIDA`, `t`.`DS_OBSERVACAO`, `t`.`UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:02:25.676 -03:00 [DBG] Context 'AthenaContext' started tracking 'UnidadeMedida' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:02:25.681 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:02:25.683 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:02:25.687 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:02:25.691 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:02:25.696 -03:00 [DBG] The unchanged property 'UnidadeMedida.DescricaoUnidadeMedida' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:02:25.699 -03:00 [DBG] An entity of type 'UnidadeMedida' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:02:25.704 -03:00 [DBG] The unchanged property 'UnidadeMedida.NomeUnidadeMedida' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:02:25.707 -03:00 [DBG] The unchanged property 'UnidadeMedida.Observação' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:02:25.710 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:02:25.713 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:02:25.716 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:02:25.720 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:02:25.723 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:02:25.725 -03:00 [DBG] The unchanged property 'UnidadeMedida.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:02:25.729 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:02:25.733 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:02:25.737 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:02:25.740 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:02:25.744 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:02:25.749 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:02:25.752 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:02:25.754 -03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 400), @p1='?' (Size = 400), @p2='?' (Size = 400), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_UNIDADE_MEDIDA` SET `DS_DESCRICAO` = @p0, `DS_UNIDADE_MEDIDA` = @p1, `DS_OBSERVACAO` = @p2
WHERE `ID` = @p3 AND `UPDATED_AT` = @p4;
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p3;
2023-07-12 15:02:25.762 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 400), @p1='?' (Size = 400), @p2='?' (Size = 400), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_UNIDADE_MEDIDA` SET `DS_DESCRICAO` = @p0, `DS_UNIDADE_MEDIDA` = @p1, `DS_OBSERVACAO` = @p2
WHERE `ID` = @p3 AND `UPDATED_AT` = @p4;
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p3;
2023-07-12 15:02:25.767 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:02:25.769 -03:00 [DBG] Committing transaction.
2023-07-12 15:02:25.772 -03:00 [DBG] Committed transaction.
2023-07-12 15:02:25.774 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:02:25.777 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:02:25.780 -03:00 [DBG] Disposing transaction.
2023-07-12 15:02:25.782 -03:00 [DBG] An entity of type 'UnidadeMedida' tracked by 'AthenaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:02:25.785 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:02:25.789 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:02:25.794 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:02:25.796 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:02:25.798 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:02:25.799 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:02:25.802 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.UpdateUnidadeMedidaResponse'.
2023-07-12 15:02:25.805 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Update (Concent.Athena.Services.API) in 327.2407ms
2023-07-12 15:02:25.810 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Update (Concent.Athena.Services.API)'
2023-07-12 15:02:25.813 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:02:25.816 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:5004/api/v1/tenant/unidademedida/08db8301-eb15-4c79-8453-86be500fb068 application/json 104 - 200 - application/json;+charset=utf-8 384.8170ms
2023-07-12 15:02:29.175 -03:00 [DBG] Connection id "0HMS3076QKRGG" received FIN.
2023-07-12 15:02:29.179 -03:00 [DBG] Connection id "0HMS3076QKRGG" is closed. The last processed stream ID was 1.
2023-07-12 15:02:29.181 -03:00 [DBG] Connection id "0HMS3076QKRGG" sending FIN because: "The client closed the connection."
2023-07-12 15:02:29.185 -03:00 [DBG] Connection id "0HMS3076QKRGG" stopped.
2023-07-12 15:04:42.521 -03:00 [DBG] Connection id "0HMS3076QKRGH" accepted.
2023-07-12 15:04:42.540 -03:00 [DBG] Connection id "0HMS3076QKRGH" started.
2023-07-12 15:04:42.562 -03:00 [DBG] Connection "0HMS3076QKRGH" established using the following protocol: "Tls12"
2023-07-12 15:04:42.568 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida/08db8301-eb15-4c79-8453-86be500fb068 - -
2023-07-12 15:04:42.575 -03:00 [DBG] The request path  does not match the path filter
2023-07-12 15:04:42.579 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida/08db8301-eb15-4c79-8453-86be500fb068'
2023-07-12 15:04:42.581 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetById (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida/{id}' is valid for the request path '/api/v1/tenant/unidademedida/08db8301-eb15-4c79-8453-86be500fb068'
2023-07-12 15:04:42.584 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetById (Concent.Athena.Services.API)'
2023-07-12 15:04:42.589 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetById (Concent.Athena.Services.API)'
2023-07-12 15:04:42.595 -03:00 [INF] Route matched with {action = "GetById", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-12 15:04:42.599 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:04:42.603 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:04:42.607 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:04:42.611 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:04:42.613 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:04:42.616 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:04:42.619 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:04:42.622 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-12 15:04:42.626 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-12 15:04:42.629 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:04:42.631 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:04:42.634 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-12 15:04:42.637 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-12 15:04:42.641 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:04:42.643 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:04:42.646 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:04:42.649 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:04:42.655 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:04:42.660 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:04:42.665 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:04:42.672 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:04:42.675 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:04:42.678 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:04:42.681 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:04:42.684 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:04:42.690 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:04:42.693 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:04:42.697 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:04:42.703 -03:00 [DBG] Compiling query expression: 
'DbSet<UnidadeMedida>()
    .AsNoTracking()
    .Where(x => x.Id == __GetId_0)
    .Select(x => new { 
        Id = x.Id, 
        NomeUnidadeMedida = x.NomeUnidadeMedida, 
        DescricaoUnidadeMedida = x.DescricaoUnidadeMedida, 
        Observação = x.Observação
     })'
2023-07-12 15:04:42.712 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType14<Guid, string, string, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            NomeUnidadeMedida -> 1
            DescricaoUnidadeMedida -> 2
            Observação -> 3
        SELECT t.ID AS Id, t.DS_UNIDADE_MEDIDA AS NomeUnidadeMedida, t.DS_DESCRICAO AS DescricaoUnidadeMedida, t.DS_OBSERVACAO AS Observação
        FROM TB_UNIDADE_MEDIDA AS t
        WHERE t.ID == @__GetId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType14<Guid, string, string, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-12 15:04:42.719 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:04:42.724 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2023-07-12 15:04:42.726 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:04:42.730 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:04:42.733 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`, `t`.`DS_DESCRICAO` AS `DescricaoUnidadeMedida`, `t`.`DS_OBSERVACAO` AS `Observação`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ID` = @__GetId_0
2023-07-12 15:04:42.739 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`, `t`.`DS_DESCRICAO` AS `DescricaoUnidadeMedida`, `t`.`DS_OBSERVACAO` AS `Observação`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ID` = @__GetId_0
2023-07-12 15:04:42.745 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:04:42.747 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:04:42.749 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:04:42.752 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:04:42.757 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:04:42.760 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:04:42.761 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:04:42.763 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:04:42.765 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.GetByIdUnidadeMedidaResponse'.
2023-07-12 15:04:42.771 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetById (Concent.Athena.Services.API) in 155.6668ms
2023-07-12 15:04:42.776 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetById (Concent.Athena.Services.API)'
2023-07-12 15:04:42.778 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:04:42.780 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida/08db8301-eb15-4c79-8453-86be500fb068 - - - 200 - application/json;+charset=utf-8 213.6235ms
2023-07-12 15:04:49.413 -03:00 [DBG] Connection id "0HMS3076QKRGH" received FIN.
2023-07-12 15:04:49.416 -03:00 [DBG] Connection id "0HMS3076QKRGH" is closed. The last processed stream ID was 1.
2023-07-12 15:04:49.420 -03:00 [DBG] Connection id "0HMS3076QKRGH" sending FIN because: "The client closed the connection."
2023-07-12 15:04:49.428 -03:00 [DBG] Connection id "0HMS3076QKRGH" stopped.
2023-07-12 15:05:33.542 -03:00 [DBG] Connection id "0HMS3076QKRGI" accepted.
2023-07-12 15:05:33.550 -03:00 [DBG] Connection id "0HMS3076QKRGI" started.
2023-07-12 15:05:33.575 -03:00 [DBG] Connection "0HMS3076QKRGI" established using the following protocol: "Tls12"
2023-07-12 15:05:33.582 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/index.html - -
2023-07-12 15:05:33.648 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-12 15:05:33.957 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-12 15:05:33.960 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - -
2023-07-12 15:05:33.969 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - -
2023-07-12 15:05:33.968 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/index.html - - - 200 - text/html;charset=utf-8 385.7870ms
2023-07-12 15:05:33.979 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 19.0425ms
2023-07-12 15:05:34.071 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 101.9085ms
2023-07-12 15:05:34.218 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - -
2023-07-12 15:05:34.251 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/favicon-32x32.png - -
2023-07-12 15:05:34.267 -03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2023-07-12 15:05:34.272 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/favicon-32x32.png - - - 200 628 image/png 20.9400ms
2023-07-12 15:05:34.394 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.2677ms
2023-07-12 15:05:39.480 -03:00 [DBG] Connection id "0HMS3076QKRGI" received FIN.
2023-07-12 15:05:39.484 -03:00 [DBG] Connection id "0HMS3076QKRGI" is closed. The last processed stream ID was 9.
2023-07-12 15:05:39.487 -03:00 [DBG] Connection id "0HMS3076QKRGI" sending FIN because: "The client closed the connection."
2023-07-12 15:05:39.494 -03:00 [DBG] Connection id "0HMS3076QKRGI" stopped.
2023-07-12 15:06:14.322 -03:00 [DBG] Connection id "0HMS3076QKRGJ" accepted.
2023-07-12 15:06:14.325 -03:00 [DBG] Connection id "0HMS3076QKRGJ" started.
2023-07-12 15:06:14.336 -03:00 [DBG] Connection "0HMS3076QKRGJ" established using the following protocol: "Tls12"
2023-07-12 15:06:14.346 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5004/api/v1/tenant/unidademedida?unidadeMedidaId=08db8301-eb15-4c79-8453-86be500fb068 - -
2023-07-12 15:06:14.350 -03:00 [DBG] DELETE requests are not supported
2023-07-12 15:06:14.352 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:06:14.354 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Delete (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:06:14.357 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Delete (Concent.Athena.Services.API)'
2023-07-12 15:06:14.359 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:06:14.362 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:06:14.365 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Delete (Concent.Athena.Services.API)'
2023-07-12 15:06:14.370 -03:00 [INF] Route matched with {action = "Delete", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-12 15:06:14.375 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:06:14.381 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:06:14.384 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:06:14.387 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:06:14.390 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:06:14.393 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:06:14.397 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:06:14.402 -03:00 [DBG] Attempting to bind parameter 'unidadeMedidaId' of type 'System.Guid' ...
2023-07-12 15:06:14.405 -03:00 [DBG] Attempting to bind parameter 'unidadeMedidaId' of type 'System.Guid' using the name 'unidadeMedidaId' in request data ...
2023-07-12 15:06:14.409 -03:00 [DBG] Done attempting to bind parameter 'unidadeMedidaId' of type 'System.Guid'.
2023-07-12 15:06:14.413 -03:00 [DBG] Done attempting to bind parameter 'unidadeMedidaId' of type 'System.Guid'.
2023-07-12 15:06:14.416 -03:00 [DBG] Attempting to validate the bound parameter 'unidadeMedidaId' of type 'System.Guid' ...
2023-07-12 15:06:14.418 -03:00 [DBG] Done attempting to validate the bound parameter 'unidadeMedidaId' of type 'System.Guid'.
2023-07-12 15:06:14.420 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:06:14.423 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:06:14.426 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:06:14.430 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:06:14.435 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:06:14.438 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:06:14.451 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:06:14.456 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:06:14.459 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 15:06:14.462 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:14.465 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:14.467 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:06:14.472 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:06:14.476 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:14.479 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:14.484 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:06:14.487 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:06:14.490 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:14.494 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:14.499 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_UNIDADE_MEDIDA`, `t`.`DS_OBSERVACAO`, `t`.`UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:06:14.505 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_UNIDADE_MEDIDA`, `t`.`DS_OBSERVACAO`, `t`.`UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:06:14.509 -03:00 [DBG] Context 'AthenaContext' started tracking 'UnidadeMedida' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:06:14.512 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:06:14.514 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:14.516 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:14.521 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:06:14.523 -03:00 [DBG] The unchanged property 'UnidadeMedida.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:06:14.525 -03:00 [DBG] An entity of type 'UnidadeMedida' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:06:14.529 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:06:14.531 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:06:14.534 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:06:14.536 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:06:14.538 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:06:14.540 -03:00 [DBG] The unchanged property 'UnidadeMedida.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:06:14.543 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:06:14.546 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:14.551 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:14.554 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:06:14.557 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:06:14.560 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:06:14.563 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:06:14.567 -03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_UNIDADE_MEDIDA` SET `ST_ACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-07-12 15:06:14.573 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_UNIDADE_MEDIDA` SET `ST_ACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-07-12 15:06:14.580 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:06:14.582 -03:00 [DBG] Committing transaction.
2023-07-12 15:06:14.587 -03:00 [DBG] Committed transaction.
2023-07-12 15:06:14.589 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:14.592 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:14.595 -03:00 [DBG] Disposing transaction.
2023-07-12 15:06:14.597 -03:00 [DBG] An entity of type 'UnidadeMedida' tracked by 'AthenaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:06:14.600 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:06:14.605 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:06:14.610 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:06:14.612 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:06:14.615 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:06:14.617 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:06:14.619 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.DeleteUnidadeMedidaResponse'.
2023-07-12 15:06:14.624 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Delete (Concent.Athena.Services.API) in 231.0575ms
2023-07-12 15:06:14.628 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Delete (Concent.Athena.Services.API)'
2023-07-12 15:06:14.635 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:06:14.641 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5004/api/v1/tenant/unidademedida?unidadeMedidaId=08db8301-eb15-4c79-8453-86be500fb068 - - - 200 - application/json;+charset=utf-8 296.1146ms
2023-07-12 15:06:19.513 -03:00 [DBG] Connection id "0HMS3076QKRGJ" received FIN.
2023-07-12 15:06:19.516 -03:00 [DBG] Connection id "0HMS3076QKRGJ" is closed. The last processed stream ID was 1.
2023-07-12 15:06:19.520 -03:00 [DBG] Connection id "0HMS3076QKRGJ" sending FIN because: "The client closed the connection."
2023-07-12 15:06:19.528 -03:00 [DBG] Connection id "0HMS3076QKRGJ" stopped.
2023-07-12 15:06:34.995 -03:00 [DBG] Connection id "0HMS3076QKRGK" accepted.
2023-07-12 15:06:34.999 -03:00 [DBG] Connection id "0HMS3076QKRGK" started.
2023-07-12 15:06:35.008 -03:00 [DBG] Connection "0HMS3076QKRGK" established using the following protocol: "Tls12"
2023-07-12 15:06:35.018 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/unidademedida application/json 104
2023-07-12 15:06:35.024 -03:00 [DBG] POST requests are not supported
2023-07-12 15:06:35.029 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:06:35.031 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:06:35.034 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:06:35.036 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:06:35.040 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:06:35.044 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:06:35.046 -03:00 [INF] Route matched with {action = "Create", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-12 15:06:35.050 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:06:35.052 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:06:35.058 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:06:35.062 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:06:35.065 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:06:35.067 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:06:35.071 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:06:35.076 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' ...
2023-07-12 15:06:35.079 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' using the name '' in request data ...
2023-07-12 15:06:35.081 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:06:35.084 -03:00 [DBG] Connection id "0HMS3076QKRGK", Request id "0HMS3076QKRGK:00000001": started reading request body.
2023-07-12 15:06:35.086 -03:00 [DBG] Connection id "0HMS3076QKRGK", Request id "0HMS3076QKRGK:00000001": done reading request body.
2023-07-12 15:06:35.091 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'
2023-07-12 15:06:35.093 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-12 15:06:35.095 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-12 15:06:35.097 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' ...
2023-07-12 15:06:35.100 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-12 15:06:35.102 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:06:35.106 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:06:35.109 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:06:35.111 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:06:35.116 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:06:35.122 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:06:35.129 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:06:35.139 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:06:35.141 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:06:35.146 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:35.149 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:35.152 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:06:35.158 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:06:35.162 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:35.165 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:35.171 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:06:35.175 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-12 15:06:35.177 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:35.187 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:35.191 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`DS_UNIDADE_MEDIDA` = @__request_NomeUnidadeMedida_0)
2023-07-12 15:06:35.197 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`DS_UNIDADE_MEDIDA` = @__request_NomeUnidadeMedida_0)
2023-07-12 15:06:35.202 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:06:35.206 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:35.210 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:35.213 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.UnidadeMedida'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:06:35.217 -03:00 [DBG] Context 'AthenaContext' started tracking 'UnidadeMedida' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:06:35.222 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:06:35.225 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:06:35.227 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:06:35.230 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:06:35.233 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:06:35.236 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:06:35.239 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:06:35.242 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:35.249 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:35.251 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:06:35.262 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:06:35.265 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:06:35.267 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:06:35.269 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (Size = 400), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_UNIDADE_MEDIDA` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `DS_UNIDADE_MEDIDA`, `DS_OBSERVACAO`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:06:35.279 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (Size = 400), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_UNIDADE_MEDIDA` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `DS_UNIDADE_MEDIDA`, `DS_OBSERVACAO`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:06:35.284 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:06:35.288 -03:00 [DBG] Committing transaction.
2023-07-12 15:06:35.293 -03:00 [DBG] Committed transaction.
2023-07-12 15:06:35.295 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:35.298 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:06:35.301 -03:00 [DBG] Disposing transaction.
2023-07-12 15:06:35.303 -03:00 [DBG] An entity of type 'UnidadeMedida' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:06:35.312 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:06:35.315 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:06:35.319 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:06:35.323 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:06:35.325 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:06:35.327 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:06:35.330 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.CreateUnidadeMedidaResponse'.
2023-07-12 15:06:35.332 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API) in 264.784ms
2023-07-12 15:06:35.336 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:06:35.339 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:06:35.342 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/unidademedida application/json 104 - 201 - application/json;+charset=utf-8 324.3198ms
2023-07-12 15:06:39.530 -03:00 [DBG] Connection id "0HMS3076QKRGK" received FIN.
2023-07-12 15:06:39.534 -03:00 [DBG] Connection id "0HMS3076QKRGK" is closed. The last processed stream ID was 1.
2023-07-12 15:06:39.537 -03:00 [DBG] Connection id "0HMS3076QKRGK" sending FIN because: "The client closed the connection."
2023-07-12 15:06:39.545 -03:00 [DBG] Connection id "0HMS3076QKRGK" stopped.
2023-07-12 15:07:13.472 -03:00 [DBG] Connection id "0HMS3076QKRGL" accepted.
2023-07-12 15:07:13.480 -03:00 [DBG] Connection id "0HMS3076QKRGL" started.
2023-07-12 15:07:13.498 -03:00 [DBG] Connection "0HMS3076QKRGL" established using the following protocol: "Tls12"
2023-07-12 15:07:13.502 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 15:07:13.507 -03:00 [DBG] POST requests are not supported
2023-07-12 15:07:13.511 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:07:13.515 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:07:13.519 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:07:13.523 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:07:13.527 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:07:13.529 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:07:13.534 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:07:13.540 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:07:13.545 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:07:13.547 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:07:13.551 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:07:13.553 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:07:13.560 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:07:13.562 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:07:13.565 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:07:13.567 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:07:13.571 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:07:13.577 -03:00 [DBG] Connection id "0HMS3076QKRGL", Request id "0HMS3076QKRGL:00000001": started reading request body.
2023-07-12 15:07:13.579 -03:00 [DBG] Connection id "0HMS3076QKRGL", Request id "0HMS3076QKRGL:00000001": done reading request body.
2023-07-12 15:07:13.584 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 15:07:13.586 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:07:13.590 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:07:13.594 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:07:13.597 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:07:13.599 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:07:13.602 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:07:13.606 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:07:13.610 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:07:13.614 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:07:13.618 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:07:13.625 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:07:13.629 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:07:13.631 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-12 15:07:13.634 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:07:13.636 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:07:13.641 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:07:13.646 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:07:13.649 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:07:13.652 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:07:13.660 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .Any(x => x.Sigla == __request_Sigla_0)'
2023-07-12 15:07:13.667 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_ALMOXARIFADO AS t
                WHERE t.DS_SIGLA == @__request_Sigla_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 15:07:13.675 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:07:13.677 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 15:07:13.679 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:07:13.686 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:07:13.692 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:07:13.696 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:07:13.700 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:07:13.702 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:07:13.705 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:07:13.712 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:07:13.735 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:07:13.740 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:07:13.745 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:07:13.749 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:07:13.751 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:07:13.753 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:07:13.757 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:07:13.759 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:07:13.761 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:07:13.766 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:07:13.768 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:07:13.777 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:07:13.791 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:07:13.795 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 15:07:13.797 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:07:13.806 -03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:07:13.813 -03:00 [DBG] Disposing transaction.
2023-07-12 15:07:13.815 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:07:13.817 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:07:13.825 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-12 15:07:14.117 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 557.1186ms
2023-07-12 15:07:14.124 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:07:14.141 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 15:07:14.197 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:07:14.199 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 697.6222ms
2023-07-12 15:07:19.605 -03:00 [DBG] Connection id "0HMS3076QKRGL" received FIN.
2023-07-12 15:07:19.608 -03:00 [DBG] Connection id "0HMS3076QKRGL" is closed. The last processed stream ID was 1.
2023-07-12 15:07:19.611 -03:00 [DBG] Connection id "0HMS3076QKRGL" sending FIN because: "The client closed the connection."
2023-07-12 15:07:19.621 -03:00 [DBG] Connection id "0HMS3076QKRGL" stopped.
2023-07-12 15:09:17.371 -03:00 [DBG] Connection id "0HMS3076QKRGM" accepted.
2023-07-12 15:09:17.375 -03:00 [DBG] Connection id "0HMS3076QKRGM" started.
2023-07-12 15:09:17.396 -03:00 [DBG] Connection "0HMS3076QKRGM" established using the following protocol: "Tls12"
2023-07-12 15:09:17.402 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/almoxarifados - -
2023-07-12 15:09:17.418 -03:00 [DBG] The request path  does not match the path filter
2023-07-12 15:09:17.421 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:09:17.424 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:09:17.429 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:09:17.433 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:09:17.439 -03:00 [INF] Route matched with {action = "GetAll", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:09:17.444 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:09:17.447 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:09:17.450 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:09:17.454 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:09:17.457 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:09:17.460 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:09:17.463 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:09:17.466 -03:00 [DBG] Attempting to bind parameter 'Sigla' of type 'System.String' ...
2023-07-12 15:09:17.468 -03:00 [DBG] Attempting to bind parameter 'Sigla' of type 'System.String' using the name '' in request data ...
2023-07-12 15:09:17.471 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Sigla' of type 'System.String'.
2023-07-12 15:09:17.474 -03:00 [DBG] Done attempting to bind parameter 'Sigla' of type 'System.String'.
2023-07-12 15:09:17.477 -03:00 [DBG] Done attempting to bind parameter 'Sigla' of type 'System.String'.
2023-07-12 15:09:17.480 -03:00 [DBG] Attempting to validate the bound parameter 'Sigla' of type 'System.String' ...
2023-07-12 15:09:17.483 -03:00 [DBG] Done attempting to validate the bound parameter 'Sigla' of type 'System.String'.
2023-07-12 15:09:17.486 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:09:17.489 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:09:17.491 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:09:17.494 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:09:17.500 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:09:17.508 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:09:17.519 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:09:17.523 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:09:17.525 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:09:17.529 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:17.532 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:17.534 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:09:17.539 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:09:17.545 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:17.549 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:17.554 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
    )
    .Select(x => new { 
        Id = x.Id, 
        DescricaoAlmoxarifado = x.DescricaoAlmoxarifado
     })'
2023-07-12 15:09:17.560 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType4<Guid, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            DescricaoAlmoxarifado -> 1
        SELECT t.ID AS Id, t.DS_DESCRICAO AS DescricaoAlmoxarifado
        FROM TB_ALMOXARIFADO AS t
        WHERE TRUE && t.ST_ACTIVE), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType4<Guid, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-12 15:09:17.567 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:09:17.570 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:09:17.572 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:17.575 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:17.581 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_DESCRICAO` AS `DescricaoAlmoxarifado`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:09:17.585 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_DESCRICAO` AS `DescricaoAlmoxarifado`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:09:17.589 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:09:17.591 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:17.595 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:17.597 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:09:17.601 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:09:17.602 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:09:17.604 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:09:17.606 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:09:17.608 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.GetAlmoxarifadoResponse'.
2023-07-12 15:09:17.614 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API) in 153.5715ms
2023-07-12 15:09:17.617 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:09:17.619 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:09:17.622 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/almoxarifados - - - 200 - application/json;+charset=utf-8 219.5136ms
2023-07-12 15:09:19.807 -03:00 [DBG] Connection id "0HMS3076QKRGM" received FIN.
2023-07-12 15:09:19.811 -03:00 [DBG] Connection id "0HMS3076QKRGM" is closed. The last processed stream ID was 1.
2023-07-12 15:09:19.814 -03:00 [DBG] Connection id "0HMS3076QKRGM" sending FIN because: "The client closed the connection."
2023-07-12 15:09:19.826 -03:00 [DBG] Connection id "0HMS3076QKRGM" stopped.
2023-07-12 15:09:33.324 -03:00 [DBG] Connection id "0HMS3076QKRGN" accepted.
2023-07-12 15:09:33.327 -03:00 [DBG] Connection id "0HMS3076QKRGN" started.
2023-07-12 15:09:33.337 -03:00 [DBG] Connection "0HMS3076QKRGN" established using the following protocol: "Tls12"
2023-07-12 15:09:33.341 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/person/person - -
2023-07-12 15:09:33.344 -03:00 [DBG] The request path  does not match the path filter
2023-07-12 15:09:33.347 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/person/person'
2023-07-12 15:09:33.351 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/Person/Person' is valid for the request path '/api/v1/person/person'
2023-07-12 15:09:33.357 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:09:33.359 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:09:33.364 -03:00 [INF] Route matched with {action = "GetAll", controller = "Person"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API).
2023-07-12 15:09:33.371 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:09:33.375 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:09:33.379 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:09:33.382 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:09:33.387 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:09:33.391 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-07-12 15:09:33.394 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-07-12 15:09:33.397 -03:00 [DBG] Attempting to bind parameter 'personName' of type 'System.String' ...
2023-07-12 15:09:33.399 -03:00 [DBG] Attempting to bind parameter 'personName' of type 'System.String' using the name '' in request data ...
2023-07-12 15:09:33.406 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'personName' of type 'System.String'.
2023-07-12 15:09:33.408 -03:00 [DBG] Done attempting to bind parameter 'personName' of type 'System.String'.
2023-07-12 15:09:33.411 -03:00 [DBG] Done attempting to bind parameter 'personName' of type 'System.String'.
2023-07-12 15:09:33.414 -03:00 [DBG] Attempting to validate the bound parameter 'personName' of type 'System.String' ...
2023-07-12 15:09:33.417 -03:00 [DBG] Done attempting to validate the bound parameter 'personName' of type 'System.String'.
2023-07-12 15:09:33.422 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:09:33.424 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:09:33.428 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:09:33.430 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:09:33.438 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:09:33.444 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:09:33.449 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:09:33.454 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:09:33.458 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-12 15:09:33.460 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:33.463 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:33.465 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:09:33.473 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:09:33.478 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:33.481 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:33.488 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
    )
    .Select(x => new { 
        Id = x.Id, 
        PersonName = x.PersonName, 
        CPF = x.CPF
     })'
2023-07-12 15:09:33.495 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType7<Guid, string, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            PersonName -> 1
            CPF -> 2
        SELECT t.ID AS Id, t.DS_PERSON_NAME AS PersonName, t.DS_CPF AS CPF
        FROM TB_PERSON AS t
        WHERE TRUE && t.ST_ACTIVE), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType7<Guid, string, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-12 15:09:33.504 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:09:33.507 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:09:33.510 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:33.515 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:33.520 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_PERSON_NAME` AS `PersonName`, `t`.`DS_CPF` AS `CPF`
FROM `TB_PERSON` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:09:33.525 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_PERSON_NAME` AS `PersonName`, `t`.`DS_CPF` AS `CPF`
FROM `TB_PERSON` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:09:33.530 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:09:33.532 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:33.535 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:33.539 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:09:33.542 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:09:33.544 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:09:33.546 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:09:33.547 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:09:33.551 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.Person.GetPersonResponse'.
2023-07-12 15:09:33.555 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API) in 164.3955ms
2023-07-12 15:09:33.559 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:09:33.561 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:09:33.565 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/person/person - - - 200 - application/json;+charset=utf-8 223.6496ms
2023-07-12 15:09:39.835 -03:00 [DBG] Connection id "0HMS3076QKRGN" received FIN.
2023-07-12 15:09:39.840 -03:00 [DBG] Connection id "0HMS3076QKRGN" is closed. The last processed stream ID was 1.
2023-07-12 15:09:39.849 -03:00 [DBG] Connection id "0HMS3076QKRGN" sending FIN because: "The client closed the connection."
2023-07-12 15:09:39.865 -03:00 [DBG] Connection id "0HMS3076QKRGN" stopped.
2023-07-12 15:09:57.262 -03:00 [DBG] Connection id "0HMS3076QKRGO" accepted.
2023-07-12 15:09:57.264 -03:00 [DBG] Connection id "0HMS3076QKRGO" started.
2023-07-12 15:09:57.272 -03:00 [DBG] Connection "0HMS3076QKRGO" established using the following protocol: "Tls12"
2023-07-12 15:09:57.280 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/person/person application/json 144
2023-07-12 15:09:57.286 -03:00 [DBG] POST requests are not supported
2023-07-12 15:09:57.288 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/person/person'
2023-07-12 15:09:57.290 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/Person/Person' is valid for the request path '/api/v1/person/person'
2023-07-12 15:09:57.297 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)'
2023-07-12 15:09:57.300 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:09:57.303 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:09:57.305 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)'
2023-07-12 15:09:57.312 -03:00 [INF] Route matched with {action = "Create", controller = "Person"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API).
2023-07-12 15:09:57.317 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:09:57.320 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:09:57.322 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:09:57.326 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:09:57.330 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:09:57.333 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-07-12 15:09:57.335 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-07-12 15:09:57.338 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest' ...
2023-07-12 15:09:57.341 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest' using the name '' in request data ...
2023-07-12 15:09:57.344 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:09:57.348 -03:00 [DBG] Connection id "0HMS3076QKRGO", Request id "0HMS3076QKRGO:00000001": started reading request body.
2023-07-12 15:09:57.350 -03:00 [DBG] Connection id "0HMS3076QKRGO", Request id "0HMS3076QKRGO:00000001": done reading request body.
2023-07-12 15:09:57.354 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'
2023-07-12 15:09:57.356 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'.
2023-07-12 15:09:57.359 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'.
2023-07-12 15:09:57.362 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest' ...
2023-07-12 15:09:57.365 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'.
2023-07-12 15:09:57.368 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:09:57.370 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:09:57.374 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:09:57.378 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:09:57.422 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:09:57.426 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:09:57.433 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:09:57.436 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:09:57.439 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:09:57.442 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.447 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.450 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:09:57.455 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:09:57.460 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.465 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.471 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.CPF == __request_CPF_0)'
2023-07-12 15:09:57.476 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_PERSON AS t
                WHERE t.DS_CPF == @__request_CPF_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 15:09:57.483 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:09:57.485 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 15:09:57.487 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.491 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.499 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_CPF_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`DS_CPF` = @__request_CPF_0)
2023-07-12 15:09:57.504 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_CPF_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`DS_CPF` = @__request_CPF_0)
2023-07-12 15:09:57.508 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:09:57.510 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.513 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.520 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Person'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:09:57.534 -03:00 [DBG] Context 'AthenaContext' started tracking 'Person' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:09:57.537 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:09:57.541 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:09:57.544 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:09:57.547 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:09:57.550 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:09:57.552 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:09:57.554 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:09:57.556 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.561 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.565 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:09:57.572 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:09:57.575 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:09:57.577 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 15:09:57.580 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_PERSON` (`ID`, `DS_CPF`, `CREATED_AT`, `ST_ACTIVE`, `DS_PERSON_NAME`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `UPDATED_AT`
FROM `TB_PERSON`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:09:57.585 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_PERSON` (`ID`, `DS_CPF`, `CREATED_AT`, `ST_ACTIVE`, `DS_PERSON_NAME`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `UPDATED_AT`
FROM `TB_PERSON`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:09:57.591 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:09:57.592 -03:00 [DBG] Committing transaction.
2023-07-12 15:09:57.596 -03:00 [DBG] Committed transaction.
2023-07-12 15:09:57.599 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.601 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.604 -03:00 [DBG] Disposing transaction.
2023-07-12 15:09:57.606 -03:00 [DBG] An entity of type 'Person' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:09:57.609 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:09:57.621 -03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(x => x.UserLogin.ToUpper().Trim() == __Trim_0)'
2023-07-12 15:09:57.676 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_USER AS t
                WHERE TRIM([SqlExpressions.SqlFunctionExpression]) == @__Trim_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 15:09:57.693 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:09:57.698 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-12 15:09:57.701 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.705 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.708 -03:00 [DBG] Executing DbCommand [Parameters=[@__Trim_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_USER` AS `t`
    WHERE TRIM(UPPER(`t`.`DS_USER_LOGIN`)) = @__Trim_0)
2023-07-12 15:09:57.715 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__Trim_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_USER` AS `t`
    WHERE TRIM(UPPER(`t`.`DS_USER_LOGIN`)) = @__Trim_0)
2023-07-12 15:09:57.719 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:09:57.721 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.723 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.937 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:09:57.967 -03:00 [DBG] Context 'AthenaContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:09:57.971 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:09:57.980 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:09:57.983 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:09:57.985 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:09:57.987 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:09:57.989 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:09:57.992 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:09:57.994 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:57.999 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:58.002 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:09:58.006 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:09:58.008 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:09:58.010 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 15:09:58.013 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_USER` (`ID`, `CREATED_AT`, `ST_ACTIVE`, `IE_ISLOGED`, `ID_PERSON`, `DS_SALT`, `DS_USER_LOGIN`, `DS_USER_PASSWORD`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_USER`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:09:58.018 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_USER` (`ID`, `CREATED_AT`, `ST_ACTIVE`, `IE_ISLOGED`, `ID_PERSON`, `DS_SALT`, `DS_USER_LOGIN`, `DS_USER_PASSWORD`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_USER`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:09:58.024 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:09:58.026 -03:00 [DBG] Committing transaction.
2023-07-12 15:09:58.030 -03:00 [DBG] Committed transaction.
2023-07-12 15:09:58.031 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:58.034 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:09:58.036 -03:00 [DBG] Disposing transaction.
2023-07-12 15:09:58.039 -03:00 [DBG] An entity of type 'User' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:09:58.042 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:09:58.050 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:09:58.055 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:09:58.057 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:09:58.059 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:09:58.060 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:09:58.066 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.Person.CreatePersonResponse'.
2023-07-12 15:09:58.069 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API) in 736.118ms
2023-07-12 15:09:58.072 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)'
2023-07-12 15:09:58.075 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:09:58.078 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/person/person application/json 144 - 201 - application/json;+charset=utf-8 798.5372ms
2023-07-12 15:09:59.870 -03:00 [DBG] Connection id "0HMS3076QKRGO" received FIN.
2023-07-12 15:09:59.873 -03:00 [DBG] Connection id "0HMS3076QKRGO" is closed. The last processed stream ID was 1.
2023-07-12 15:09:59.876 -03:00 [DBG] Connection id "0HMS3076QKRGO" sending FIN because: "The client closed the connection."
2023-07-12 15:09:59.883 -03:00 [DBG] Connection id "0HMS3076QKRGO" stopped.
2023-07-12 15:10:44.820 -03:00 [DBG] Connection id "0HMS3076QKRGP" accepted.
2023-07-12 15:10:44.823 -03:00 [DBG] Connection id "0HMS3076QKRGP" started.
2023-07-12 15:10:44.837 -03:00 [DBG] Connection "0HMS3076QKRGP" established using the following protocol: "Tls12"
2023-07-12 15:10:44.843 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 15:10:44.855 -03:00 [DBG] POST requests are not supported
2023-07-12 15:10:44.857 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:10:44.860 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:10:44.863 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:10:44.867 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:10:44.870 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:10:44.872 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:10:44.875 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:10:44.878 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:10:44.884 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:10:44.888 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:10:44.892 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:10:44.896 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:10:44.900 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:10:44.903 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:10:44.905 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:10:44.908 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:10:44.911 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:10:44.914 -03:00 [DBG] Connection id "0HMS3076QKRGP", Request id "0HMS3076QKRGP:00000001": started reading request body.
2023-07-12 15:10:44.917 -03:00 [DBG] Connection id "0HMS3076QKRGP", Request id "0HMS3076QKRGP:00000001": done reading request body.
2023-07-12 15:10:44.920 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 15:10:44.922 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:10:44.924 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:10:44.927 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:10:44.929 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:10:44.934 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:10:44.936 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:10:44.938 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:10:44.940 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:10:44.944 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:10:44.947 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:10:44.954 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:10:44.958 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:10:44.961 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:10:44.963 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:44.967 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:44.969 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:10:44.974 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:10:44.977 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:44.980 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:44.984 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:10:44.986 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:10:44.989 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:44.993 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:44.996 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:10:45.006 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:10:45.010 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:10:45.012 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:45.014 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:45.018 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:10:45.021 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:10:45.023 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:10:45.025 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:10:45.027 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:10:45.029 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:10:45.031 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:10:45.034 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:10:45.036 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:10:45.038 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:45.042 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:45.045 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:10:45.049 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:10:45.053 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:10:45.055 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 15:10:45.057 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:10:45.062 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:10:45.070 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:10:45.072 -03:00 [DBG] Committing transaction.
2023-07-12 15:10:45.076 -03:00 [DBG] Committed transaction.
2023-07-12 15:10:45.077 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:45.079 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:45.083 -03:00 [DBG] Disposing transaction.
2023-07-12 15:10:45.085 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:10:45.089 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:10:45.093 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:10:45.096 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:10:45.101 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:10:45.103 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:10:45.105 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:10:45.108 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 15:10:45.112 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 211.7611ms
2023-07-12 15:10:45.116 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:10:45.119 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:10:45.124 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 201 - application/json;+charset=utf-8 280.2472ms
2023-07-12 15:10:49.929 -03:00 [DBG] Connection id "0HMS3076QKRGP" received FIN.
2023-07-12 15:10:49.932 -03:00 [DBG] Connection id "0HMS3076QKRGP" is closed. The last processed stream ID was 1.
2023-07-12 15:10:49.932 -03:00 [DBG] Connection id "0HMS3076QKRGP" sending FIN because: "The client closed the connection."
2023-07-12 15:10:49.937 -03:00 [DBG] Connection id "0HMS3076QKRGP" stopped.
2023-07-12 15:10:53.460 -03:00 [DBG] Connection id "0HMS3076QKRGQ" accepted.
2023-07-12 15:10:53.463 -03:00 [DBG] Connection id "0HMS3076QKRGQ" started.
2023-07-12 15:10:53.467 -03:00 [DBG] Connection "0HMS3076QKRGQ" established using the following protocol: "Tls12"
2023-07-12 15:10:53.471 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/almoxarifados - -
2023-07-12 15:10:53.474 -03:00 [DBG] The request path  does not match the path filter
2023-07-12 15:10:53.478 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:10:53.480 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:10:53.483 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:10:53.489 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:10:53.493 -03:00 [INF] Route matched with {action = "GetAll", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:10:53.497 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:10:53.499 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:10:53.504 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:10:53.510 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:10:53.513 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:10:53.515 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:10:53.520 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:10:53.525 -03:00 [DBG] Attempting to bind parameter 'Sigla' of type 'System.String' ...
2023-07-12 15:10:53.528 -03:00 [DBG] Attempting to bind parameter 'Sigla' of type 'System.String' using the name '' in request data ...
2023-07-12 15:10:53.530 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Sigla' of type 'System.String'.
2023-07-12 15:10:53.534 -03:00 [DBG] Done attempting to bind parameter 'Sigla' of type 'System.String'.
2023-07-12 15:10:53.537 -03:00 [DBG] Done attempting to bind parameter 'Sigla' of type 'System.String'.
2023-07-12 15:10:53.541 -03:00 [DBG] Attempting to validate the bound parameter 'Sigla' of type 'System.String' ...
2023-07-12 15:10:53.544 -03:00 [DBG] Done attempting to validate the bound parameter 'Sigla' of type 'System.String'.
2023-07-12 15:10:53.547 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:10:53.549 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:10:53.552 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:10:53.555 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:10:53.558 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:10:53.562 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:10:53.569 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:10:53.575 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:10:53.577 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:10:53.580 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:53.582 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:53.585 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:10:53.590 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:10:53.595 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:53.597 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:53.601 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:10:53.606 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-12 15:10:53.608 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:53.611 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:53.613 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_DESCRICAO` AS `DescricaoAlmoxarifado`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:10:53.617 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_DESCRICAO` AS `DescricaoAlmoxarifado`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:10:53.622 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:10:53.624 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:53.628 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:10:53.631 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:10:53.637 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:10:53.639 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:10:53.641 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:10:53.643 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:10:53.645 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.GetAlmoxarifadoResponse'.
2023-07-12 15:10:53.648 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API) in 133.307ms
2023-07-12 15:10:53.651 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:10:53.655 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:10:53.658 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/almoxarifados - - - 200 - application/json;+charset=utf-8 186.4834ms
2023-07-12 15:10:59.942 -03:00 [DBG] Connection id "0HMS3076QKRGQ" received FIN.
2023-07-12 15:10:59.946 -03:00 [DBG] Connection id "0HMS3076QKRGQ" is closed. The last processed stream ID was 1.
2023-07-12 15:10:59.949 -03:00 [DBG] Connection id "0HMS3076QKRGQ" sending FIN because: "The client closed the connection."
2023-07-12 15:10:59.953 -03:00 [DBG] Connection id "0HMS3076QKRGQ" stopped.
2023-07-12 15:12:30.142 -03:00 [DBG] Hosting starting
2023-07-12 15:12:30.735 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-12 15:12:30.844 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-12 15:12:30.849 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-12 15:12:30.851 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-12 15:12:30.853 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-12 15:12:30.855 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-12 15:12:30.857 -03:00 [INF] Hosting environment: Local
2023-07-12 15:12:30.859 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-12 15:12:30.862 -03:00 [DBG] Hosting started
2023-07-12 15:12:30.981 -03:00 [DBG] Connection id "0HMS30E7FCM3J" accepted.
2023-07-12 15:12:30.986 -03:00 [DBG] Connection id "0HMS30E7FCM3J" started.
2023-07-12 15:12:31.101 -03:00 [DBG] Connection "0HMS30E7FCM3J" established using the following protocol: "Tls12"
2023-07-12 15:12:31.190 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/index.html - -
2023-07-12 15:12:31.229 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-12 15:12:31.321 -03:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2023-07-12 15:12:31.467 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - -
2023-07-12 15:12:31.469 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/_vs/browserLink - -
2023-07-12 15:12:31.473 -03:00 [DBG] Response markup was updated to include browser refresh script injection.
2023-07-12 15:12:31.482 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_framework/aspnetcore-browser-refresh.js - - - 200 12356 application/javascript;+charset=utf-8 14.6157ms
2023-07-12 15:12:31.496 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/index.html - - - 200 - text/html;charset=utf-8 309.1213ms
2023-07-12 15:12:31.523 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.4985ms
2023-07-12 15:12:31.794 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - -
2023-07-12 15:12:31.999 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 204.6993ms
2023-07-12 15:12:40.106 -03:00 [DBG] Connection id "0HMS30E7FCM3J" received FIN.
2023-07-12 15:12:40.110 -03:00 [DBG] Connection id "0HMS30E7FCM3J" sending FIN because: "The client closed the connection."
2023-07-12 15:12:40.116 -03:00 [DBG] Connection id "0HMS30E7FCM3J" is closed. The last processed stream ID was 7.
2023-07-12 15:12:40.127 -03:00 [DBG] Connection id "0HMS30E7FCM3J" stopped.
2023-07-12 15:12:42.583 -03:00 [DBG] Connection id "0HMS30E7FCM3K" accepted.
2023-07-12 15:12:42.586 -03:00 [DBG] Connection id "0HMS30E7FCM3K" started.
2023-07-12 15:12:42.593 -03:00 [DBG] Connection "0HMS30E7FCM3K" established using the following protocol: "Tls12"
2023-07-12 15:12:42.599 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/almoxarifados - -
2023-07-12 15:12:42.605 -03:00 [DBG] The request path  does not match the path filter
2023-07-12 15:12:42.663 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:12:42.671 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:12:42.675 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:12:42.688 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:12:42.700 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-12 15:12:42.762 -03:00 [INF] Route matched with {action = "GetAll", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:12:42.767 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:12:42.770 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:12:42.775 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:12:42.779 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:12:42.782 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:12:42.790 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:12:42.795 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:12:42.820 -03:00 [DBG] Attempting to bind parameter 'Sigla' of type 'System.String' ...
2023-07-12 15:12:42.827 -03:00 [DBG] Attempting to bind parameter 'Sigla' of type 'System.String' using the name '' in request data ...
2023-07-12 15:12:42.831 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'Sigla' of type 'System.String'.
2023-07-12 15:12:42.837 -03:00 [DBG] Done attempting to bind parameter 'Sigla' of type 'System.String'.
2023-07-12 15:12:42.841 -03:00 [DBG] Done attempting to bind parameter 'Sigla' of type 'System.String'.
2023-07-12 15:12:42.844 -03:00 [DBG] Attempting to validate the bound parameter 'Sigla' of type 'System.String' ...
2023-07-12 15:12:42.849 -03:00 [DBG] Done attempting to validate the bound parameter 'Sigla' of type 'System.String'.
2023-07-12 15:12:42.856 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:12:42.861 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:12:42.864 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:12:42.869 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:12:43.058 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-12 15:12:43.850 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:12:43.874 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:12:43.983 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:12:44.078 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:12:44.082 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-12 15:12:44.085 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:12:44.099 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:12:44.111 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:12:44.137 -03:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:12:44.143 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:12:44.148 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:12:44.210 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
    )
    .Select(x => new { 
        Id = x.Id, 
        DescricaoAlmoxarifado = x.DescricaoAlmoxarifado
     })'
2023-07-12 15:12:44.378 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType4<Guid, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            DescricaoAlmoxarifado -> 1
        SELECT t.ID AS Id, t.DS_DESCRICAO AS DescricaoAlmoxarifado
        FROM TB_ALMOXARIFADO AS t
        WHERE TRUE && t.ST_ACTIVE), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType4<Guid, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-12 15:12:44.412 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:12:44.415 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 15:12:44.418 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:12:44.425 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:12:44.429 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_DESCRICAO` AS `DescricaoAlmoxarifado`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:12:44.435 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_DESCRICAO` AS `DescricaoAlmoxarifado`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:12:44.444 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:12:44.446 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:12:44.449 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:12:44.467 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:12:44.476 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:12:44.478 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:12:44.480 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:12:44.482 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:12:44.485 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.GetAlmoxarifadoResponse'.
2023-07-12 15:12:44.506 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API) in 1712.9064ms
2023-07-12 15:12:44.510 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:12:44.515 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:12:44.523 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/almoxarifados - - - 200 - application/json;+charset=utf-8 1924.6244ms
2023-07-12 15:12:50.123 -03:00 [DBG] Connection id "0HMS30E7FCM3K" received FIN.
2023-07-12 15:12:50.127 -03:00 [DBG] Connection id "0HMS30E7FCM3K" is closed. The last processed stream ID was 1.
2023-07-12 15:12:50.129 -03:00 [DBG] Connection id "0HMS30E7FCM3K" sending FIN because: "The client closed the connection."
2023-07-12 15:12:50.138 -03:00 [DBG] Connection id "0HMS30E7FCM3K" stopped.
2023-07-12 15:13:23.275 -03:00 [DBG] Connection id "0HMS30E7FCM3L" accepted.
2023-07-12 15:13:23.281 -03:00 [DBG] Connection id "0HMS30E7FCM3L" started.
2023-07-12 15:13:23.296 -03:00 [DBG] Connection "0HMS30E7FCM3L" established using the following protocol: "Tls12"
2023-07-12 15:13:23.306 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:5004/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b application/json 130
2023-07-12 15:13:23.309 -03:00 [DBG] PUT requests are not supported
2023-07-12 15:13:23.314 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b'
2023-07-12 15:13:23.317 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados/{id}' is valid for the request path '/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b'
2023-07-12 15:13:23.321 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API)'
2023-07-12 15:13:23.326 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:13:23.328 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:13:23.332 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API)'
2023-07-12 15:13:23.340 -03:00 [INF] Route matched with {action = "Update", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:13:23.346 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:13:23.348 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:13:23.351 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:13:23.356 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:13:23.360 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:13:23.364 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:13:23.367 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:13:23.374 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-12 15:13:23.376 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-12 15:13:23.380 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:13:23.382 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:13:23.384 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-12 15:13:23.389 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-12 15:13:23.392 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest' ...
2023-07-12 15:13:23.395 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:13:23.399 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:13:23.406 -03:00 [DBG] Connection id "0HMS30E7FCM3L", Request id "0HMS30E7FCM3L:00000001": started reading request body.
2023-07-12 15:13:23.411 -03:00 [DBG] Connection id "0HMS30E7FCM3L", Request id "0HMS30E7FCM3L:00000001": done reading request body.
2023-07-12 15:13:23.418 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest'
2023-07-12 15:13:23.424 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest'.
2023-07-12 15:13:23.427 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest'.
2023-07-12 15:13:23.430 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest' ...
2023-07-12 15:13:23.433 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest'.
2023-07-12 15:13:23.435 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:13:23.441 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:13:23.444 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:13:23.447 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:13:23.457 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:13:23.465 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:13:23.475 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:13:23.479 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:13:23.481 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:13:23.484 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:23.490 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:23.494 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:13:23.499 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:13:23.504 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:23.507 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:23.726 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .SingleOrDefault(x => x.Id == __GetId_0)'
2023-07-12 15:13:23.765 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Almoxarifados>(
    asyncEnumerable: new SingleQueryingEnumerable<Almoxarifados>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Almoxarifados.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Almoxarifados.CreatedAt (DateTime) Required, 1], [Property: Almoxarifados.DescricaoAlmoxarifado (string) Required, 2], [Property: Almoxarifados.IsActive (bool) Required, 3], [Property: Almoxarifados.PersonId (Guid) Required FK Index, 4], [Property: Almoxarifados.Sigla (string) Required, 5], [Property: Almoxarifados.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.ID_PERSON, t.DS_SIGLA, t.UPDATED_AT
            FROM TB_ALMOXARIFADO AS t
            WHERE t.ID == @__GetId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Almoxarifados>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 15:13:23.789 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:13:23.792 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 15:13:23.818 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:23.834 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:23.840 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:13:23.862 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:13:23.902 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:13:23.949 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:13:23.955 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:23.959 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:23.965 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:13:23.982 -03:00 [DBG] The unchanged property 'Almoxarifados.DescricaoAlmoxarifado' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:13:23.995 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:13:24.006 -03:00 [DBG] The unchanged property 'Almoxarifados.PersonId' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:13:24.010 -03:00 [DBG] The unchanged property 'Almoxarifados.Sigla' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:13:24.018 -03:00 [DBG] The foreign key property 'Almoxarifados.PersonId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:13:24.031 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:13:24.034 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:13:24.038 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:13:24.045 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:13:24.049 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:13:24.051 -03:00 [DBG] The unchanged property 'Almoxarifados.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:13:24.056 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:13:24.075 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:24.086 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:24.091 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:13:24.111 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:13:24.180 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:13:24.182 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:13:24.185 -03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 400), @p1='?' (DbType = Guid), @p2='?' (Size = 400), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_ALMOXARIFADO` SET `DS_DESCRICAO` = @p0, `ID_PERSON` = @p1, `DS_SIGLA` = @p2
WHERE `ID` = @p3 AND `UPDATED_AT` = @p4;
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p3;
2023-07-12 15:13:24.209 -03:00 [ERR] Failed executing DbCommand (23ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 400), @p1='?' (DbType = Guid), @p2='?' (Size = 400), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_ALMOXARIFADO` SET `DS_DESCRICAO` = @p0, `ID_PERSON` = @p1, `DS_SIGLA` = @p2
WHERE `ID` = @p3 AND `UPDATED_AT` = @p4;
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p3;
2023-07-12 15:13:24.229 -03:00 [DBG] Disposing transaction.
2023-07-12 15:13:24.234 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:24.237 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:24.354 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-12 15:13:24.718 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API) in 1354.0381ms
2023-07-12 15:13:24.727 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API)'
2023-07-12 15:13:24.747 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update(Guid id, UpdateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 33
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 15:13:24.816 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:13:24.819 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:5004/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b application/json 130 - 500 - text/plain 1512.7764ms
2023-07-12 15:13:30.178 -03:00 [DBG] Connection id "0HMS30E7FCM3L" received FIN.
2023-07-12 15:13:30.181 -03:00 [DBG] Connection id "0HMS30E7FCM3L" is closed. The last processed stream ID was 1.
2023-07-12 15:13:30.184 -03:00 [DBG] Connection id "0HMS30E7FCM3L" sending FIN because: "The client closed the connection."
2023-07-12 15:13:30.194 -03:00 [DBG] Connection id "0HMS30E7FCM3L" stopped.
2023-07-12 15:13:34.488 -03:00 [DBG] Connection id "0HMS30E7FCM3M" accepted.
2023-07-12 15:13:34.495 -03:00 [DBG] Connection id "0HMS30E7FCM3M" started.
2023-07-12 15:13:34.504 -03:00 [DBG] Connection "0HMS30E7FCM3M" established using the following protocol: "Tls12"
2023-07-12 15:13:34.516 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:5004/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b application/json 131
2023-07-12 15:13:34.521 -03:00 [DBG] PUT requests are not supported
2023-07-12 15:13:34.523 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b'
2023-07-12 15:13:34.528 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados/{id}' is valid for the request path '/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b'
2023-07-12 15:13:34.532 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API)'
2023-07-12 15:13:34.535 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:13:34.537 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:13:34.539 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API)'
2023-07-12 15:13:34.543 -03:00 [INF] Route matched with {action = "Update", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:13:34.547 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:13:34.550 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:13:34.553 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:13:34.557 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:13:34.561 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:13:34.564 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:13:34.567 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:13:34.570 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-12 15:13:34.574 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-12 15:13:34.578 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:13:34.581 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:13:34.583 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-12 15:13:34.586 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-12 15:13:34.590 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest' ...
2023-07-12 15:13:34.594 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:13:34.597 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:13:34.600 -03:00 [DBG] Connection id "0HMS30E7FCM3M", Request id "0HMS30E7FCM3M:00000001": started reading request body.
2023-07-12 15:13:34.604 -03:00 [DBG] Connection id "0HMS30E7FCM3M", Request id "0HMS30E7FCM3M:00000001": done reading request body.
2023-07-12 15:13:34.615 -03:00 [DBG] JSON input formatter threw an exception: '0x0A' is invalid within a JSON string. The string should be correctly escaped. Path: $.personId | LineNumber: 4 | BytePositionInLine: 51.
System.Text.Json.JsonException: '0x0A' is invalid within a JSON string. The string should be correctly escaped. Path: $.personId | LineNumber: 4 | BytePositionInLine: 51.
 ---> System.Text.Json.JsonReaderException: '0x0A' is invalid within a JSON string. The string should be correctly escaped. LineNumber: 4 | BytePositionInLine: 51.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeStringAndValidate(ReadOnlySpan`1 data, Int32 idx)
   at System.Text.Json.Utf8JsonReader.ConsumeString()
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.ReadAheadPropertyValue(ReadStack& state, Utf8JsonReader& reader, JsonPropertyInfo jsonPropertyInfo)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, JsonReaderException ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCoreAsObject(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonConverter jsonConverter, Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonReaderState& readerState, Boolean isFinalBlock, ReadOnlySpan`1 buffer, JsonSerializerOptions options, ReadStack& state, JsonConverter converterBase)
   at System.Text.Json.JsonSerializer.ReadAsync[TValue](Stream utf8Json, Type returnType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
2023-07-12 15:13:34.631 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest'.
2023-07-12 15:13:34.634 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest'.
2023-07-12 15:13:34.637 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest' ...
2023-07-12 15:13:34.640 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest'.
2023-07-12 15:13:34.644 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:13:34.646 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:13:34.651 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:13:34.654 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:13:34.656 -03:00 [DBG] The request has model state errors, returning an error response.
2023-07-12 15:13:34.660 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-07-12 15:13:34.662 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:13:34.666 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:13:34.668 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2023-07-12 15:13:34.671 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-07-12 15:13:34.674 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-07-12 15:13:34.686 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API) in 121.4693ms
2023-07-12 15:13:34.689 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API)'
2023-07-12 15:13:34.691 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:5004/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b application/json 131 - 400 - application/problem+json;+charset=utf-8 174.5190ms
2023-07-12 15:13:40.190 -03:00 [DBG] Connection id "0HMS30E7FCM3M" received FIN.
2023-07-12 15:13:40.194 -03:00 [DBG] Connection id "0HMS30E7FCM3M" is closed. The last processed stream ID was 1.
2023-07-12 15:13:40.198 -03:00 [DBG] Connection id "0HMS30E7FCM3M" sending FIN because: "The client closed the connection."
2023-07-12 15:13:40.205 -03:00 [DBG] Connection id "0HMS30E7FCM3M" stopped.
2023-07-12 15:13:40.621 -03:00 [DBG] Connection id "0HMS30E7FCM3N" accepted.
2023-07-12 15:13:40.624 -03:00 [DBG] Connection id "0HMS30E7FCM3N" started.
2023-07-12 15:13:40.634 -03:00 [DBG] Connection "0HMS30E7FCM3N" established using the following protocol: "Tls12"
2023-07-12 15:13:40.640 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:5004/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b application/json 130
2023-07-12 15:13:40.643 -03:00 [DBG] PUT requests are not supported
2023-07-12 15:13:40.648 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b'
2023-07-12 15:13:40.652 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados/{id}' is valid for the request path '/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b'
2023-07-12 15:13:40.656 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API)'
2023-07-12 15:13:40.659 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:13:40.664 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:13:40.668 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API)'
2023-07-12 15:13:40.671 -03:00 [INF] Route matched with {action = "Update", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:13:40.675 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:13:40.677 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:13:40.681 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:13:40.684 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:13:40.688 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:13:40.690 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:13:40.693 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:13:40.696 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-12 15:13:40.699 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-12 15:13:40.702 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:13:40.705 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:13:40.707 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-12 15:13:40.709 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-12 15:13:40.713 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest' ...
2023-07-12 15:13:40.715 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:13:40.719 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:13:40.721 -03:00 [DBG] Connection id "0HMS30E7FCM3N", Request id "0HMS30E7FCM3N:00000001": started reading request body.
2023-07-12 15:13:40.724 -03:00 [DBG] Connection id "0HMS30E7FCM3N", Request id "0HMS30E7FCM3N:00000001": done reading request body.
2023-07-12 15:13:40.726 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest'
2023-07-12 15:13:40.729 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest'.
2023-07-12 15:13:40.732 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest'.
2023-07-12 15:13:40.735 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest' ...
2023-07-12 15:13:40.737 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.UpdateAlmoxarifadosRequest'.
2023-07-12 15:13:40.740 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:13:40.742 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:13:40.745 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:13:40.748 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:13:40.791 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:13:40.802 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:13:40.809 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:13:40.815 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:13:40.817 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:13:40.819 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:40.822 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:40.825 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:13:40.831 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:13:40.835 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:40.837 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:40.843 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:13:40.847 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 15:13:40.850 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:40.859 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:40.864 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:13:40.872 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:13:40.881 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:13:40.886 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:13:40.887 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:40.890 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:40.892 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:13:40.894 -03:00 [DBG] The unchanged property 'Almoxarifados.DescricaoAlmoxarifado' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:13:40.898 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:13:40.902 -03:00 [DBG] The unchanged property 'Almoxarifados.Sigla' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:13:40.904 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:13:40.906 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:13:40.908 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:13:40.910 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:13:40.914 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:13:40.916 -03:00 [DBG] The unchanged property 'Almoxarifados.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:13:40.919 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:13:40.921 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:40.925 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:40.928 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:13:40.935 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:13:40.938 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:13:40.940 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 15:13:40.942 -03:00 [DBG] Executing DbCommand [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 400), @p1='?' (Size = 400), @p3='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_ALMOXARIFADO` SET `DS_DESCRICAO` = @p0, `DS_SIGLA` = @p1
WHERE `ID` = @p2 AND `UPDATED_AT` = @p3;
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p2;
2023-07-12 15:13:40.949 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Guid), @p0='?' (Size = 400), @p1='?' (Size = 400), @p3='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_ALMOXARIFADO` SET `DS_DESCRICAO` = @p0, `DS_SIGLA` = @p1
WHERE `ID` = @p2 AND `UPDATED_AT` = @p3;
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p2;
2023-07-12 15:13:40.970 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:13:40.974 -03:00 [DBG] Committing transaction.
2023-07-12 15:13:40.983 -03:00 [DBG] Committed transaction.
2023-07-12 15:13:40.986 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:40.988 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:40.990 -03:00 [DBG] Disposing transaction.
2023-07-12 15:13:41.001 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:13:41.006 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:13:41.024 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:13:41.031 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:13:41.033 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:13:41.035 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:13:41.036 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:13:41.039 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.UpdateAlmoxarifadoResponse'.
2023-07-12 15:13:41.043 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API) in 352.3724ms
2023-07-12 15:13:41.047 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Update (Concent.Athena.Services.API)'
2023-07-12 15:13:41.049 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:13:41.052 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:5004/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b application/json 130 - 200 - application/json;+charset=utf-8 411.5755ms
2023-07-12 15:13:50.195 -03:00 [DBG] Connection id "0HMS30E7FCM3N" received FIN.
2023-07-12 15:13:50.198 -03:00 [DBG] Connection id "0HMS30E7FCM3N" is closed. The last processed stream ID was 1.
2023-07-12 15:13:50.202 -03:00 [DBG] Connection id "0HMS30E7FCM3N" sending FIN because: "The client closed the connection."
2023-07-12 15:13:50.210 -03:00 [DBG] Connection id "0HMS30E7FCM3N" stopped.
2023-07-12 15:13:52.560 -03:00 [DBG] Connection id "0HMS30E7FCM3O" accepted.
2023-07-12 15:13:52.563 -03:00 [DBG] Connection id "0HMS30E7FCM3O" started.
2023-07-12 15:13:52.576 -03:00 [DBG] Connection "0HMS30E7FCM3O" established using the following protocol: "Tls12"
2023-07-12 15:13:52.581 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b - -
2023-07-12 15:13:52.589 -03:00 [DBG] The request path  does not match the path filter
2023-07-12 15:13:52.592 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b'
2023-07-12 15:13:52.595 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetById (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados/{id}' is valid for the request path '/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b'
2023-07-12 15:13:52.599 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetById (Concent.Athena.Services.API)'
2023-07-12 15:13:52.604 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetById (Concent.Athena.Services.API)'
2023-07-12 15:13:52.610 -03:00 [INF] Route matched with {action = "GetById", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:13:52.615 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:13:52.623 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:13:52.626 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:13:52.629 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:13:52.633 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:13:52.638 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:13:52.640 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:13:52.643 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-12 15:13:52.645 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-12 15:13:52.648 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:13:52.653 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:13:52.655 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-12 15:13:52.657 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-12 15:13:52.660 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:13:52.662 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:13:52.665 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:13:52.668 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:13:52.673 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:13:52.676 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:13:52.683 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:13:52.690 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:13:52.693 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:13:52.696 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:52.699 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:52.703 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:13:52.707 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:13:52.712 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:52.714 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:52.720 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .AsNoTracking()
    .Where(x => x.Id == __GetId_0)
    .Select(x => new { 
        Id = x.Id, 
        DescricaoAlmoxarifado = x.DescricaoAlmoxarifado, 
        Sigla = x.Sigla, 
        PersonId = x.PersonId
     })'
2023-07-12 15:13:52.727 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType5<Guid, string, string, Guid>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            DescricaoAlmoxarifado -> 1
            Sigla -> 2
            PersonId -> 3
        SELECT t.ID AS Id, t.DS_DESCRICAO AS DescricaoAlmoxarifado, t.DS_SIGLA AS Sigla, t.ID_PERSON AS PersonId
        FROM TB_ALMOXARIFADO AS t
        WHERE t.ID == @__GetId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType5<Guid, string, string, Guid>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-12 15:13:52.732 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:13:52.736 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 15:13:52.739 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:52.743 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:52.745 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_DESCRICAO` AS `DescricaoAlmoxarifado`, `t`.`DS_SIGLA` AS `Sigla`, `t`.`ID_PERSON` AS `PersonId`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ID` = @__GetId_0
2023-07-12 15:13:52.750 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_DESCRICAO` AS `DescricaoAlmoxarifado`, `t`.`DS_SIGLA` AS `Sigla`, `t`.`ID_PERSON` AS `PersonId`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ID` = @__GetId_0
2023-07-12 15:13:52.756 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:13:52.759 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:52.761 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:13:52.764 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:13:52.769 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:13:52.771 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:13:52.774 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:13:52.776 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:13:52.778 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.GetByIdAlmoxarifadoResponse'.
2023-07-12 15:13:52.784 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetById (Concent.Athena.Services.API) in 146.0621ms
2023-07-12 15:13:52.788 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.GetById (Concent.Athena.Services.API)'
2023-07-12 15:13:52.791 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:13:52.794 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/almoxarifados/08db8303-4fcf-43f4-8c94-9768c25beb9b - - - 200 - application/json;+charset=utf-8 213.2550ms
2023-07-12 15:14:00.202 -03:00 [DBG] Connection id "0HMS30E7FCM3O" received FIN.
2023-07-12 15:14:00.206 -03:00 [DBG] Connection id "0HMS30E7FCM3O" is closed. The last processed stream ID was 1.
2023-07-12 15:14:00.210 -03:00 [DBG] Connection id "0HMS30E7FCM3O" sending FIN because: "The client closed the connection."
2023-07-12 15:14:00.218 -03:00 [DBG] Connection id "0HMS30E7FCM3O" stopped.
2023-07-12 15:14:26.406 -03:00 [DBG] Connection id "0HMS30E7FCM3P" accepted.
2023-07-12 15:14:26.409 -03:00 [DBG] Connection id "0HMS30E7FCM3P" started.
2023-07-12 15:14:26.429 -03:00 [DBG] Connection "0HMS30E7FCM3P" established using the following protocol: "Tls12"
2023-07-12 15:14:26.439 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5004/api/v1/tenant/almoxarifados?AlmoxarifadosId=08db8303-4fcf-43f4-8c94-9768c25beb9b - -
2023-07-12 15:14:26.441 -03:00 [DBG] DELETE requests are not supported
2023-07-12 15:14:26.443 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:14:26.445 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Delete (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:14:26.449 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Delete (Concent.Athena.Services.API)'
2023-07-12 15:14:26.453 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:14:26.455 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:14:26.456 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Delete (Concent.Athena.Services.API)'
2023-07-12 15:14:26.461 -03:00 [INF] Route matched with {action = "Delete", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:14:26.467 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:14:26.471 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:14:26.473 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:14:26.476 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:14:26.479 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:14:26.484 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:14:26.486 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:14:26.489 -03:00 [DBG] Attempting to bind parameter 'AlmoxarifadosId' of type 'System.Guid' ...
2023-07-12 15:14:26.493 -03:00 [DBG] Attempting to bind parameter 'AlmoxarifadosId' of type 'System.Guid' using the name 'AlmoxarifadosId' in request data ...
2023-07-12 15:14:26.495 -03:00 [DBG] Done attempting to bind parameter 'AlmoxarifadosId' of type 'System.Guid'.
2023-07-12 15:14:26.499 -03:00 [DBG] Done attempting to bind parameter 'AlmoxarifadosId' of type 'System.Guid'.
2023-07-12 15:14:26.502 -03:00 [DBG] Attempting to validate the bound parameter 'AlmoxarifadosId' of type 'System.Guid' ...
2023-07-12 15:14:26.504 -03:00 [DBG] Done attempting to validate the bound parameter 'AlmoxarifadosId' of type 'System.Guid'.
2023-07-12 15:14:26.506 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:14:26.509 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:14:26.511 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:14:26.515 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:14:26.520 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:14:26.524 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:14:26.528 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:14:26.537 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:14:26.540 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 15:14:26.543 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:26.546 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:26.549 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:14:26.554 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:14:26.558 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:26.560 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:26.566 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:14:26.569 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:14:26.571 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:26.579 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:26.584 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:14:26.593 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:14:26.597 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:14:26.601 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:14:26.602 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:26.605 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:26.608 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:14:26.610 -03:00 [DBG] The unchanged property 'Almoxarifados.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:14:26.613 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:14:26.617 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:14:26.619 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:14:26.621 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:14:26.624 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:14:26.626 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:14:26.627 -03:00 [DBG] The unchanged property 'Almoxarifados.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:14:26.630 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:14:26.633 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:26.639 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:26.643 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:14:26.649 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:14:26.653 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:14:26.657 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 15:14:26.660 -03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_ALMOXARIFADO` SET `ST_ACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-07-12 15:14:26.665 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_ALMOXARIFADO` SET `ST_ACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-07-12 15:14:26.674 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:14:26.675 -03:00 [DBG] Committing transaction.
2023-07-12 15:14:26.679 -03:00 [DBG] Committed transaction.
2023-07-12 15:14:26.681 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:26.687 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:26.691 -03:00 [DBG] Disposing transaction.
2023-07-12 15:14:26.693 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:14:26.697 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:14:26.705 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:14:26.711 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:14:26.712 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:14:26.714 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:14:26.718 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:14:26.722 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.DeleteAlmoxarifadoResponse'.
2023-07-12 15:14:26.725 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Delete (Concent.Athena.Services.API) in 241.5571ms
2023-07-12 15:14:26.728 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Delete (Concent.Athena.Services.API)'
2023-07-12 15:14:26.731 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:14:26.735 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5004/api/v1/tenant/almoxarifados?AlmoxarifadosId=08db8303-4fcf-43f4-8c94-9768c25beb9b - - - 200 - application/json;+charset=utf-8 296.1075ms
2023-07-12 15:14:30.253 -03:00 [DBG] Connection id "0HMS30E7FCM3P" received FIN.
2023-07-12 15:14:30.256 -03:00 [DBG] Connection id "0HMS30E7FCM3P" is closed. The last processed stream ID was 1.
2023-07-12 15:14:30.259 -03:00 [DBG] Connection id "0HMS30E7FCM3P" sending FIN because: "The client closed the connection."
2023-07-12 15:14:30.268 -03:00 [DBG] Connection id "0HMS30E7FCM3P" stopped.
2023-07-12 15:14:37.604 -03:00 [DBG] Connection id "0HMS30E7FCM3Q" accepted.
2023-07-12 15:14:37.607 -03:00 [DBG] Connection id "0HMS30E7FCM3Q" started.
2023-07-12 15:14:37.611 -03:00 [DBG] Connection "0HMS30E7FCM3Q" established using the following protocol: "Tls12"
2023-07-12 15:14:37.619 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 15:14:37.626 -03:00 [DBG] POST requests are not supported
2023-07-12 15:14:37.629 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:14:37.633 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:14:37.639 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:14:37.650 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:14:37.654 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:14:37.657 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:14:37.663 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:14:37.668 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:14:37.673 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:14:37.677 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:14:37.681 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:14:37.683 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:14:37.687 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:14:37.691 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:14:37.694 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:14:37.697 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:14:37.700 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:14:37.705 -03:00 [DBG] Connection id "0HMS30E7FCM3Q", Request id "0HMS30E7FCM3Q:00000001": started reading request body.
2023-07-12 15:14:37.709 -03:00 [DBG] Connection id "0HMS30E7FCM3Q", Request id "0HMS30E7FCM3Q:00000001": done reading request body.
2023-07-12 15:14:37.713 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 15:14:37.715 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:14:37.717 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:14:37.720 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:14:37.725 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:14:37.728 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:14:37.732 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:14:37.734 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:14:37.739 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:14:37.744 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:14:37.748 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:14:37.755 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:14:37.758 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:14:37.761 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:14:37.764 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:37.767 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:37.771 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:14:37.776 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:14:37.779 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:37.782 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:37.789 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .Any(x => x.Sigla == __request_Sigla_0)'
2023-07-12 15:14:37.797 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_ALMOXARIFADO AS t
                WHERE t.DS_SIGLA == @__request_Sigla_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 15:14:37.810 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:14:37.812 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:14:37.814 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:37.819 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:37.823 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:14:37.829 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:14:37.840 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:14:37.842 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:37.845 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:37.881 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:14:37.886 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:14:37.890 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:14:37.892 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:14:37.894 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:14:37.896 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:14:37.903 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:14:37.912 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:14:37.913 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:14:37.916 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:37.919 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:37.924 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:14:37.928 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:14:37.935 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:14:37.938 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 15:14:37.941 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:14:37.948 -03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:14:37.957 -03:00 [DBG] Disposing transaction.
2023-07-12 15:14:37.959 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:37.962 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:37.968 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-12 15:14:38.440 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 753.4822ms
2023-07-12 15:14:38.449 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:14:38.465 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 15:14:38.529 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:14:38.532 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 913.4525ms
2023-07-12 15:14:40.269 -03:00 [DBG] Connection id "0HMS30E7FCM3Q" received FIN.
2023-07-12 15:14:40.273 -03:00 [DBG] Connection id "0HMS30E7FCM3Q" is closed. The last processed stream ID was 1.
2023-07-12 15:14:40.277 -03:00 [DBG] Connection id "0HMS30E7FCM3Q" sending FIN because: "The client closed the connection."
2023-07-12 15:14:40.285 -03:00 [DBG] Connection id "0HMS30E7FCM3Q" stopped.
2023-07-12 15:14:43.216 -03:00 [DBG] Connection id "0HMS30E7FCM3R" accepted.
2023-07-12 15:14:43.219 -03:00 [DBG] Connection id "0HMS30E7FCM3R" started.
2023-07-12 15:14:43.241 -03:00 [DBG] Connection "0HMS30E7FCM3R" established using the following protocol: "Tls12"
2023-07-12 15:14:43.251 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 15:14:43.254 -03:00 [DBG] POST requests are not supported
2023-07-12 15:14:43.260 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:14:43.264 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:14:43.267 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:14:43.269 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:14:43.271 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:14:43.275 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:14:43.278 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:14:43.282 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:14:43.285 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:14:43.287 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:14:43.292 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:14:43.296 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:14:43.299 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:14:43.302 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:14:43.305 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:14:43.309 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:14:43.312 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:14:43.316 -03:00 [DBG] Connection id "0HMS30E7FCM3R", Request id "0HMS30E7FCM3R:00000001": started reading request body.
2023-07-12 15:14:43.318 -03:00 [DBG] Connection id "0HMS30E7FCM3R", Request id "0HMS30E7FCM3R:00000001": done reading request body.
2023-07-12 15:14:43.321 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 15:14:43.324 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:14:43.328 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:14:43.331 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:14:43.333 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:14:43.336 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:14:43.338 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:14:43.342 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:14:43.346 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:14:43.349 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:14:43.353 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:14:43.368 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:14:43.373 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:14:43.375 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 15:14:43.378 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:43.381 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:43.383 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:14:43.387 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:14:43.394 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:43.396 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:43.399 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:14:43.401 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 15:14:43.403 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:43.410 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:43.414 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:14:43.418 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:14:43.424 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:14:43.426 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:43.428 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:43.431 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:14:43.434 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:14:43.436 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:14:43.439 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:14:43.442 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:14:43.444 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:14:43.447 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:14:43.448 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:14:43.450 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:14:43.452 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:43.460 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:43.464 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:14:43.469 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:14:43.472 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:14:43.475 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:14:43.477 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:14:43.482 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:14:43.491 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:14:43.493 -03:00 [DBG] Committing transaction.
2023-07-12 15:14:43.497 -03:00 [DBG] Committed transaction.
2023-07-12 15:14:43.499 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:43.502 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:43.504 -03:00 [DBG] Disposing transaction.
2023-07-12 15:14:43.506 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:14:43.510 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:14:43.515 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:14:43.519 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:14:43.521 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:14:43.522 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:14:43.525 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:14:43.528 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 15:14:43.533 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 234.0064ms
2023-07-12 15:14:43.536 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:14:43.538 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:14:43.542 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 201 - application/json;+charset=utf-8 291.0028ms
2023-07-12 15:14:50.281 -03:00 [DBG] Connection id "0HMS30E7FCM3R" received FIN.
2023-07-12 15:14:50.284 -03:00 [DBG] Connection id "0HMS30E7FCM3R" is closed. The last processed stream ID was 1.
2023-07-12 15:14:50.288 -03:00 [DBG] Connection id "0HMS30E7FCM3R" sending FIN because: "The client closed the connection."
2023-07-12 15:14:50.296 -03:00 [DBG] Connection id "0HMS30E7FCM3R" stopped.
2023-07-12 15:14:56.282 -03:00 [DBG] Connection id "0HMS30E7FCM3S" accepted.
2023-07-12 15:14:56.285 -03:00 [DBG] Connection id "0HMS30E7FCM3S" started.
2023-07-12 15:14:56.289 -03:00 [DBG] Connection "0HMS30E7FCM3S" established using the following protocol: "Tls12"
2023-07-12 15:14:56.304 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 15:14:56.307 -03:00 [DBG] POST requests are not supported
2023-07-12 15:14:56.309 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:14:56.313 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:14:56.317 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:14:56.320 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:14:56.323 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:14:56.324 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:14:56.330 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:14:56.334 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:14:56.337 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:14:56.340 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:14:56.344 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:14:56.349 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:14:56.351 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:14:56.354 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:14:56.356 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:14:56.359 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:14:56.363 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:14:56.366 -03:00 [DBG] Connection id "0HMS30E7FCM3S", Request id "0HMS30E7FCM3S:00000001": started reading request body.
2023-07-12 15:14:56.368 -03:00 [DBG] Connection id "0HMS30E7FCM3S", Request id "0HMS30E7FCM3S:00000001": done reading request body.
2023-07-12 15:14:56.370 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 15:14:56.372 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:14:56.375 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:14:56.378 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:14:56.381 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:14:56.384 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:14:56.386 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:14:56.389 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:14:56.392 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:14:56.400 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:14:56.405 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:14:56.410 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:14:56.419 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:14:56.421 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:14:56.423 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:56.425 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:56.428 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:14:56.434 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:14:56.439 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:56.441 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:56.447 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:14:56.450 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:14:56.452 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:56.456 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:56.460 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:14:56.467 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:14:56.472 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:14:56.473 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:56.476 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:14:56.480 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:14:56.484 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:14:56.486 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:14:56.487 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:14:56.489 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:14:56.492 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 15:14:56.495 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 143.1157ms
2023-07-12 15:14:56.499 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:14:56.502 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:14:56.509 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 400 - application/json;+charset=utf-8 204.6143ms
2023-07-12 15:15:00.288 -03:00 [DBG] Connection id "0HMS30E7FCM3S" received FIN.
2023-07-12 15:15:00.292 -03:00 [DBG] Connection id "0HMS30E7FCM3S" is closed. The last processed stream ID was 1.
2023-07-12 15:15:00.294 -03:00 [DBG] Connection id "0HMS30E7FCM3S" sending FIN because: "The client closed the connection."
2023-07-12 15:15:00.303 -03:00 [DBG] Connection id "0HMS30E7FCM3S" stopped.
2023-07-12 15:15:59.281 -03:00 [DBG] Connection id "0HMS30E7FCM3T" accepted.
2023-07-12 15:15:59.284 -03:00 [DBG] Connection id "0HMS30E7FCM3T" started.
2023-07-12 15:15:59.299 -03:00 [DBG] Connection "0HMS30E7FCM3T" established using the following protocol: "Tls12"
2023-07-12 15:15:59.306 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/produtos application/json 221
2023-07-12 15:15:59.312 -03:00 [DBG] POST requests are not supported
2023-07-12 15:15:59.314 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos'
2023-07-12 15:15:59.317 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos' is valid for the request path '/api/v1/tenant/produtos'
2023-07-12 15:15:59.320 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:15:59.323 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:15:59.327 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:15:59.329 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:15:59.334 -03:00 [INF] Route matched with {action = "Create", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-12 15:15:59.338 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:15:59.343 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:15:59.346 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:15:59.349 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:15:59.351 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:15:59.354 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:15:59.358 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:15:59.361 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' ...
2023-07-12 15:15:59.364 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' using the name '' in request data ...
2023-07-12 15:15:59.367 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:15:59.379 -03:00 [DBG] Connection id "0HMS30E7FCM3T", Request id "0HMS30E7FCM3T:00000001": started reading request body.
2023-07-12 15:15:59.382 -03:00 [DBG] Connection id "0HMS30E7FCM3T", Request id "0HMS30E7FCM3T:00000001": done reading request body.
2023-07-12 15:15:59.388 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'
2023-07-12 15:15:59.392 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-12 15:15:59.395 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-12 15:15:59.398 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' ...
2023-07-12 15:15:59.402 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-12 15:15:59.405 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:15:59.409 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:15:59.412 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:15:59.415 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:15:59.420 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:15:59.425 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:15:59.429 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:15:59.436 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:15:59.438 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-12 15:15:59.441 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:15:59.444 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:15:59.446 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:15:59.451 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:15:59.454 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:15:59.457 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:15:59.463 -03:00 [DBG] Compiling query expression: 
'DbSet<Produtos>()
    .Any(x => x.NomeProduto.ToUpper() == __ToUpper_0)'
2023-07-12 15:15:59.504 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_Produtos AS t
                WHERE UPPER(t.NomeProduto) == @__ToUpper_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 15:15:59.516 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:15:59.518 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:15:59.521 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:15:59.526 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:15:59.530 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE UPPER(`t`.`NomeProduto`) = @__ToUpper_0)
2023-07-12 15:15:59.535 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE UPPER(`t`.`NomeProduto`) = @__ToUpper_0)
2023-07-12 15:15:59.539 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:15:59.542 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:15:59.545 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:15:59.555 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Produtos'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:15:59.582 -03:00 [DBG] Context 'AthenaContext' started tracking 'Produtos' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:15:59.586 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:15:59.595 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:15:59.598 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:15:59.600 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:15:59.603 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:15:59.605 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:15:59.608 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:15:59.611 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:15:59.619 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:15:59.622 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:15:59.636 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:15:59.643 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:15:59.645 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:15:59.647 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 400), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (DbType = Single), @p7='?' (DbType = Single), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_Produtos` (`ID`, `ID_ALMOXARIFADOS`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `NomeProduto`, `DS_PESO_BRUTO`, `DS_PESO_LIQUIDO`, `ID_UNIDADE_MEDIDA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:15:59.658 -03:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 400), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (DbType = Single), @p7='?' (DbType = Single), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_Produtos` (`ID`, `ID_ALMOXARIFADOS`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `NomeProduto`, `DS_PESO_BRUTO`, `DS_PESO_LIQUIDO`, `ID_UNIDADE_MEDIDA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:15:59.667 -03:00 [DBG] Disposing transaction.
2023-07-12 15:15:59.669 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:15:59.672 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:15:59.679 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_produtos`, CONSTRAINT `FK_TB_Produtos_TB_ALMOXARIFADO_ID_ALMOXARIFADOS` FOREIGN KEY (`ID_ALMOXARIFADOS`) REFERENCES `tb_almoxarifado` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_produtos`, CONSTRAINT `FK_TB_Produtos_TB_ALMOXARIFADO_ID_ALMOXARIFADOS` FOREIGN KEY (`ID_ALMOXARIFADOS`) REFERENCES `tb_almoxarifado` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-12 15:16:00.058 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API) in 704.1479ms
2023-07-12 15:16:00.066 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:16:00.084 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_produtos`, CONSTRAINT `FK_TB_Produtos_TB_ALMOXARIFADO_ID_ALMOXARIFADOS` FOREIGN KEY (`ID_ALMOXARIFADOS`) REFERENCES `tb_almoxarifado` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.ProdutosController.Create(CreateProdutosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\ProdutosController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 15:16:00.137 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:16:00.142 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/produtos application/json 221 - 500 - text/plain 835.9393ms
2023-07-12 15:16:00.361 -03:00 [DBG] Connection id "0HMS30E7FCM3T" received FIN.
2023-07-12 15:16:00.365 -03:00 [DBG] Connection id "0HMS30E7FCM3T" is closed. The last processed stream ID was 1.
2023-07-12 15:16:00.369 -03:00 [DBG] Connection id "0HMS30E7FCM3T" sending FIN because: "The client closed the connection."
2023-07-12 15:16:00.373 -03:00 [DBG] Connection id "0HMS30E7FCM3T" stopped.
2023-07-12 15:16:08.328 -03:00 [DBG] Connection id "0HMS30E7FCM3U" accepted.
2023-07-12 15:16:08.331 -03:00 [DBG] Connection id "0HMS30E7FCM3U" started.
2023-07-12 15:16:08.356 -03:00 [DBG] Connection "0HMS30E7FCM3U" established using the following protocol: "Tls12"
2023-07-12 15:16:08.363 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/produtos application/json 221
2023-07-12 15:16:08.371 -03:00 [DBG] POST requests are not supported
2023-07-12 15:16:08.374 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos'
2023-07-12 15:16:08.380 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos' is valid for the request path '/api/v1/tenant/produtos'
2023-07-12 15:16:08.383 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:16:08.385 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:16:08.387 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:16:08.389 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:16:08.391 -03:00 [INF] Route matched with {action = "Create", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-12 15:16:08.398 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:16:08.402 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:16:08.404 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:16:08.407 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:16:08.412 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:16:08.415 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:16:08.418 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:16:08.420 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' ...
2023-07-12 15:16:08.423 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' using the name '' in request data ...
2023-07-12 15:16:08.428 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:16:08.430 -03:00 [DBG] Connection id "0HMS30E7FCM3U", Request id "0HMS30E7FCM3U:00000001": started reading request body.
2023-07-12 15:16:08.433 -03:00 [DBG] Connection id "0HMS30E7FCM3U", Request id "0HMS30E7FCM3U:00000001": done reading request body.
2023-07-12 15:16:08.435 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'
2023-07-12 15:16:08.438 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-12 15:16:08.441 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-12 15:16:08.444 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' ...
2023-07-12 15:16:08.447 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-12 15:16:08.449 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:16:08.451 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:16:08.454 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:16:08.456 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:16:08.464 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:16:08.467 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:16:08.475 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:16:08.484 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:16:08.486 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-12 15:16:08.489 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:08.491 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:08.495 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:16:08.500 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:16:08.504 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:08.506 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:08.509 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:16:08.513 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 15:16:08.515 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:08.519 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:08.523 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE UPPER(`t`.`NomeProduto`) = @__ToUpper_0)
2023-07-12 15:16:08.529 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE UPPER(`t`.`NomeProduto`) = @__ToUpper_0)
2023-07-12 15:16:08.534 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:16:08.536 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:08.538 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:08.541 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Produtos'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:16:08.544 -03:00 [DBG] Context 'AthenaContext' started tracking 'Produtos' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:16:08.548 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:16:08.550 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:16:08.554 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:16:08.556 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:16:08.559 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:16:08.562 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:16:08.565 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:16:08.568 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:08.574 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:08.579 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:16:08.585 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:16:08.589 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:16:08.592 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:16:08.597 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 400), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (DbType = Single), @p7='?' (DbType = Single), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_Produtos` (`ID`, `ID_ALMOXARIFADOS`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `NomeProduto`, `DS_PESO_BRUTO`, `DS_PESO_LIQUIDO`, `ID_UNIDADE_MEDIDA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:16:08.607 -03:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 400), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (DbType = Single), @p7='?' (DbType = Single), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_Produtos` (`ID`, `ID_ALMOXARIFADOS`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `NomeProduto`, `DS_PESO_BRUTO`, `DS_PESO_LIQUIDO`, `ID_UNIDADE_MEDIDA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:16:08.617 -03:00 [DBG] Disposing transaction.
2023-07-12 15:16:08.619 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:08.622 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:08.631 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_produtos`, CONSTRAINT `FK_TB_Produtos_TB_ALMOXARIFADO_ID_ALMOXARIFADOS` FOREIGN KEY (`ID_ALMOXARIFADOS`) REFERENCES `tb_almoxarifado` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_produtos`, CONSTRAINT `FK_TB_Produtos_TB_ALMOXARIFADO_ID_ALMOXARIFADOS` FOREIGN KEY (`ID_ALMOXARIFADOS`) REFERENCES `tb_almoxarifado` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-12 15:16:09.015 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API) in 599.4692ms
2023-07-12 15:16:09.021 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:16:09.034 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_produtos`, CONSTRAINT `FK_TB_Produtos_TB_ALMOXARIFADO_ID_ALMOXARIFADOS` FOREIGN KEY (`ID_ALMOXARIFADOS`) REFERENCES `tb_almoxarifado` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.ProdutosController.Create(CreateProdutosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\ProdutosController.cs:line 24
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 15:16:09.085 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:16:09.088 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/produtos application/json 221 - 500 - text/plain 724.6436ms
2023-07-12 15:16:10.372 -03:00 [DBG] Connection id "0HMS30E7FCM3U" received FIN.
2023-07-12 15:16:10.377 -03:00 [DBG] Connection id "0HMS30E7FCM3U" is closed. The last processed stream ID was 1.
2023-07-12 15:16:10.381 -03:00 [DBG] Connection id "0HMS30E7FCM3U" sending FIN because: "The client closed the connection."
2023-07-12 15:16:10.386 -03:00 [DBG] Connection id "0HMS30E7FCM3U" stopped.
2023-07-12 15:16:17.926 -03:00 [DBG] Connection id "0HMS30E7FCM3V" accepted.
2023-07-12 15:16:17.929 -03:00 [DBG] Connection id "0HMS30E7FCM3V" started.
2023-07-12 15:16:17.938 -03:00 [DBG] Connection "0HMS30E7FCM3V" established using the following protocol: "Tls12"
2023-07-12 15:16:17.943 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/produtos application/json 221
2023-07-12 15:16:17.954 -03:00 [DBG] POST requests are not supported
2023-07-12 15:16:17.958 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos'
2023-07-12 15:16:17.962 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos' is valid for the request path '/api/v1/tenant/produtos'
2023-07-12 15:16:17.970 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:16:17.972 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:16:17.976 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:16:17.979 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:16:17.985 -03:00 [INF] Route matched with {action = "Create", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-12 15:16:17.990 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:16:17.995 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:16:18.001 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:16:18.006 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:16:18.011 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:16:18.013 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:16:18.017 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:16:18.020 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' ...
2023-07-12 15:16:18.022 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' using the name '' in request data ...
2023-07-12 15:16:18.025 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:16:18.028 -03:00 [DBG] Connection id "0HMS30E7FCM3V", Request id "0HMS30E7FCM3V:00000001": started reading request body.
2023-07-12 15:16:18.030 -03:00 [DBG] Connection id "0HMS30E7FCM3V", Request id "0HMS30E7FCM3V:00000001": done reading request body.
2023-07-12 15:16:18.034 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'
2023-07-12 15:16:18.036 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-12 15:16:18.039 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-12 15:16:18.041 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' ...
2023-07-12 15:16:18.044 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-12 15:16:18.046 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:16:18.049 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:16:18.052 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:16:18.055 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:16:18.059 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:16:18.063 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:16:18.070 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:16:18.074 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:16:18.076 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:16:18.078 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:18.081 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:18.085 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:16:18.090 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:16:18.094 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:18.096 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:18.100 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:16:18.104 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 15:16:18.107 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:18.112 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:18.119 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE UPPER(`t`.`NomeProduto`) = @__ToUpper_0)
2023-07-12 15:16:18.125 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE UPPER(`t`.`NomeProduto`) = @__ToUpper_0)
2023-07-12 15:16:18.130 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:16:18.134 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:18.137 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:18.140 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Produtos'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:16:18.143 -03:00 [DBG] Context 'AthenaContext' started tracking 'Produtos' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:16:18.146 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:16:18.150 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:16:18.153 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:16:18.156 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:16:18.159 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:16:18.161 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:16:18.164 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:16:18.167 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:18.172 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:18.174 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:16:18.177 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:16:18.183 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:16:18.185 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:16:18.188 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 400), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (DbType = Single), @p7='?' (DbType = Single), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_Produtos` (`ID`, `ID_ALMOXARIFADOS`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `NomeProduto`, `DS_PESO_BRUTO`, `DS_PESO_LIQUIDO`, `ID_UNIDADE_MEDIDA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:16:18.193 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (Size = 400), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (DbType = Single), @p7='?' (DbType = Single), @p8='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_Produtos` (`ID`, `ID_ALMOXARIFADOS`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `NomeProduto`, `DS_PESO_BRUTO`, `DS_PESO_LIQUIDO`, `ID_UNIDADE_MEDIDA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:16:18.201 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:16:18.202 -03:00 [DBG] Committing transaction.
2023-07-12 15:16:18.206 -03:00 [DBG] Committed transaction.
2023-07-12 15:16:18.208 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:18.210 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:18.213 -03:00 [DBG] Disposing transaction.
2023-07-12 15:16:18.216 -03:00 [DBG] An entity of type 'Produtos' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:16:18.219 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:16:18.223 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:16:18.227 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:16:18.229 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:16:18.231 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:16:18.233 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:16:18.237 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.CreateProdutosResponse'.
2023-07-12 15:16:18.240 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API) in 226.6873ms
2023-07-12 15:16:18.244 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:16:18.246 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:16:18.250 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/produtos application/json 221 - 201 - application/json;+charset=utf-8 306.5009ms
2023-07-12 15:16:20.387 -03:00 [DBG] Connection id "0HMS30E7FCM3V" received FIN.
2023-07-12 15:16:20.391 -03:00 [DBG] Connection id "0HMS30E7FCM3V" is closed. The last processed stream ID was 1.
2023-07-12 15:16:20.391 -03:00 [DBG] Connection id "0HMS30E7FCM3V" sending FIN because: "The client closed the connection."
2023-07-12 15:16:20.396 -03:00 [DBG] Connection id "0HMS30E7FCM3V" stopped.
2023-07-12 15:16:25.860 -03:00 [DBG] Connection id "0HMS30E7FCM40" accepted.
2023-07-12 15:16:25.863 -03:00 [DBG] Connection id "0HMS30E7FCM40" started.
2023-07-12 15:16:25.871 -03:00 [DBG] Connection "0HMS30E7FCM40" established using the following protocol: "Tls12"
2023-07-12 15:16:25.876 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/produtos - -
2023-07-12 15:16:25.879 -03:00 [DBG] The request path  does not match the path filter
2023-07-12 15:16:25.881 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos'
2023-07-12 15:16:25.884 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos' is valid for the request path '/api/v1/tenant/produtos'
2023-07-12 15:16:25.889 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:16:25.892 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:16:25.899 -03:00 [INF] Route matched with {action = "GetAll", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-12 15:16:25.906 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:16:25.911 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:16:25.914 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:16:25.917 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:16:25.922 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:16:25.925 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:16:25.928 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:16:25.930 -03:00 [DBG] Attempting to bind parameter 'NomeProduto' of type 'System.String' ...
2023-07-12 15:16:25.932 -03:00 [DBG] Attempting to bind parameter 'NomeProduto' of type 'System.String' using the name '' in request data ...
2023-07-12 15:16:25.936 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'NomeProduto' of type 'System.String'.
2023-07-12 15:16:25.940 -03:00 [DBG] Done attempting to bind parameter 'NomeProduto' of type 'System.String'.
2023-07-12 15:16:25.943 -03:00 [DBG] Done attempting to bind parameter 'NomeProduto' of type 'System.String'.
2023-07-12 15:16:25.946 -03:00 [DBG] Attempting to validate the bound parameter 'NomeProduto' of type 'System.String' ...
2023-07-12 15:16:25.948 -03:00 [DBG] Done attempting to validate the bound parameter 'NomeProduto' of type 'System.String'.
2023-07-12 15:16:25.951 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:16:25.954 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:16:25.958 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:16:25.960 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:16:25.965 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:16:25.969 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:16:25.977 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:16:25.981 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:16:25.984 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:16:25.991 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:25.995 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:25.998 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:16:26.006 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:16:26.011 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:26.014 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:26.022 -03:00 [DBG] Compiling query expression: 
'DbSet<Produtos>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
    )
    .Select(x => new { 
        Id = x.Id, 
        NomeProduto = x.NomeProduto
     })'
2023-07-12 15:16:26.029 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType9<Guid, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            NomeProduto -> 1
        SELECT t.ID AS Id, t.NomeProduto
        FROM TB_Produtos AS t
        WHERE TRUE && t.ST_ACTIVE), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType9<Guid, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-12 15:16:26.035 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:16:26.040 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-12 15:16:26.043 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:26.046 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:26.048 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`NomeProduto`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:16:26.053 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`NomeProduto`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:16:26.058 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:16:26.060 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:26.062 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:16:26.065 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:16:26.070 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:16:26.073 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:16:26.075 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:16:26.076 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:16:26.079 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.GetProdutosResponse'.
2023-07-12 15:16:26.084 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API) in 158.8662ms
2023-07-12 15:16:26.088 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:16:26.091 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:16:26.094 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/produtos - - - 200 - application/json;+charset=utf-8 217.1949ms
2023-07-12 15:16:30.398 -03:00 [DBG] Connection id "0HMS30E7FCM40" received FIN.
2023-07-12 15:16:30.402 -03:00 [DBG] Connection id "0HMS30E7FCM40" is closed. The last processed stream ID was 1.
2023-07-12 15:16:30.407 -03:00 [DBG] Connection id "0HMS30E7FCM40" sending FIN because: "The client closed the connection."
2023-07-12 15:16:30.417 -03:00 [DBG] Connection id "0HMS30E7FCM40" stopped.
2023-07-12 15:17:03.757 -03:00 [DBG] Connection id "0HMS30E7FCM41" accepted.
2023-07-12 15:17:03.761 -03:00 [DBG] Connection id "0HMS30E7FCM41" started.
2023-07-12 15:17:03.785 -03:00 [DBG] Connection "0HMS30E7FCM41" established using the following protocol: "Tls12"
2023-07-12 15:17:03.802 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:5004/api/v1/tenant/produtos/08db8304-165d-4c09-8a28-896e144d9c84 application/json 220
2023-07-12 15:17:03.806 -03:00 [DBG] PUT requests are not supported
2023-07-12 15:17:03.809 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos/08db8304-165d-4c09-8a28-896e144d9c84'
2023-07-12 15:17:03.811 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos/{id}' is valid for the request path '/api/v1/tenant/produtos/08db8304-165d-4c09-8a28-896e144d9c84'
2023-07-12 15:17:03.814 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API)'
2023-07-12 15:17:03.816 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:17:03.822 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:17:03.825 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API)'
2023-07-12 15:17:03.832 -03:00 [INF] Route matched with {action = "Update", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-12 15:17:03.838 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:17:03.841 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:17:03.843 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:17:03.846 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:17:03.849 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:17:03.853 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:17:03.856 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:17:03.858 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-12 15:17:03.861 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-12 15:17:03.863 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:17:03.866 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:17:03.870 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-12 15:17:03.872 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-12 15:17:03.875 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest' ...
2023-07-12 15:17:03.878 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest' using the name '' in request data ...
2023-07-12 15:17:03.882 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:17:03.887 -03:00 [DBG] Connection id "0HMS30E7FCM41", Request id "0HMS30E7FCM41:00000001": started reading request body.
2023-07-12 15:17:03.890 -03:00 [DBG] Connection id "0HMS30E7FCM41", Request id "0HMS30E7FCM41:00000001": done reading request body.
2023-07-12 15:17:03.894 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest'
2023-07-12 15:17:03.897 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest'.
2023-07-12 15:17:03.899 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest'.
2023-07-12 15:17:03.903 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest' ...
2023-07-12 15:17:03.906 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest'.
2023-07-12 15:17:03.910 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:17:03.914 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:17:03.917 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:17:03.923 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:17:03.928 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:17:03.932 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:17:03.938 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:17:03.943 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:17:03.945 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:17:03.947 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:03.950 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:03.954 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:17:03.958 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:17:03.962 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:03.965 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:03.971 -03:00 [DBG] Compiling query expression: 
'DbSet<Produtos>()
    .SingleOrDefault(x => x.Id == __GetId_0)'
2023-07-12 15:17:03.978 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Produtos>(
    asyncEnumerable: new SingleQueryingEnumerable<Produtos>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Produtos.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Produtos.AlmoxarifadosId (Guid) Required FK Index, 1], [Property: Produtos.CreatedAt (DateTime) Required, 2], [Property: Produtos.Descrição (string) Required, 3], [Property: Produtos.IsActive (bool) Required, 4], [Property: Produtos.NomeProduto (string), 5], [Property: Produtos.PesoBruto (float) Required, 6], [Property: Produtos.PesoLiquido (float) Required, 7], [Property: Produtos.UnidadeMedidaId (Guid) Required FK Index, 8], [Property: Produtos.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 9], }
            SELECT TOP(2) t.ID, t.ID_ALMOXARIFADOS, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.NomeProduto, t.DS_PESO_BRUTO, t.DS_PESO_LIQUIDO, t.ID_UNIDADE_MEDIDA, t.UPDATED_AT
            FROM TB_Produtos AS t
            WHERE t.ID == @__GetId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Produtos>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 15:17:03.984 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:17:03.986 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:17:03.989 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:03.993 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:03.997 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`NomeProduto`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:17:04.005 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`NomeProduto`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:17:04.011 -03:00 [DBG] Context 'AthenaContext' started tracking 'Produtos' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:17:04.013 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:17:04.015 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:04.017 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:04.025 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:17:04.027 -03:00 [DBG] The unchanged property 'Produtos.Descrição' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:17:04.029 -03:00 [DBG] An entity of type 'Produtos' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:17:04.032 -03:00 [DBG] The unchanged property 'Produtos.PesoBruto' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:17:04.038 -03:00 [DBG] The unchanged property 'Produtos.PesoLiquido' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:17:04.042 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:17:04.045 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:17:04.047 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:17:04.050 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:17:04.054 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:17:04.057 -03:00 [DBG] The unchanged property 'Produtos.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:17:04.060 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:17:04.063 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:04.072 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:04.075 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:17:04.083 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:17:04.087 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:17:04.090 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:17:04.092 -03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 400), @p1='?' (DbType = Single), @p2='?' (DbType = Single), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_Produtos` SET `DS_DESCRICAO` = @p0, `DS_PESO_BRUTO` = @p1, `DS_PESO_LIQUIDO` = @p2
WHERE `ID` = @p3 AND `UPDATED_AT` = @p4;
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p3;
2023-07-12 15:17:04.097 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 400), @p1='?' (DbType = Single), @p2='?' (DbType = Single), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_Produtos` SET `DS_DESCRICAO` = @p0, `DS_PESO_BRUTO` = @p1, `DS_PESO_LIQUIDO` = @p2
WHERE `ID` = @p3 AND `UPDATED_AT` = @p4;
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p3;
2023-07-12 15:17:04.102 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:17:04.105 -03:00 [DBG] Committing transaction.
2023-07-12 15:17:04.109 -03:00 [DBG] Committed transaction.
2023-07-12 15:17:04.110 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:04.113 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:04.116 -03:00 [DBG] Disposing transaction.
2023-07-12 15:17:04.120 -03:00 [DBG] An entity of type 'Produtos' tracked by 'AthenaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:17:04.124 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:17:04.131 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:17:04.135 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:17:04.138 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:17:04.140 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:17:04.143 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:17:04.146 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.UpdateProdutosResponse'.
2023-07-12 15:17:04.151 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API) in 297.9715ms
2023-07-12 15:17:04.155 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API)'
2023-07-12 15:17:04.159 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:17:04.162 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:5004/api/v1/tenant/produtos/08db8304-165d-4c09-8a28-896e144d9c84 application/json 220 - 200 - application/json;+charset=utf-8 361.4294ms
2023-07-12 15:17:10.465 -03:00 [DBG] Connection id "0HMS30E7FCM41" received FIN.
2023-07-12 15:17:10.468 -03:00 [DBG] Connection id "0HMS30E7FCM41" is closed. The last processed stream ID was 1.
2023-07-12 15:17:10.472 -03:00 [DBG] Connection id "0HMS30E7FCM41" sending FIN because: "The client closed the connection."
2023-07-12 15:17:10.480 -03:00 [DBG] Connection id "0HMS30E7FCM41" stopped.
2023-07-12 15:17:13.633 -03:00 [DBG] Connection id "0HMS30E7FCM42" accepted.
2023-07-12 15:17:13.636 -03:00 [DBG] Connection id "0HMS30E7FCM42" started.
2023-07-12 15:17:13.641 -03:00 [DBG] Connection "0HMS30E7FCM42" established using the following protocol: "Tls12"
2023-07-12 15:17:13.646 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/produtos/08db8304-165d-4c09-8a28-896e144d9c84 - -
2023-07-12 15:17:13.649 -03:00 [DBG] The request path  does not match the path filter
2023-07-12 15:17:13.652 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos/08db8304-165d-4c09-8a28-896e144d9c84'
2023-07-12 15:17:13.655 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetById (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos/{id}' is valid for the request path '/api/v1/tenant/produtos/08db8304-165d-4c09-8a28-896e144d9c84'
2023-07-12 15:17:13.662 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetById (Concent.Athena.Services.API)'
2023-07-12 15:17:13.664 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetById (Concent.Athena.Services.API)'
2023-07-12 15:17:13.671 -03:00 [INF] Route matched with {action = "GetById", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-12 15:17:13.677 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:17:13.681 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:17:13.685 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:17:13.691 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:17:13.694 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:17:13.700 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:17:13.703 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:17:13.708 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-12 15:17:13.712 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-12 15:17:13.715 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:17:13.717 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-12 15:17:13.719 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-12 15:17:13.723 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-12 15:17:13.726 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:17:13.730 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:17:13.732 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:17:13.735 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:17:13.741 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:17:13.745 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:17:13.750 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:17:13.754 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:17:13.756 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:17:13.760 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:13.763 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:13.765 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:17:13.770 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:17:13.776 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:13.778 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:13.783 -03:00 [DBG] Compiling query expression: 
'DbSet<Produtos>()
    .AsNoTracking()
    .Where(x => x.Id == __GetId_0)
    .Select(x => new { 
        Id = x.Id, 
        Descrição = x.Descrição, 
        PesoLiquido = x.PesoLiquido, 
        PesoBruto = x.PesoBruto, 
        AlmoxarifadosId = x.AlmoxarifadosId, 
        UnidadeMedidaId = x.UnidadeMedidaId
     })'
2023-07-12 15:17:13.791 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType8<Guid, string, float, float, Guid, Guid>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            Descrição -> 1
            PesoLiquido -> 2
            PesoBruto -> 3
            AlmoxarifadosId -> 4
            UnidadeMedidaId -> 5
        SELECT t.ID AS Id, t.DS_DESCRICAO AS Descrição, t.DS_PESO_LIQUIDO AS PesoLiquido, t.DS_PESO_BRUTO AS PesoBruto, t.ID_ALMOXARIFADOS AS AlmoxarifadosId, t.ID_UNIDADE_MEDIDA AS UnidadeMedidaId
        FROM TB_Produtos AS t
        WHERE t.ID == @__GetId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType8<Guid, string, float, float, Guid, Guid>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-12 15:17:13.797 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:17:13.800 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:17:13.803 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:13.807 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:13.810 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_DESCRICAO` AS `Descrição`, `t`.`DS_PESO_LIQUIDO` AS `PesoLiquido`, `t`.`DS_PESO_BRUTO` AS `PesoBruto`, `t`.`ID_ALMOXARIFADOS` AS `AlmoxarifadosId`, `t`.`ID_UNIDADE_MEDIDA` AS `UnidadeMedidaId`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
2023-07-12 15:17:13.814 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_DESCRICAO` AS `Descrição`, `t`.`DS_PESO_LIQUIDO` AS `PesoLiquido`, `t`.`DS_PESO_BRUTO` AS `PesoBruto`, `t`.`ID_ALMOXARIFADOS` AS `AlmoxarifadosId`, `t`.`ID_UNIDADE_MEDIDA` AS `UnidadeMedidaId`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
2023-07-12 15:17:13.819 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:17:13.821 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:13.824 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:13.827 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:17:13.830 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:17:13.832 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:17:13.833 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:17:13.835 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:17:13.838 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.GetByIdProdutosResponse'.
2023-07-12 15:17:13.846 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.GetById (Concent.Athena.Services.API) in 145.9994ms
2023-07-12 15:17:13.849 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetById (Concent.Athena.Services.API)'
2023-07-12 15:17:13.851 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:17:13.854 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/produtos/08db8304-165d-4c09-8a28-896e144d9c84 - - - 200 - application/json;+charset=utf-8 207.8133ms
2023-07-12 15:17:20.470 -03:00 [DBG] Connection id "0HMS30E7FCM42" received FIN.
2023-07-12 15:17:20.474 -03:00 [DBG] Connection id "0HMS30E7FCM42" is closed. The last processed stream ID was 1.
2023-07-12 15:17:20.477 -03:00 [DBG] Connection id "0HMS30E7FCM42" sending FIN because: "The client closed the connection."
2023-07-12 15:17:20.486 -03:00 [DBG] Connection id "0HMS30E7FCM42" stopped.
2023-07-12 15:17:39.286 -03:00 [DBG] Connection id "0HMS30E7FCM43" accepted.
2023-07-12 15:17:39.289 -03:00 [DBG] Connection id "0HMS30E7FCM43" started.
2023-07-12 15:17:39.298 -03:00 [DBG] Connection "0HMS30E7FCM43" established using the following protocol: "Tls12"
2023-07-12 15:17:39.304 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5004/api/v1/tenant/produtos?ProdutoId=08db8304-165d-4c09-8a28-896e144d9c84 - -
2023-07-12 15:17:39.306 -03:00 [DBG] DELETE requests are not supported
2023-07-12 15:17:39.308 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos'
2023-07-12 15:17:39.311 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Delete (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos' is valid for the request path '/api/v1/tenant/produtos'
2023-07-12 15:17:39.314 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Delete (Concent.Athena.Services.API)'
2023-07-12 15:17:39.319 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:17:39.321 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:17:39.323 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Delete (Concent.Athena.Services.API)'
2023-07-12 15:17:39.331 -03:00 [INF] Route matched with {action = "Delete", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-12 15:17:39.337 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:17:39.339 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:17:39.344 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:17:39.347 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:17:39.352 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:17:39.355 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:17:39.358 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-12 15:17:39.360 -03:00 [DBG] Attempting to bind parameter 'ProdutoId' of type 'System.Guid' ...
2023-07-12 15:17:39.363 -03:00 [DBG] Attempting to bind parameter 'ProdutoId' of type 'System.Guid' using the name 'ProdutoId' in request data ...
2023-07-12 15:17:39.367 -03:00 [DBG] Done attempting to bind parameter 'ProdutoId' of type 'System.Guid'.
2023-07-12 15:17:39.370 -03:00 [DBG] Done attempting to bind parameter 'ProdutoId' of type 'System.Guid'.
2023-07-12 15:17:39.373 -03:00 [DBG] Attempting to validate the bound parameter 'ProdutoId' of type 'System.Guid' ...
2023-07-12 15:17:39.376 -03:00 [DBG] Done attempting to validate the bound parameter 'ProdutoId' of type 'System.Guid'.
2023-07-12 15:17:39.379 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:17:39.381 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:17:39.384 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:17:39.387 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:17:39.392 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:17:39.396 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:17:39.402 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:17:39.405 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:17:39.407 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:17:39.409 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:39.412 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:39.414 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:17:39.421 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:17:39.426 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:39.429 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:39.436 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:17:39.438 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:17:39.440 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:39.448 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:39.453 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`NomeProduto`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:17:39.458 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`NomeProduto`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-12 15:17:39.462 -03:00 [DBG] Context 'AthenaContext' started tracking 'Produtos' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:17:39.464 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:17:39.468 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:39.471 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:39.475 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:17:39.477 -03:00 [DBG] The unchanged property 'Produtos.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:17:39.479 -03:00 [DBG] An entity of type 'Produtos' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:17:39.484 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:17:39.486 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:17:39.488 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:17:39.490 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:17:39.493 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:17:39.495 -03:00 [DBG] The unchanged property 'Produtos.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-12 15:17:39.498 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:17:39.501 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:39.509 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:39.511 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:17:39.517 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:17:39.519 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:17:39.521 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 15:17:39.524 -03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_Produtos` SET `ST_ACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-07-12 15:17:39.528 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_Produtos` SET `ST_ACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-07-12 15:17:39.534 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:17:39.535 -03:00 [DBG] Committing transaction.
2023-07-12 15:17:39.540 -03:00 [DBG] Committed transaction.
2023-07-12 15:17:39.541 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:39.544 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:17:39.546 -03:00 [DBG] Disposing transaction.
2023-07-12 15:17:39.548 -03:00 [DBG] An entity of type 'Produtos' tracked by 'AthenaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:17:39.552 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:17:39.557 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:17:39.561 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:17:39.563 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:17:39.564 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:17:39.567 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:17:39.570 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.DeleteProdutosResponse'.
2023-07-12 15:17:39.573 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.Delete (Concent.Athena.Services.API) in 218.3708ms
2023-07-12 15:17:39.577 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Delete (Concent.Athena.Services.API)'
2023-07-12 15:17:39.580 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:17:39.584 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5004/api/v1/tenant/produtos?ProdutoId=08db8304-165d-4c09-8a28-896e144d9c84 - - - 200 - application/json;+charset=utf-8 279.7266ms
2023-07-12 15:17:40.504 -03:00 [DBG] Connection id "0HMS30E7FCM43" received FIN.
2023-07-12 15:17:40.506 -03:00 [DBG] Connection id "0HMS30E7FCM43" is closed. The last processed stream ID was 1.
2023-07-12 15:17:40.513 -03:00 [DBG] Connection id "0HMS30E7FCM43" sending FIN because: "The client closed the connection."
2023-07-12 15:17:40.530 -03:00 [DBG] Connection id "0HMS30E7FCM43" stopped.
2023-07-12 15:20:05.181 -03:00 [DBG] Connection id "0HMS30E7FCM44" accepted.
2023-07-12 15:20:05.192 -03:00 [DBG] Connection id "0HMS30E7FCM44" started.
2023-07-12 15:20:05.205 -03:00 [DBG] Connection "0HMS30E7FCM44" established using the following protocol: "Tls12"
2023-07-12 15:20:05.216 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/unidademedida application/json 101
2023-07-12 15:20:05.221 -03:00 [DBG] POST requests are not supported
2023-07-12 15:20:05.226 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:20:05.229 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:20:05.233 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:20:05.236 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:20:05.240 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:20:05.244 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:20:05.250 -03:00 [INF] Route matched with {action = "Create", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-12 15:20:05.255 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:20:05.260 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:20:05.264 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:20:05.267 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:20:05.270 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:20:05.272 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:20:05.278 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:20:05.281 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' ...
2023-07-12 15:20:05.285 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' using the name '' in request data ...
2023-07-12 15:20:05.289 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:20:05.294 -03:00 [DBG] Connection id "0HMS30E7FCM44", Request id "0HMS30E7FCM44:00000001": started reading request body.
2023-07-12 15:20:05.298 -03:00 [DBG] Connection id "0HMS30E7FCM44", Request id "0HMS30E7FCM44:00000001": done reading request body.
2023-07-12 15:20:05.302 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'
2023-07-12 15:20:05.304 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-12 15:20:05.309 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-12 15:20:05.314 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' ...
2023-07-12 15:20:05.316 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-12 15:20:05.319 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:20:05.321 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:20:05.327 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:20:05.329 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:20:05.333 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:20:05.337 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:20:05.349 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:20:05.357 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:20:05.360 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:20:05.362 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:05.365 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:05.367 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:20:05.372 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:20:05.377 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:05.379 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:05.384 -03:00 [DBG] Compiling query expression: 
'DbSet<UnidadeMedida>()
    .Any(x => x.NomeUnidadeMedida == __request_NomeUnidadeMedida_0)'
2023-07-12 15:20:05.388 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_UNIDADE_MEDIDA AS t
                WHERE t.DS_UNIDADE_MEDIDA == @__request_NomeUnidadeMedida_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 15:20:05.394 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:20:05.396 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 15:20:05.398 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:05.405 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:05.410 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`DS_UNIDADE_MEDIDA` = @__request_NomeUnidadeMedida_0)
2023-07-12 15:20:05.414 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`DS_UNIDADE_MEDIDA` = @__request_NomeUnidadeMedida_0)
2023-07-12 15:20:05.420 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:20:05.421 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:05.425 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:05.433 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.UnidadeMedida'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:20:05.446 -03:00 [DBG] Context 'AthenaContext' started tracking 'UnidadeMedida' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:20:05.449 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:20:05.453 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:20:05.455 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:20:05.458 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:20:05.461 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:20:05.463 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:20:05.465 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:20:05.467 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:05.471 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:05.475 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:20:05.479 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:20:05.481 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:20:05.483 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-12 15:20:05.486 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (Size = 400), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_UNIDADE_MEDIDA` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `DS_UNIDADE_MEDIDA`, `DS_OBSERVACAO`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:20:05.491 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (Size = 400), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_UNIDADE_MEDIDA` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `DS_UNIDADE_MEDIDA`, `DS_OBSERVACAO`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:20:05.499 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:20:05.502 -03:00 [DBG] Committing transaction.
2023-07-12 15:20:05.507 -03:00 [DBG] Committed transaction.
2023-07-12 15:20:05.510 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:05.513 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:05.515 -03:00 [DBG] Disposing transaction.
2023-07-12 15:20:05.517 -03:00 [DBG] An entity of type 'UnidadeMedida' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:20:05.520 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:20:05.526 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:20:05.529 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:20:05.531 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:20:05.532 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:20:05.534 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:20:05.536 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.CreateUnidadeMedidaResponse'.
2023-07-12 15:20:05.541 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API) in 268.9442ms
2023-07-12 15:20:05.544 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:20:05.546 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:20:05.549 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/unidademedida application/json 101 - 201 - application/json;+charset=utf-8 335.4520ms
2023-07-12 15:20:10.722 -03:00 [DBG] Connection id "0HMS30E7FCM44" received FIN.
2023-07-12 15:20:10.725 -03:00 [DBG] Connection id "0HMS30E7FCM44" is closed. The last processed stream ID was 1.
2023-07-12 15:20:10.725 -03:00 [DBG] Connection id "0HMS30E7FCM44" sending FIN because: "The client closed the connection."
2023-07-12 15:20:10.730 -03:00 [DBG] Connection id "0HMS30E7FCM44" stopped.
2023-07-12 15:20:13.854 -03:00 [DBG] Connection id "0HMS30E7FCM45" accepted.
2023-07-12 15:20:13.858 -03:00 [DBG] Connection id "0HMS30E7FCM45" started.
2023-07-12 15:20:13.863 -03:00 [DBG] Connection "0HMS30E7FCM45" established using the following protocol: "Tls12"
2023-07-12 15:20:13.867 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida - -
2023-07-12 15:20:13.871 -03:00 [DBG] The request path  does not match the path filter
2023-07-12 15:20:13.875 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:20:13.879 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:20:13.883 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:20:13.885 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:20:13.892 -03:00 [INF] Route matched with {action = "GetAll", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-12 15:20:13.900 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:20:13.905 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:20:13.907 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:20:13.912 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:20:13.915 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:20:13.918 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:20:13.921 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:20:13.923 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-12 15:20:13.925 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' using the name '' in request data ...
2023-07-12 15:20:13.930 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-12 15:20:13.933 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-12 15:20:13.935 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-12 15:20:13.938 -03:00 [DBG] Attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-12 15:20:13.940 -03:00 [DBG] Done attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-12 15:20:13.942 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:20:13.946 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:20:13.948 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:20:13.951 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:20:13.956 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:20:13.959 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:20:13.965 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:20:13.969 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:20:13.971 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:20:13.973 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:13.976 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:13.981 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:20:13.985 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:20:13.989 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:13.992 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:13.998 -03:00 [DBG] Compiling query expression: 
'DbSet<UnidadeMedida>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
    )
    .Select(x => new { 
        Id = x.Id, 
        NomeUnidadeMedida = x.NomeUnidadeMedida
     })'
2023-07-12 15:20:14.003 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType15<Guid, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            NomeUnidadeMedida -> 1
        SELECT t.ID AS Id, t.DS_UNIDADE_MEDIDA AS NomeUnidadeMedida
        FROM TB_UNIDADE_MEDIDA AS t
        WHERE TRUE && t.ST_ACTIVE), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType15<Guid, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-12 15:20:14.008 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:20:14.012 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 15:20:14.014 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:14.017 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:14.020 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:20:14.023 -03:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-12 15:20:14.028 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:20:14.031 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:14.033 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:14.036 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:20:14.040 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:20:14.041 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:20:14.046 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:20:14.049 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:20:14.052 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.GetUnidadeMedidaResponse'.
2023-07-12 15:20:14.058 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API) in 140.3701ms
2023-07-12 15:20:14.066 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-12 15:20:14.068 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:20:14.070 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida - - - 200 - application/json;+charset=utf-8 203.0309ms
2023-07-12 15:20:20.737 -03:00 [DBG] Connection id "0HMS30E7FCM45" received FIN.
2023-07-12 15:20:20.744 -03:00 [DBG] Connection id "0HMS30E7FCM45" is closed. The last processed stream ID was 1.
2023-07-12 15:20:20.746 -03:00 [DBG] Connection id "0HMS30E7FCM45" sending FIN because: "The client closed the connection."
2023-07-12 15:20:20.752 -03:00 [DBG] Connection id "0HMS30E7FCM45" stopped.
2023-07-12 15:20:30.760 -03:00 [DBG] Connection id "0HMS30E7FCM46" accepted.
2023-07-12 15:20:30.763 -03:00 [DBG] Connection id "0HMS30E7FCM46" started.
2023-07-12 15:20:30.773 -03:00 [DBG] Connection "0HMS30E7FCM46" established using the following protocol: "Tls12"
2023-07-12 15:20:30.777 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/address/address application/json 114
2023-07-12 15:20:30.779 -03:00 [DBG] POST requests are not supported
2023-07-12 15:20:30.781 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/address/address'
2023-07-12 15:20:30.783 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AddressController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/address/Address' is valid for the request path '/api/v1/address/address'
2023-07-12 15:20:30.789 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AddressController.Create (Concent.Athena.Services.API)'
2023-07-12 15:20:30.792 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:20:30.794 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:20:30.795 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AddressController.Create (Concent.Athena.Services.API)'
2023-07-12 15:20:30.800 -03:00 [INF] Route matched with {action = "Create", controller = "Address"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AddressController (Concent.Athena.Services.API).
2023-07-12 15:20:30.808 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:20:30.810 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:20:30.813 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:20:30.819 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:20:30.823 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:20:30.826 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AddressController (Concent.Athena.Services.API)
2023-07-12 15:20:30.829 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AddressController (Concent.Athena.Services.API)
2023-07-12 15:20:30.831 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest' ...
2023-07-12 15:20:30.838 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest' using the name '' in request data ...
2023-07-12 15:20:30.842 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:20:30.845 -03:00 [DBG] Connection id "0HMS30E7FCM46", Request id "0HMS30E7FCM46:00000001": started reading request body.
2023-07-12 15:20:30.848 -03:00 [DBG] Connection id "0HMS30E7FCM46", Request id "0HMS30E7FCM46:00000001": done reading request body.
2023-07-12 15:20:30.854 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest'
2023-07-12 15:20:30.858 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest'.
2023-07-12 15:20:30.860 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest'.
2023-07-12 15:20:30.865 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest' ...
2023-07-12 15:20:30.869 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest'.
2023-07-12 15:20:30.874 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:20:30.876 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:20:30.879 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:20:30.883 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:20:30.891 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:20:30.897 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:20:30.905 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:20:30.909 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:20:30.911 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:20:30.914 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:30.917 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:30.922 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:20:30.927 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:20:30.931 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:30.934 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:30.940 -03:00 [DBG] Compiling query expression: 
'DbSet<Address>()
    .Any(x => x.PostalCode == __request_PostalCode_0)'
2023-07-12 15:20:30.945 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_ADDRESS AS t
                WHERE t.DS_POSTAL_CODE == @__request_PostalCode_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 15:20:30.951 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:20:30.954 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:20:30.959 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:30.964 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:30.968 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PostalCode_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ADDRESS` AS `t`
    WHERE `t`.`DS_POSTAL_CODE` = @__request_PostalCode_0)
2023-07-12 15:20:30.979 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_PostalCode_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ADDRESS` AS `t`
    WHERE `t`.`DS_POSTAL_CODE` = @__request_PostalCode_0)
2023-07-12 15:20:30.984 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:20:30.987 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:30.991 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:30.996 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Address'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:20:31.022 -03:00 [DBG] Context 'AthenaContext' started tracking 'Address' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:20:31.025 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:20:31.029 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:20:31.031 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:20:31.034 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:20:31.037 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:20:31.040 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:20:31.042 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:20:31.044 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:31.048 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:31.052 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:20:31.059 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:20:31.062 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:20:31.064 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:20:31.067 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 400), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ADDRESS` (`ID`, `DS_CITY`, `DS_COUNTRY`, `CREATED_AT`, `ST_ACTIVE`, `DS_POSTAL_CODE`, `DS_STATE`, `DS_STREET`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_ADDRESS`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:20:31.073 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 400), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ADDRESS` (`ID`, `DS_CITY`, `DS_COUNTRY`, `CREATED_AT`, `ST_ACTIVE`, `DS_POSTAL_CODE`, `DS_STATE`, `DS_STREET`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_ADDRESS`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:20:31.079 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:20:31.081 -03:00 [DBG] Committing transaction.
2023-07-12 15:20:31.085 -03:00 [DBG] Committed transaction.
2023-07-12 15:20:31.087 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:31.090 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:31.093 -03:00 [DBG] Disposing transaction.
2023-07-12 15:20:31.095 -03:00 [DBG] An entity of type 'Address' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:20:31.100 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-12 15:20:31.108 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:20:31.112 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:20:31.113 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:20:31.115 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:20:31.117 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:20:31.121 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.Address.CreateAddressResponse'.
2023-07-12 15:20:31.125 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AddressController.Create (Concent.Athena.Services.API) in 298.3365ms
2023-07-12 15:20:31.127 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AddressController.Create (Concent.Athena.Services.API)'
2023-07-12 15:20:31.130 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:20:31.132 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/address/address application/json 114 - 201 - application/json;+charset=utf-8 355.6367ms
2023-07-12 15:20:40.770 -03:00 [DBG] Connection id "0HMS30E7FCM46" received FIN.
2023-07-12 15:20:40.773 -03:00 [DBG] Connection id "0HMS30E7FCM46" is closed. The last processed stream ID was 1.
2023-07-12 15:20:40.778 -03:00 [DBG] Connection id "0HMS30E7FCM46" sending FIN because: "The client closed the connection."
2023-07-12 15:20:40.786 -03:00 [DBG] Connection id "0HMS30E7FCM46" stopped.
2023-07-12 15:20:41.649 -03:00 [DBG] Connection id "0HMS30E7FCM47" accepted.
2023-07-12 15:20:41.653 -03:00 [DBG] Connection id "0HMS30E7FCM47" started.
2023-07-12 15:20:41.659 -03:00 [DBG] Connection "0HMS30E7FCM47" established using the following protocol: "Tls12"
2023-07-12 15:20:41.664 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/unidademedida application/json 101
2023-07-12 15:20:41.666 -03:00 [DBG] POST requests are not supported
2023-07-12 15:20:41.669 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:20:41.672 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-12 15:20:41.676 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:20:41.679 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:20:41.682 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:20:41.684 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:20:41.687 -03:00 [INF] Route matched with {action = "Create", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-12 15:20:41.693 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:20:41.696 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:20:41.700 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:20:41.704 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:20:41.708 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:20:41.712 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:20:41.715 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-12 15:20:41.718 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' ...
2023-07-12 15:20:41.722 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' using the name '' in request data ...
2023-07-12 15:20:41.726 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:20:41.729 -03:00 [DBG] Connection id "0HMS30E7FCM47", Request id "0HMS30E7FCM47:00000001": started reading request body.
2023-07-12 15:20:41.732 -03:00 [DBG] Connection id "0HMS30E7FCM47", Request id "0HMS30E7FCM47:00000001": done reading request body.
2023-07-12 15:20:41.735 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'
2023-07-12 15:20:41.738 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-12 15:20:41.741 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-12 15:20:41.743 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' ...
2023-07-12 15:20:41.746 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-12 15:20:41.749 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:20:41.751 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:20:41.753 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:20:41.757 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:20:41.759 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:20:41.763 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:20:41.768 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:20:41.775 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:20:41.777 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:20:41.780 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:41.782 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:41.784 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:20:41.790 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:20:41.794 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:41.796 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:41.799 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:20:41.801 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:20:41.803 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:41.808 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:41.812 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`DS_UNIDADE_MEDIDA` = @__request_NomeUnidadeMedida_0)
2023-07-12 15:20:41.816 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`DS_UNIDADE_MEDIDA` = @__request_NomeUnidadeMedida_0)
2023-07-12 15:20:41.820 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:20:41.823 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:41.825 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:20:41.828 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:20:41.833 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:20:41.834 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:20:41.836 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:20:41.838 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:20:41.842 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.CreateUnidadeMedidaResponse'.
2023-07-12 15:20:41.844 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API) in 132.5638ms
2023-07-12 15:20:41.847 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-12 15:20:41.849 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:20:41.852 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/unidademedida application/json 101 - 400 - application/json;+charset=utf-8 188.3463ms
2023-07-12 15:20:50.773 -03:00 [DBG] Connection id "0HMS30E7FCM47" received FIN.
2023-07-12 15:20:50.778 -03:00 [DBG] Connection id "0HMS30E7FCM47" is closed. The last processed stream ID was 1.
2023-07-12 15:20:50.780 -03:00 [DBG] Connection id "0HMS30E7FCM47" sending FIN because: "The client closed the connection."
2023-07-12 15:20:50.788 -03:00 [DBG] Connection id "0HMS30E7FCM47" stopped.
2023-07-12 15:26:26.730 -03:00 [DBG] Connection id "0HMS30E7FCM48" accepted.
2023-07-12 15:26:26.737 -03:00 [DBG] Connection id "0HMS30E7FCM48" started.
2023-07-12 15:26:26.798 -03:00 [DBG] Connection "0HMS30E7FCM48" established using the following protocol: "Tls12"
2023-07-12 15:26:26.802 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 15:26:26.805 -03:00 [DBG] POST requests are not supported
2023-07-12 15:26:26.807 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:26:26.810 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:26:26.813 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:26:26.815 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:26:26.817 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:26:26.818 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:26:26.822 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:26:26.826 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:26:26.829 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:26:26.831 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:26:26.835 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:26:26.837 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:26:26.841 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:26:26.844 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:26:26.847 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:26:26.849 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:26:26.854 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:26:26.860 -03:00 [DBG] Connection id "0HMS30E7FCM48", Request id "0HMS30E7FCM48:00000001": started reading request body.
2023-07-12 15:26:26.864 -03:00 [DBG] Connection id "0HMS30E7FCM48", Request id "0HMS30E7FCM48:00000001": done reading request body.
2023-07-12 15:26:26.867 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 15:26:26.869 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:26:26.872 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:26:26.875 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:26:26.878 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:26:26.880 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:26:26.884 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:26:26.886 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:26:26.889 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:26:26.892 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:26:26.896 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:26:26.906 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:26:26.916 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:26:26.920 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 15:26:26.922 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:26:26.928 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:26:26.931 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:26:26.943 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:26:26.949 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:26:26.952 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:26:26.955 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:26:26.959 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 15:26:26.963 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:26:26.970 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:26:26.976 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:26:26.981 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:26:26.986 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:26:26.988 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:26:26.993 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:26:26.996 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:26:27.001 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:26:27.003 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:26:27.005 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:26:27.008 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:26:27.010 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 15:26:27.013 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 172.6468ms
2023-07-12 15:26:27.016 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:26:27.020 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:26:27.023 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 400 - application/json;+charset=utf-8 221.0463ms
2023-07-12 15:26:32.900 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 74
2023-07-12 15:26:32.905 -03:00 [DBG] POST requests are not supported
2023-07-12 15:26:32.908 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:26:32.912 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:26:32.918 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:26:32.921 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:26:32.924 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:26:32.929 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:26:32.933 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:26:32.937 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:26:32.940 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:26:32.943 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:26:32.951 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:26:32.953 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:26:32.956 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:26:32.958 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:26:32.964 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:26:32.968 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:26:32.970 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:26:32.973 -03:00 [DBG] Connection id "0HMS30E7FCM48", Request id "0HMS30E7FCM48:00000003": started reading request body.
2023-07-12 15:26:32.976 -03:00 [DBG] Connection id "0HMS30E7FCM48", Request id "0HMS30E7FCM48:00000003": done reading request body.
2023-07-12 15:26:32.983 -03:00 [DBG] JSON input formatter threw an exception: The JSON value could not be converted to System.Guid. Path: $.personId | LineNumber: 3 | BytePositionInLine: 16.
System.Text.Json.JsonException: The JSON value could not be converted to System.Guid. Path: $.personId | LineNumber: 3 | BytePositionInLine: 16.
 ---> System.FormatException: The JSON value is not in a supported Guid format.
   at System.Text.Json.Utf8JsonReader.GetGuid()
   at System.Text.Json.Serialization.Converters.GuidConverter.Read(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.JsonPropertyInfo`1.ReadJsonAndSetMember(Object obj, ReadStack& state, Utf8JsonReader& reader)
   at System.Text.Json.Serialization.Converters.ObjectDefaultConverter`1.OnTryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.TryRead(Utf8JsonReader& reader, Type typeToConvert, JsonSerializerOptions options, ReadStack& state, T& value)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   --- End of inner exception stack trace ---
   at System.Text.Json.ThrowHelper.ReThrowWithPath(ReadStack& state, Utf8JsonReader& reader, Exception ex)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCore(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.Serialization.JsonConverter`1.ReadCoreAsObject(Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonConverter jsonConverter, Utf8JsonReader& reader, JsonSerializerOptions options, ReadStack& state)
   at System.Text.Json.JsonSerializer.ReadCore[TValue](JsonReaderState& readerState, Boolean isFinalBlock, ReadOnlySpan`1 buffer, JsonSerializerOptions options, ReadStack& state, JsonConverter converterBase)
   at System.Text.Json.JsonSerializer.ReadAsync[TValue](Stream utf8Json, Type returnType, JsonSerializerOptions options, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter.ReadRequestBodyAsync(InputFormatterContext context, Encoding encoding)
2023-07-12 15:26:32.993 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:26:32.997 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:26:33.000 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:26:33.002 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:26:33.004 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:26:33.007 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:26:33.010 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:26:33.013 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:26:33.016 -03:00 [DBG] The request has model state errors, returning an error response.
2023-07-12 15:26:33.017 -03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2023-07-12 15:26:33.020 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:26:33.023 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:26:33.025 -03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2023-07-12 15:26:33.031 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2023-07-12 15:26:33.033 -03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2023-07-12 15:26:33.036 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 80.3448ms
2023-07-12 15:26:33.039 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:26:33.041 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 74 - 400 - application/problem+json;+charset=utf-8 141.4812ms
2023-07-12 15:27:01.848 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 15:27:01.855 -03:00 [DBG] POST requests are not supported
2023-07-12 15:27:01.858 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:27:01.863 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:27:01.867 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:27:01.870 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:27:01.874 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:27:01.878 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:27:01.880 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:27:01.883 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:27:01.886 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:27:01.891 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:27:01.895 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:27:01.897 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:27:01.900 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:27:01.902 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:27:01.909 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:27:01.912 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:27:01.915 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:27:01.917 -03:00 [DBG] Connection id "0HMS30E7FCM48", Request id "0HMS30E7FCM48:00000005": started reading request body.
2023-07-12 15:27:01.920 -03:00 [DBG] Connection id "0HMS30E7FCM48", Request id "0HMS30E7FCM48:00000005": done reading request body.
2023-07-12 15:27:01.925 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 15:27:01.928 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:27:01.931 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:27:01.933 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:27:01.936 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:27:01.941 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:27:01.944 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:27:01.947 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:27:01.949 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:27:01.952 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:27:01.957 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:27:01.963 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:27:01.966 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:27:01.969 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 15:27:01.973 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:01.976 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:01.979 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:27:01.983 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:27:01.989 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:01.993 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:01.996 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:27:01.998 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:27:02.000 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:02.005 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:02.010 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:27:02.018 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:27:02.024 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:27:02.027 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:02.029 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:02.032 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:27:02.036 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:27:02.039 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:27:02.042 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:27:02.044 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:27:02.047 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 15:27:02.050 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 149.445ms
2023-07-12 15:27:02.053 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:27:02.056 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:27:02.059 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 400 - application/json;+charset=utf-8 215.3602ms
2023-07-12 15:27:11.318 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 15:27:11.321 -03:00 [DBG] POST requests are not supported
2023-07-12 15:27:11.325 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:27:11.329 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:27:11.334 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:27:11.339 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:27:11.341 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:27:11.344 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:27:11.346 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:27:11.350 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:27:11.353 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:27:11.357 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:27:11.362 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:27:11.364 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:27:11.367 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:27:11.370 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:27:11.372 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:27:11.376 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:27:11.379 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:27:11.381 -03:00 [DBG] Connection id "0HMS30E7FCM48", Request id "0HMS30E7FCM48:00000007": started reading request body.
2023-07-12 15:27:11.384 -03:00 [DBG] Connection id "0HMS30E7FCM48", Request id "0HMS30E7FCM48:00000007": done reading request body.
2023-07-12 15:27:11.387 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 15:27:11.389 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:27:11.392 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:27:11.395 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:27:11.397 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:27:11.400 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:27:11.403 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:27:11.405 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:27:11.408 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:27:11.411 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:27:11.415 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:27:11.420 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:27:11.423 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:27:11.426 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-12 15:27:11.428 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:11.431 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:11.434 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:27:11.439 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:27:11.446 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:11.449 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:11.453 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:27:11.456 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-12 15:27:11.462 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:11.472 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:11.477 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:27:11.483 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:27:11.488 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:27:11.490 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:11.494 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:11.497 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-12 15:27:11.501 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-12 15:27:11.502 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-12 15:27:11.504 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-12 15:27:11.506 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-12 15:27:11.510 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-12 15:27:11.514 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 147.2083ms
2023-07-12 15:27:11.517 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:27:11.519 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:27:11.522 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 400 - application/json;+charset=utf-8 203.5421ms
2023-07-12 15:27:16.294 -03:00 [DBG] Connection id "0HMS30E7FCM48" received FIN.
2023-07-12 15:27:16.299 -03:00 [DBG] Connection id "0HMS30E7FCM48" is closed. The last processed stream ID was 7.
2023-07-12 15:27:16.299 -03:00 [DBG] Connection id "0HMS30E7FCM48" sending FIN because: "The client closed the connection."
2023-07-12 15:27:16.304 -03:00 [DBG] Connection id "0HMS30E7FCM48" stopped.
2023-07-12 15:27:16.650 -03:00 [DBG] Connection id "0HMS30E7FCM49" accepted.
2023-07-12 15:27:16.653 -03:00 [DBG] Connection id "0HMS30E7FCM49" started.
2023-07-12 15:27:16.659 -03:00 [DBG] Connection "0HMS30E7FCM49" established using the following protocol: "Tls12"
2023-07-12 15:27:16.666 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 15:27:16.672 -03:00 [DBG] POST requests are not supported
2023-07-12 15:27:16.674 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:27:16.676 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:27:16.683 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:27:16.685 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:27:16.688 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:27:16.689 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:27:16.692 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:27:16.698 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:27:16.702 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:27:16.707 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:27:16.713 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:27:16.717 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:27:16.720 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:27:16.723 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:27:16.725 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:27:16.730 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:27:16.734 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:27:16.737 -03:00 [DBG] Connection id "0HMS30E7FCM49", Request id "0HMS30E7FCM49:00000001": started reading request body.
2023-07-12 15:27:16.739 -03:00 [DBG] Connection id "0HMS30E7FCM49", Request id "0HMS30E7FCM49:00000001": done reading request body.
2023-07-12 15:27:16.741 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 15:27:16.745 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:27:16.748 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:27:16.751 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:27:16.753 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:27:16.755 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:27:16.758 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:27:16.761 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:27:16.765 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:27:16.767 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:27:16.770 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:27:16.775 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:27:16.780 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:27:16.782 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-12 15:27:16.785 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:16.787 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:16.790 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:27:16.796 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:27:16.800 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:16.802 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:16.805 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:27:16.807 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:27:16.811 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:16.815 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:16.819 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:27:16.823 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:27:16.828 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:27:16.830 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:16.832 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:16.835 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:27:16.838 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:27:16.841 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:27:16.845 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:27:16.847 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:27:16.849 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:27:16.851 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:27:16.853 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:27:16.855 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:27:16.857 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:16.862 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:16.865 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:27:16.869 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:27:16.874 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:27:16.876 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:27:16.879 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:27:16.887 -03:00 [ERR] Failed executing DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:27:16.896 -03:00 [DBG] Disposing transaction.
2023-07-12 15:27:16.898 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:16.900 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:27:16.908 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-12 15:27:17.173 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 452.9599ms
2023-07-12 15:27:17.179 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:27:17.188 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 15:27:17.237 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:27:17.244 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 577.4963ms
2023-07-12 15:27:41.328 -03:00 [DBG] Connection id "0HMS30E7FCM49" received FIN.
2023-07-12 15:27:41.331 -03:00 [DBG] Connection id "0HMS30E7FCM49" is closed. The last processed stream ID was 1.
2023-07-12 15:27:41.334 -03:00 [DBG] Connection id "0HMS30E7FCM49" sending FIN because: "The client closed the connection."
2023-07-12 15:27:41.347 -03:00 [DBG] Connection id "0HMS30E7FCM49" stopped.
2023-07-12 15:46:08.783 -03:00 [DBG] Hosting starting
2023-07-12 15:46:09.574 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-12 15:46:09.718 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-12 15:46:09.721 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-12 15:46:09.724 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-12 15:46:09.727 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-12 15:46:09.729 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-12 15:46:09.730 -03:00 [INF] Hosting environment: Local
2023-07-12 15:46:09.732 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-12 15:46:09.734 -03:00 [DBG] Hosting started
2023-07-12 15:46:24.204 -03:00 [DBG] Connection id "0HMS3115DM7FV" accepted.
2023-07-12 15:46:24.212 -03:00 [DBG] Connection id "0HMS3115DM7FV" started.
2023-07-12 15:46:24.345 -03:00 [DBG] Connection "0HMS3115DM7FV" established using the following protocol: "Tls12"
2023-07-12 15:46:24.462 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110
2023-07-12 15:46:24.486 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-12 15:46:24.512 -03:00 [DBG] POST requests are not supported
2023-07-12 15:46:24.565 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:46:24.575 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-12 15:46:24.578 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:46:24.597 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-12 15:46:24.600 -03:00 [INF] CORS policy execution successful.
2023-07-12 15:46:24.605 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:46:24.619 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-12 15:46:24.699 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-12 15:46:24.705 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-12 15:46:24.710 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-12 15:46:24.713 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-12 15:46:24.716 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-12 15:46:24.719 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-12 15:46:24.724 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:46:24.730 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-12 15:46:24.762 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:46:24.771 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-12 15:46:24.782 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-12 15:46:24.825 -03:00 [DBG] Connection id "0HMS3115DM7FV", Request id "0HMS3115DM7FV:00000001": started reading request body.
2023-07-12 15:46:24.841 -03:00 [DBG] Connection id "0HMS3115DM7FV", Request id "0HMS3115DM7FV:00000001": done reading request body.
2023-07-12 15:46:24.852 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-12 15:46:24.855 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:46:24.860 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:46:24.863 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-12 15:46:24.868 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-12 15:46:24.874 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:46:24.880 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:46:24.883 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-12 15:46:24.886 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-12 15:46:25.165 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-12 15:46:26.099 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-12 15:46:26.137 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-12 15:46:26.437 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-12 15:46:26.582 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-12 15:46:26.591 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-07-12 15:46:26.596 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:26.622 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:26.636 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:46:26.826 -03:00 [INF] Executed DbCommand (189ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-12 15:46:26.834 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:26.839 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:27.188 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .Any(x => x.Sigla == __request_Sigla_0)'
2023-07-12 15:46:27.350 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_ALMOXARIFADO AS t
                WHERE t.DS_SIGLA == @__request_Sigla_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 15:46:27.393 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:46:27.396 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:46:27.419 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:27.434 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:27.442 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:46:27.494 -03:00 [INF] Executed DbCommand (55ms) [Parameters=[@__request_Sigla_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`DS_SIGLA` = @__request_Sigla_0)
2023-07-12 15:46:27.508 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:46:27.514 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:27.518 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:27.523 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .Any(x => x.PersonId == __request_PersonId_0)'
2023-07-12 15:46:27.530 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_ALMOXARIFADO AS t
                WHERE t.ID_PERSON == @__request_PersonId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-12 15:46:27.536 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:46:27.539 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:46:27.544 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:27.570 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:27.577 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`ID_PERSON` = @__request_PersonId_0)
2023-07-12 15:46:27.585 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`ID_PERSON` = @__request_PersonId_0)
2023-07-12 15:46:27.590 -03:00 [DBG] A data reader was disposed.
2023-07-12 15:46:27.592 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:27.595 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:27.653 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:46:27.734 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-12 15:46:27.739 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:46:27.755 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:46:27.761 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:46:27.764 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:46:27.771 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-12 15:46:27.779 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-12 15:46:27.782 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-12 15:46:27.805 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:27.812 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:27.817 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-12 15:46:27.829 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-12 15:46:27.897 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-12 15:46:27.900 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-12 15:46:27.903 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:46:27.943 -03:00 [ERR] Failed executing DbCommand (39ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-12 15:46:27.962 -03:00 [DBG] Disposing transaction.
2023-07-12 15:46:27.966 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:27.968 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-12 15:46:28.109 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-12 15:46:28.581 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 3854.884ms
2023-07-12 15:46:28.589 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-12 15:46:28.613 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_almoxarifado`, CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-12 15:46:28.700 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-12 15:46:28.706 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 110 - 500 - text/plain 4250.8795ms
2023-07-12 15:46:33.365 -03:00 [DBG] Connection id "0HMS3115DM7FV" received FIN.
2023-07-12 15:46:33.372 -03:00 [DBG] Connection id "0HMS3115DM7FV" is closed. The last processed stream ID was 1.
2023-07-12 15:46:33.377 -03:00 [DBG] Connection id "0HMS3115DM7FV" sending FIN because: "The client closed the connection."
2023-07-12 15:46:33.397 -03:00 [DBG] Connection id "0HMS3115DM7FV" stopped.
