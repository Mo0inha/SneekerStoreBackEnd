2023-07-13 13:00:02.453 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/produtos application/json 220
2023-07-13 13:00:02.474 -03:00 [DBG] POST requests are not supported
2023-07-13 13:00:02.482 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos'
2023-07-13 13:00:02.486 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos' is valid for the request path '/api/v1/tenant/produtos'
2023-07-13 13:00:02.489 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:00:02.491 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:00:02.496 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:00:02.499 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:00:02.518 -03:00 [INF] Route matched with {action = "Create", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-13 13:00:02.522 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:00:02.524 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:00:02.529 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:00:02.534 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:00:02.537 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:00:02.539 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:00:02.544 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:00:02.549 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' ...
2023-07-13 13:00:02.553 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' using the name '' in request data ...
2023-07-13 13:00:02.557 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:00:02.563 -03:00 [DBG] Connection id "0HMS3N6QRS4N1", Request id "0HMS3N6QRS4N1:00000003": started reading request body.
2023-07-13 13:00:02.566 -03:00 [DBG] Connection id "0HMS3N6QRS4N1", Request id "0HMS3N6QRS4N1:00000003": done reading request body.
2023-07-13 13:00:02.568 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'
2023-07-13 13:00:02.570 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-13 13:00:02.573 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-13 13:00:02.578 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' ...
2023-07-13 13:00:02.581 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-13 13:00:02.583 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:00:02.586 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:00:02.589 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:00:02.595 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:00:02.598 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:00:02.601 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:00:02.609 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:00:02.616 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:00:02.619 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:00:02.621 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.624 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.628 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:00:02.632 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:00:02.637 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.640 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.644 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:00:02.646 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:00:02.649 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.655 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.659 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE UPPER(`t`.`DS_NOME_PRODUTO`) = @__ToUpper_0)
2023-07-13 13:00:02.665 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE UPPER(`t`.`DS_NOME_PRODUTO`) = @__ToUpper_0)
2023-07-13 13:00:02.675 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:00:02.678 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.681 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.686 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:00:02.689 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:00:02.691 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.699 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.703 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_AlmoxarifadosId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_NOME_PRODUTO`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_ALMOXARIFADOS` = @__request_AlmoxarifadosId_1)
LIMIT 2
2023-07-13 13:00:02.707 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_AlmoxarifadosId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_NOME_PRODUTO`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_ALMOXARIFADOS` = @__request_AlmoxarifadosId_1)
LIMIT 2
2023-07-13 13:00:02.714 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:00:02.716 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.719 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.722 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:00:02.724 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:00:02.729 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.735 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.738 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_UnidadeMedidaId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_NOME_PRODUTO`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_UNIDADE_MEDIDA` = @__request_UnidadeMedidaId_1)
LIMIT 2
2023-07-13 13:00:02.742 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_UnidadeMedidaId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_NOME_PRODUTO`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_UNIDADE_MEDIDA` = @__request_UnidadeMedidaId_1)
LIMIT 2
2023-07-13 13:00:02.749 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:00:02.751 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.753 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.756 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:00:02.758 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:00:02.763 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.769 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.773 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_UnidadeMedidaId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`ID` = @__request_UnidadeMedidaId_0)
2023-07-13 13:00:02.783 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_UnidadeMedidaId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`ID` = @__request_UnidadeMedidaId_0)
2023-07-13 13:00:02.787 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:00:02.789 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.792 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:00:02.797 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:00:02.801 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:00:02.803 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:00:02.804 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:00:02.806 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:00:02.809 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.CreateProdutosResponse'.
2023-07-13 13:00:02.814 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API) in 274.9199ms
2023-07-13 13:00:02.817 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:00:02.820 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:00:02.822 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/produtos application/json 220 - 400 - application/json;+charset=utf-8 369.6815ms
2023-07-13 13:00:12.591 -03:00 [DBG] Connection id "0HMS3N6QRS4N1" received FIN.
2023-07-13 13:00:12.594 -03:00 [DBG] Connection id "0HMS3N6QRS4N1" is closed. The last processed stream ID was 3.
2023-07-13 13:00:12.598 -03:00 [DBG] Connection id "0HMS3N6QRS4N1" sending FIN because: "The client closed the connection."
2023-07-13 13:00:12.606 -03:00 [DBG] Connection id "0HMS3N6QRS4N1" stopped.
2023-07-13 13:01:03.817 -03:00 [DBG] Hosting starting
2023-07-13 13:01:04.363 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-13 13:01:04.476 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-13 13:01:04.479 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-13 13:01:04.482 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-13 13:01:04.484 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-13 13:01:04.485 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-13 13:01:04.488 -03:00 [INF] Hosting environment: Local
2023-07-13 13:01:04.491 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-13 13:01:04.493 -03:00 [DBG] Hosting started
2023-07-13 13:01:06.364 -03:00 [DBG] Connection id "0HMS3N9ESDV8M" accepted.
2023-07-13 13:01:06.368 -03:00 [DBG] Connection id "0HMS3N9ESDV8M" started.
2023-07-13 13:01:06.450 -03:00 [DBG] Connection "0HMS3N9ESDV8M" established using the following protocol: "Tls12"
2023-07-13 13:01:06.506 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/produtos - -
2023-07-13 13:01:06.527 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-13 13:01:06.562 -03:00 [DBG] The request path  does not match the path filter
2023-07-13 13:01:06.612 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos'
2023-07-13 13:01:06.620 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos' is valid for the request path '/api/v1/tenant/produtos'
2023-07-13 13:01:06.627 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:01:06.640 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:01:06.650 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-13 13:01:06.707 -03:00 [INF] Route matched with {action = "GetAll", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-13 13:01:06.712 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:01:06.714 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:01:06.717 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:01:06.723 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:01:06.727 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:01:06.730 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:01:06.734 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:01:06.753 -03:00 [DBG] Attempting to bind parameter 'NomeProduto' of type 'System.String' ...
2023-07-13 13:01:06.758 -03:00 [DBG] Attempting to bind parameter 'NomeProduto' of type 'System.String' using the name '' in request data ...
2023-07-13 13:01:06.762 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'NomeProduto' of type 'System.String'.
2023-07-13 13:01:06.765 -03:00 [DBG] Done attempting to bind parameter 'NomeProduto' of type 'System.String'.
2023-07-13 13:01:06.768 -03:00 [DBG] Done attempting to bind parameter 'NomeProduto' of type 'System.String'.
2023-07-13 13:01:06.773 -03:00 [DBG] Attempting to validate the bound parameter 'NomeProduto' of type 'System.String' ...
2023-07-13 13:01:06.776 -03:00 [DBG] Done attempting to validate the bound parameter 'NomeProduto' of type 'System.String'.
2023-07-13 13:01:06.780 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:01:06.784 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:01:06.786 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:01:06.791 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:01:06.956 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-13 13:01:07.783 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:01:07.807 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:01:07.926 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:01:08.018 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:01:08.027 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-07-13 13:01:08.030 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:08.046 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:08.060 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:01:08.086 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:01:08.094 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:08.100 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:08.176 -03:00 [DBG] Compiling query expression: 
'DbSet<Produtos>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
    )
    .Select(x => new { 
        Id = x.Id, 
        NomeProduto = x.NomeProduto
     })'
2023-07-13 13:01:08.369 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType9<Guid, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            NomeProduto -> 1
        SELECT t.ID AS Id, t.DS_NOME_PRODUTO AS NomeProduto
        FROM TB_Produtos AS t
        WHERE TRUE && t.ST_ACTIVE), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType9<Guid, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-13 13:01:08.400 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:01:08.403 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:01:08.407 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:08.416 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:08.420 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_NOME_PRODUTO` AS `NomeProduto`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-13 13:01:08.429 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_NOME_PRODUTO` AS `NomeProduto`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-13 13:01:08.437 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:01:08.442 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:08.446 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:08.481 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:01:08.492 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:01:08.495 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:01:08.497 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:01:08.499 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:01:08.502 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.GetProdutosResponse'.
2023-07-13 13:01:08.552 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API) in 1816.7453ms
2023-07-13 13:01:08.559 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:01:08.587 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:01:08.597 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/produtos - - - 200 - application/json;+charset=utf-8 2094.2410ms
2023-07-13 13:01:12.682 -03:00 [DBG] Connection id "0HMS3N9ESDV8M" received FIN.
2023-07-13 13:01:12.686 -03:00 [DBG] Connection id "0HMS3N9ESDV8M" is closed. The last processed stream ID was 1.
2023-07-13 13:01:12.690 -03:00 [DBG] Connection id "0HMS3N9ESDV8M" sending FIN because: "The client closed the connection."
2023-07-13 13:01:12.702 -03:00 [DBG] Connection id "0HMS3N9ESDV8M" stopped.
2023-07-13 13:01:24.050 -03:00 [DBG] Connection id "0HMS3N9ESDV8N" accepted.
2023-07-13 13:01:24.053 -03:00 [DBG] Connection id "0HMS3N9ESDV8N" started.
2023-07-13 13:01:24.061 -03:00 [DBG] Connection "0HMS3N9ESDV8N" established using the following protocol: "Tls12"
2023-07-13 13:01:24.073 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:5004/api/v1/tenant/produtos/08db83ba-323b-4a26-895a-d9eaf04eb32c application/json 216
2023-07-13 13:01:24.075 -03:00 [DBG] PUT requests are not supported
2023-07-13 13:01:24.085 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos/08db83ba-323b-4a26-895a-d9eaf04eb32c'
2023-07-13 13:01:24.089 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos/{id}' is valid for the request path '/api/v1/tenant/produtos/08db83ba-323b-4a26-895a-d9eaf04eb32c'
2023-07-13 13:01:24.092 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API)'
2023-07-13 13:01:24.096 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:01:24.099 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:01:24.104 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API)'
2023-07-13 13:01:24.111 -03:00 [INF] Route matched with {action = "Update", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-13 13:01:24.119 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:01:24.122 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:01:24.124 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:01:24.128 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:01:24.133 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:01:24.138 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:01:24.140 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:01:24.143 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-13 13:01:24.148 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-13 13:01:24.153 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-13 13:01:24.155 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-13 13:01:24.157 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-13 13:01:24.161 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-13 13:01:24.166 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest' ...
2023-07-13 13:01:24.169 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest' using the name '' in request data ...
2023-07-13 13:01:24.173 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:01:24.190 -03:00 [DBG] Connection id "0HMS3N9ESDV8N", Request id "0HMS3N9ESDV8N:00000001": started reading request body.
2023-07-13 13:01:24.195 -03:00 [DBG] Connection id "0HMS3N9ESDV8N", Request id "0HMS3N9ESDV8N:00000001": done reading request body.
2023-07-13 13:01:24.205 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest'
2023-07-13 13:01:24.209 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest'.
2023-07-13 13:01:24.216 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest'.
2023-07-13 13:01:24.219 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest' ...
2023-07-13 13:01:24.223 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest'.
2023-07-13 13:01:24.226 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:01:24.229 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:01:24.233 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:01:24.235 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:01:24.242 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:01:24.251 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:01:24.257 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:01:24.260 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:01:24.264 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-13 13:01:24.268 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.272 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.274 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:01:24.280 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:01:24.286 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.288 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.503 -03:00 [DBG] Compiling query expression: 
'DbSet<Produtos>()
    .SingleOrDefault(x => x.Id == __GetId_0)'
2023-07-13 13:01:24.553 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Produtos>(
    asyncEnumerable: new SingleQueryingEnumerable<Produtos>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Produtos.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Produtos.AlmoxarifadosId (Guid) Required FK Index, 1], [Property: Produtos.CreatedAt (DateTime) Required, 2], [Property: Produtos.Descrição (string) Required, 3], [Property: Produtos.IsActive (bool) Required, 4], [Property: Produtos.NomeProduto (string) Required, 5], [Property: Produtos.PesoBruto (float) Required, 6], [Property: Produtos.PesoLiquido (float) Required, 7], [Property: Produtos.UnidadeMedidaId (Guid) Required FK Index, 8], [Property: Produtos.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 9], }
            SELECT TOP(2) t.ID, t.ID_ALMOXARIFADOS, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.DS_NOME_PRODUTO, t.DS_PESO_BRUTO, t.DS_PESO_LIQUIDO, t.ID_UNIDADE_MEDIDA, t.UPDATED_AT
            FROM TB_Produtos AS t
            WHERE t.ID == @__GetId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Produtos>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:01:24.574 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:01:24.578 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:01:24.604 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.623 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.627 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_NOME_PRODUTO`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-13 13:01:24.661 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_NOME_PRODUTO`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-13 13:01:24.702 -03:00 [DBG] Context 'AthenaContext' started tracking 'Produtos' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:01:24.773 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:01:24.777 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.781 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.787 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .Any(x => (Nullable<Guid>)x.Id == __request_AlmoxarifadosId_0)'
2023-07-13 13:01:24.796 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_ALMOXARIFADO AS t
                WHERE t.ID == @__request_AlmoxarifadosId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:01:24.808 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:01:24.812 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:01:24.816 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.823 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.828 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_AlmoxarifadosId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`ID` = @__request_AlmoxarifadosId_0)
2023-07-13 13:01:24.842 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_AlmoxarifadosId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`ID` = @__request_AlmoxarifadosId_0)
2023-07-13 13:01:24.853 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:01:24.855 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.859 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.867 -03:00 [DBG] Compiling query expression: 
'DbSet<UnidadeMedida>()
    .Any(x => (Nullable<Guid>)x.Id == __request_UnidadeMedidaId_0)'
2023-07-13 13:01:24.873 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_UNIDADE_MEDIDA AS t
                WHERE t.ID == @__request_UnidadeMedidaId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:01:24.878 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:01:24.881 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:01:24.884 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.894 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.900 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_UnidadeMedidaId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`ID` = @__request_UnidadeMedidaId_0)
2023-07-13 13:01:24.905 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_UnidadeMedidaId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`ID` = @__request_UnidadeMedidaId_0)
2023-07-13 13:01:24.909 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:01:24.910 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.915 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:24.922 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:01:24.926 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:01:24.927 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:01:24.931 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:01:24.933 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:01:24.935 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.UpdateProdutosResponse'.
2023-07-13 13:01:24.943 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API) in 804.7609ms
2023-07-13 13:01:24.948 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API)'
2023-07-13 13:01:24.955 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:01:24.958 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:5004/api/v1/tenant/produtos/08db83ba-323b-4a26-895a-d9eaf04eb32c application/json 216 - 404 - application/json;+charset=utf-8 885.4719ms
2023-07-13 13:01:32.685 -03:00 [DBG] Connection id "0HMS3N9ESDV8N" received FIN.
2023-07-13 13:01:32.688 -03:00 [DBG] Connection id "0HMS3N9ESDV8N" is closed. The last processed stream ID was 1.
2023-07-13 13:01:32.693 -03:00 [DBG] Connection id "0HMS3N9ESDV8N" sending FIN because: "The client closed the connection."
2023-07-13 13:01:32.707 -03:00 [DBG] Connection id "0HMS3N9ESDV8N" stopped.
2023-07-13 13:01:41.869 -03:00 [DBG] Connection id "0HMS3N9ESDV8O" accepted.
2023-07-13 13:01:41.873 -03:00 [DBG] Connection id "0HMS3N9ESDV8O" started.
2023-07-13 13:01:41.882 -03:00 [DBG] Connection "0HMS3N9ESDV8O" established using the following protocol: "Tls12"
2023-07-13 13:01:41.894 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:5004/api/v1/tenant/produtos/08db83ba-323b-4a26-895a-d9eaf04eb32c application/json 216
2023-07-13 13:01:41.907 -03:00 [DBG] PUT requests are not supported
2023-07-13 13:01:41.909 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos/08db83ba-323b-4a26-895a-d9eaf04eb32c'
2023-07-13 13:01:41.912 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos/{id}' is valid for the request path '/api/v1/tenant/produtos/08db83ba-323b-4a26-895a-d9eaf04eb32c'
2023-07-13 13:01:41.915 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API)'
2023-07-13 13:01:41.919 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:01:41.924 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:01:41.927 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API)'
2023-07-13 13:01:41.931 -03:00 [INF] Route matched with {action = "Update", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-13 13:01:41.934 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:01:41.940 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:01:41.944 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:01:41.947 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:01:41.950 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:01:41.955 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:01:41.959 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:01:41.961 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-13 13:01:41.964 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-13 13:01:41.967 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-13 13:01:41.972 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-13 13:01:41.974 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-13 13:01:41.976 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-13 13:01:41.979 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest' ...
2023-07-13 13:01:41.983 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest' using the name '' in request data ...
2023-07-13 13:01:41.990 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:01:41.993 -03:00 [DBG] Connection id "0HMS3N9ESDV8O", Request id "0HMS3N9ESDV8O:00000001": started reading request body.
2023-07-13 13:01:41.995 -03:00 [DBG] Connection id "0HMS3N9ESDV8O", Request id "0HMS3N9ESDV8O:00000001": done reading request body.
2023-07-13 13:01:42.000 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest'
2023-07-13 13:01:42.002 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest'.
2023-07-13 13:01:42.008 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest'.
2023-07-13 13:01:42.012 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest' ...
2023-07-13 13:01:42.015 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.UpdateProdutosRequest'.
2023-07-13 13:01:42.017 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:01:42.020 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:01:42.024 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:01:42.027 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:01:42.074 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:01:42.083 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:01:42.092 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:01:42.095 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:01:42.097 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-13 13:01:42.100 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.102 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.108 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:01:42.113 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:01:42.116 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.119 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.128 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:01:42.130 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:01:42.133 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.140 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.144 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_NOME_PRODUTO`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-13 13:01:42.150 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_NOME_PRODUTO`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-13 13:01:42.159 -03:00 [DBG] Context 'AthenaContext' started tracking 'Produtos' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:01:42.162 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:01:42.164 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.167 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.170 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:01:42.174 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:01:42.178 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.182 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.186 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_AlmoxarifadosId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`ID` = @__request_AlmoxarifadosId_0)
2023-07-13 13:01:42.192 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_AlmoxarifadosId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`ID` = @__request_AlmoxarifadosId_0)
2023-07-13 13:01:42.196 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:01:42.198 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.201 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.205 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:01:42.207 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:01:42.210 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.215 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.218 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_UnidadeMedidaId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`ID` = @__request_UnidadeMedidaId_0)
2023-07-13 13:01:42.224 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_UnidadeMedidaId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`ID` = @__request_UnidadeMedidaId_0)
2023-07-13 13:01:42.229 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:01:42.232 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.236 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.246 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:01:42.266 -03:00 [DBG] The unchanged property 'Produtos.Descrição' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-13 13:01:42.278 -03:00 [DBG] An entity of type 'Produtos' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:01:42.285 -03:00 [DBG] The unchanged property 'Produtos.PesoBruto' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-13 13:01:42.291 -03:00 [DBG] The unchanged property 'Produtos.PesoLiquido' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-13 13:01:42.298 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:01:42.301 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:01:42.304 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:01:42.311 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:01:42.315 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:01:42.317 -03:00 [DBG] The unchanged property 'Produtos.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-13 13:01:42.321 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:01:42.340 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.346 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.351 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:01:42.365 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:01:42.413 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:01:42.416 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:01:42.423 -03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 400), @p1='?' (DbType = Single), @p2='?' (DbType = Single), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_Produtos` SET `DS_DESCRICAO` = @p0, `DS_PESO_BRUTO` = @p1, `DS_PESO_LIQUIDO` = @p2
WHERE `ID` = @p3 AND `UPDATED_AT` = @p4;
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p3;
2023-07-13 13:01:42.436 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 400), @p1='?' (DbType = Single), @p2='?' (DbType = Single), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_Produtos` SET `DS_DESCRICAO` = @p0, `DS_PESO_BRUTO` = @p1, `DS_PESO_LIQUIDO` = @p2
WHERE `ID` = @p3 AND `UPDATED_AT` = @p4;
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p3;
2023-07-13 13:01:42.480 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:01:42.489 -03:00 [DBG] Committing transaction.
2023-07-13 13:01:42.500 -03:00 [DBG] Committed transaction.
2023-07-13 13:01:42.505 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.509 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:42.515 -03:00 [DBG] Disposing transaction.
2023-07-13 13:01:42.528 -03:00 [DBG] An entity of type 'Produtos' tracked by 'AthenaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:01:42.534 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:01:42.556 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:01:42.562 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:01:42.563 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:01:42.565 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:01:42.567 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:01:42.569 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.UpdateProdutosResponse'.
2023-07-13 13:01:42.574 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API) in 618.2253ms
2023-07-13 13:01:42.577 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Update (Concent.Athena.Services.API)'
2023-07-13 13:01:42.580 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:01:42.583 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:5004/api/v1/tenant/produtos/08db83ba-323b-4a26-895a-d9eaf04eb32c application/json 216 - 200 - application/json;+charset=utf-8 688.6612ms
2023-07-13 13:01:42.690 -03:00 [DBG] Connection id "0HMS3N9ESDV8O" received FIN.
2023-07-13 13:01:42.695 -03:00 [DBG] Connection id "0HMS3N9ESDV8O" is closed. The last processed stream ID was 1.
2023-07-13 13:01:42.698 -03:00 [DBG] Connection id "0HMS3N9ESDV8O" sending FIN because: "The client closed the connection."
2023-07-13 13:01:42.714 -03:00 [DBG] Connection id "0HMS3N9ESDV8O" stopped.
2023-07-13 13:01:47.227 -03:00 [DBG] Connection id "0HMS3N9ESDV8P" accepted.
2023-07-13 13:01:47.230 -03:00 [DBG] Connection id "0HMS3N9ESDV8P" started.
2023-07-13 13:01:47.234 -03:00 [DBG] Connection "0HMS3N9ESDV8P" established using the following protocol: "Tls12"
2023-07-13 13:01:47.244 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/produtos - -
2023-07-13 13:01:47.249 -03:00 [DBG] The request path  does not match the path filter
2023-07-13 13:01:47.260 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos'
2023-07-13 13:01:47.264 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos' is valid for the request path '/api/v1/tenant/produtos'
2023-07-13 13:01:47.267 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:01:47.271 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:01:47.278 -03:00 [INF] Route matched with {action = "GetAll", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-13 13:01:47.284 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:01:47.288 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:01:47.292 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:01:47.295 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:01:47.298 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:01:47.302 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:01:47.307 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:01:47.311 -03:00 [DBG] Attempting to bind parameter 'NomeProduto' of type 'System.String' ...
2023-07-13 13:01:47.315 -03:00 [DBG] Attempting to bind parameter 'NomeProduto' of type 'System.String' using the name '' in request data ...
2023-07-13 13:01:47.319 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'NomeProduto' of type 'System.String'.
2023-07-13 13:01:47.324 -03:00 [DBG] Done attempting to bind parameter 'NomeProduto' of type 'System.String'.
2023-07-13 13:01:47.327 -03:00 [DBG] Done attempting to bind parameter 'NomeProduto' of type 'System.String'.
2023-07-13 13:01:47.331 -03:00 [DBG] Attempting to validate the bound parameter 'NomeProduto' of type 'System.String' ...
2023-07-13 13:01:47.334 -03:00 [DBG] Done attempting to validate the bound parameter 'NomeProduto' of type 'System.String'.
2023-07-13 13:01:47.338 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:01:47.345 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:01:47.348 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:01:47.352 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:01:47.358 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:01:47.366 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:01:47.375 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:01:47.380 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:01:47.383 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:01:47.386 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:47.391 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:47.394 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:01:47.400 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:01:47.405 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:47.412 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:47.420 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:01:47.424 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-13 13:01:47.427 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:47.431 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:47.433 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_NOME_PRODUTO` AS `NomeProduto`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-13 13:01:47.438 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_NOME_PRODUTO` AS `NomeProduto`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-13 13:01:47.445 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:01:47.447 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:47.449 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:01:47.453 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:01:47.459 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:01:47.461 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:01:47.463 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:01:47.465 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:01:47.469 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.GetProdutosResponse'.
2023-07-13 13:01:47.474 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API) in 171.9505ms
2023-07-13 13:01:47.477 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:01:47.479 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:01:47.481 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/produtos - - - 200 - application/json;+charset=utf-8 237.4040ms
2023-07-13 13:01:52.706 -03:00 [DBG] Connection id "0HMS3N9ESDV8P" received FIN.
2023-07-13 13:01:52.709 -03:00 [DBG] Connection id "0HMS3N9ESDV8P" is closed. The last processed stream ID was 1.
2023-07-13 13:01:52.713 -03:00 [DBG] Connection id "0HMS3N9ESDV8P" sending FIN because: "The client closed the connection."
2023-07-13 13:01:52.721 -03:00 [DBG] Connection id "0HMS3N9ESDV8P" stopped.
2023-07-13 13:02:03.802 -03:00 [DBG] Connection id "0HMS3N9ESDV8Q" accepted.
2023-07-13 13:02:03.806 -03:00 [DBG] Connection id "0HMS3N9ESDV8Q" started.
2023-07-13 13:02:03.821 -03:00 [DBG] Connection "0HMS3N9ESDV8Q" established using the following protocol: "Tls12"
2023-07-13 13:02:03.827 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/produtos/08db83ba-323b-4a26-895a-d9eaf04eb32c - -
2023-07-13 13:02:03.828 -03:00 [DBG] The request path  does not match the path filter
2023-07-13 13:02:03.831 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos/08db83ba-323b-4a26-895a-d9eaf04eb32c'
2023-07-13 13:02:03.836 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetById (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos/{id}' is valid for the request path '/api/v1/tenant/produtos/08db83ba-323b-4a26-895a-d9eaf04eb32c'
2023-07-13 13:02:03.839 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetById (Concent.Athena.Services.API)'
2023-07-13 13:02:03.842 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetById (Concent.Athena.Services.API)'
2023-07-13 13:02:03.850 -03:00 [INF] Route matched with {action = "GetById", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-13 13:02:03.854 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:02:03.857 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:02:03.860 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:02:03.866 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:02:03.870 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:02:03.873 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:02:03.876 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:02:03.880 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-13 13:02:03.884 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-13 13:02:03.888 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-13 13:02:03.892 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-13 13:02:03.896 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-13 13:02:03.900 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-13 13:02:03.904 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:02:03.908 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:02:03.911 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:02:03.915 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:02:03.924 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:02:03.928 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:02:03.938 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:02:03.942 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:02:03.944 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:02:03.950 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:02:03.954 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:02:03.957 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:02:03.963 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:02:03.969 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:02:03.972 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:02:03.977 -03:00 [DBG] Compiling query expression: 
'DbSet<Produtos>()
    .AsNoTracking()
    .Where(x => x.Id == __GetId_0)
    .Select(x => new { 
        Id = x.Id, 
        Descrição = x.Descrição, 
        PesoLiquido = x.PesoLiquido, 
        PesoBruto = x.PesoBruto, 
        AlmoxarifadosId = x.AlmoxarifadosId, 
        UnidadeMedidaId = x.UnidadeMedidaId
     })'
2023-07-13 13:02:03.988 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType8<Guid, string, float, float, Guid, Guid>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            Descrição -> 1
            PesoLiquido -> 2
            PesoBruto -> 3
            AlmoxarifadosId -> 4
            UnidadeMedidaId -> 5
        SELECT t.ID AS Id, t.DS_DESCRICAO AS Descrição, t.DS_PESO_LIQUIDO AS PesoLiquido, t.DS_PESO_BRUTO AS PesoBruto, t.ID_ALMOXARIFADOS AS AlmoxarifadosId, t.ID_UNIDADE_MEDIDA AS UnidadeMedidaId
        FROM TB_Produtos AS t
        WHERE t.ID == @__GetId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType8<Guid, string, float, float, Guid, Guid>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-13 13:02:03.994 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:02:03.998 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:02:04.001 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:02:04.004 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:02:04.007 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_DESCRICAO` AS `Descrição`, `t`.`DS_PESO_LIQUIDO` AS `PesoLiquido`, `t`.`DS_PESO_BRUTO` AS `PesoBruto`, `t`.`ID_ALMOXARIFADOS` AS `AlmoxarifadosId`, `t`.`ID_UNIDADE_MEDIDA` AS `UnidadeMedidaId`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
2023-07-13 13:02:04.011 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_DESCRICAO` AS `Descrição`, `t`.`DS_PESO_LIQUIDO` AS `PesoLiquido`, `t`.`DS_PESO_BRUTO` AS `PesoBruto`, `t`.`ID_ALMOXARIFADOS` AS `AlmoxarifadosId`, `t`.`ID_UNIDADE_MEDIDA` AS `UnidadeMedidaId`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
2023-07-13 13:02:04.018 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:02:04.019 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:02:04.022 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:02:04.025 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:02:04.029 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:02:04.033 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:02:04.035 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:02:04.037 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:02:04.039 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.GetByIdProdutosResponse'.
2023-07-13 13:02:04.051 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.GetById (Concent.Athena.Services.API) in 177.9237ms
2023-07-13 13:02:04.058 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.GetById (Concent.Athena.Services.API)'
2023-07-13 13:02:04.061 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:02:04.065 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/produtos/08db83ba-323b-4a26-895a-d9eaf04eb32c - - - 200 - application/json;+charset=utf-8 238.3254ms
2023-07-13 13:02:12.744 -03:00 [DBG] Connection id "0HMS3N9ESDV8Q" received FIN.
2023-07-13 13:02:12.747 -03:00 [DBG] Connection id "0HMS3N9ESDV8Q" is closed. The last processed stream ID was 1.
2023-07-13 13:02:12.750 -03:00 [DBG] Connection id "0HMS3N9ESDV8Q" sending FIN because: "The client closed the connection."
2023-07-13 13:02:12.759 -03:00 [DBG] Connection id "0HMS3N9ESDV8Q" stopped.
2023-07-13 13:04:47.475 -03:00 [DBG] Hosting starting
2023-07-13 13:04:48.011 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-13 13:04:48.114 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-13 13:04:48.117 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-13 13:04:48.120 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-13 13:04:48.123 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-13 13:04:48.125 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-13 13:04:48.128 -03:00 [INF] Hosting environment: Local
2023-07-13 13:04:48.130 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-13 13:04:48.133 -03:00 [DBG] Hosting started
2023-07-13 13:04:48.196 -03:00 [DBG] Connection id "0HMS3NBH00BJD" accepted.
2023-07-13 13:04:48.203 -03:00 [DBG] Connection id "0HMS3NBH00BJD" started.
2023-07-13 13:04:48.205 -03:00 [DBG] Connection id "0HMS3NBH00BJE" accepted.
2023-07-13 13:04:48.208 -03:00 [DBG] Connection id "0HMS3NBH00BJE" started.
2023-07-13 13:04:48.281 -03:00 [DBG] Connection id "0HMS3NBH00BJE" received FIN.
2023-07-13 13:04:48.291 -03:00 [DBG] Connection "0HMS3NBH00BJD" established using the following protocol: "Tls12"
2023-07-13 13:04:48.291 -03:00 [DBG] Connection "0HMS3NBH00BJE" established using the following protocol: "Tls12"
2023-07-13 13:04:48.307 -03:00 [DBG] Connection id "0HMS3NBH00BJE" is closed. The last processed stream ID was 0.
2023-07-13 13:04:48.312 -03:00 [DBG] Connection id "0HMS3NBH00BJE" sending FIN because: "The client closed the connection."
2023-07-13 13:04:48.322 -03:00 [DBG] Connection id "0HMS3NBH00BJE" stopped.
2023-07-13 13:04:48.359 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5004/api/v1/tenant/produtos?ProdutoId=08db83ba-0794-4886-84c8-5c020bccc247 - -
2023-07-13 13:04:48.381 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-13 13:04:48.405 -03:00 [DBG] DELETE requests are not supported
2023-07-13 13:04:48.450 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos'
2023-07-13 13:04:48.459 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Delete (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos' is valid for the request path '/api/v1/tenant/produtos'
2023-07-13 13:04:48.464 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Delete (Concent.Athena.Services.API)'
2023-07-13 13:04:48.474 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:04:48.476 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:04:48.482 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Delete (Concent.Athena.Services.API)'
2023-07-13 13:04:48.496 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-13 13:04:48.550 -03:00 [INF] Route matched with {action = "Delete", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-13 13:04:48.555 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:04:48.560 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:04:48.562 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:04:48.566 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:04:48.568 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:04:48.574 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:04:48.579 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-13 13:04:48.598 -03:00 [DBG] Attempting to bind parameter 'ProdutoId' of type 'System.Guid' ...
2023-07-13 13:04:48.606 -03:00 [DBG] Attempting to bind parameter 'ProdutoId' of type 'System.Guid' using the name 'ProdutoId' in request data ...
2023-07-13 13:04:48.610 -03:00 [DBG] Done attempting to bind parameter 'ProdutoId' of type 'System.Guid'.
2023-07-13 13:04:48.612 -03:00 [DBG] Done attempting to bind parameter 'ProdutoId' of type 'System.Guid'.
2023-07-13 13:04:48.614 -03:00 [DBG] Attempting to validate the bound parameter 'ProdutoId' of type 'System.Guid' ...
2023-07-13 13:04:48.621 -03:00 [DBG] Done attempting to validate the bound parameter 'ProdutoId' of type 'System.Guid'.
2023-07-13 13:04:48.626 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:04:48.629 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:04:48.631 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:04:48.634 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:04:48.825 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-13 13:04:49.682 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:04:49.703 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:04:49.812 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:04:49.908 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:04:49.913 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-13 13:04:49.917 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:04:49.939 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:04:49.954 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:04:49.981 -03:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:04:49.990 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:04:49.996 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:04:50.279 -03:00 [DBG] Compiling query expression: 
'DbSet<Produtos>()
    .SingleOrDefault(x => x.Id == __GetId_0)'
2023-07-13 13:04:50.451 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Produtos>(
    asyncEnumerable: new SingleQueryingEnumerable<Produtos>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Produtos.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Produtos.AlmoxarifadosId (Guid) Required FK Index, 1], [Property: Produtos.CreatedAt (DateTime) Required, 2], [Property: Produtos.Descrição (string) Required, 3], [Property: Produtos.IsActive (bool) Required, 4], [Property: Produtos.NomeProduto (string) Required, 5], [Property: Produtos.PesoBruto (float) Required, 6], [Property: Produtos.PesoLiquido (float) Required, 7], [Property: Produtos.UnidadeMedidaId (Guid) Required FK Index, 8], [Property: Produtos.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 9], }
            SELECT TOP(2) t.ID, t.ID_ALMOXARIFADOS, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.DS_NOME_PRODUTO, t.DS_PESO_BRUTO, t.DS_PESO_LIQUIDO, t.ID_UNIDADE_MEDIDA, t.UPDATED_AT
            FROM TB_Produtos AS t
            WHERE t.ID == @__GetId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Produtos>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:04:50.498 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:04:50.501 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:04:50.523 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:04:50.537 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:04:50.545 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_NOME_PRODUTO`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-13 13:04:50.572 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`ID_ALMOXARIFADOS`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_NOME_PRODUTO`, `t`.`DS_PESO_BRUTO`, `t`.`DS_PESO_LIQUIDO`, `t`.`ID_UNIDADE_MEDIDA`, `t`.`UPDATED_AT`
FROM `TB_Produtos` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-13 13:04:50.581 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:04:50.587 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:04:50.592 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:04:50.598 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:04:50.606 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:04:50.609 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:04:50.611 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:04:50.615 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:04:50.625 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.DeleteProdutosResponse'.
2023-07-13 13:04:50.678 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.Delete (Concent.Athena.Services.API) in 2100.9453ms
2023-07-13 13:04:50.682 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Delete (Concent.Athena.Services.API)'
2023-07-13 13:04:50.692 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:04:50.698 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5004/api/v1/tenant/produtos?ProdutoId=08db83ba-0794-4886-84c8-5c020bccc247 - - - 404 - application/json;+charset=utf-8 2340.9561ms
2023-07-13 13:04:53.026 -03:00 [DBG] Connection id "0HMS3NBH00BJD" received FIN.
2023-07-13 13:04:53.030 -03:00 [DBG] Connection id "0HMS3NBH00BJD" is closed. The last processed stream ID was 1.
2023-07-13 13:04:53.034 -03:00 [DBG] Connection id "0HMS3NBH00BJD" sending FIN because: "The client closed the connection."
2023-07-13 13:04:53.040 -03:00 [DBG] Connection id "0HMS3NBH00BJD" stopped.
2023-07-13 13:13:27.524 -03:00 [DBG] Connection id "0HMS3NBH00BJF" accepted.
2023-07-13 13:13:27.531 -03:00 [DBG] Connection id "0HMS3NBH00BJF" started.
2023-07-13 13:13:27.543 -03:00 [DBG] Connection "0HMS3NBH00BJF" established using the following protocol: "Tls12"
2023-07-13 13:13:27.593 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/unidademedida application/json 126
2023-07-13 13:13:27.597 -03:00 [DBG] POST requests are not supported
2023-07-13 13:13:27.603 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:13:27.608 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:13:27.611 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-13 13:13:27.614 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:13:27.616 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:13:27.619 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-13 13:13:27.631 -03:00 [INF] Route matched with {action = "Create", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-13 13:13:27.637 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:13:27.642 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:13:27.644 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:13:27.648 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:13:27.651 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:13:27.656 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:13:27.661 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:13:27.664 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' ...
2023-07-13 13:13:27.667 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' using the name '' in request data ...
2023-07-13 13:13:27.672 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:13:27.688 -03:00 [DBG] Connection id "0HMS3NBH00BJF", Request id "0HMS3NBH00BJF:00000001": started reading request body.
2023-07-13 13:13:27.693 -03:00 [DBG] Connection id "0HMS3NBH00BJF", Request id "0HMS3NBH00BJF:00000001": done reading request body.
2023-07-13 13:13:27.698 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'
2023-07-13 13:13:27.703 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-13 13:13:27.708 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-13 13:13:27.710 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest' ...
2023-07-13 13:13:27.714 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.CreateUnidadeMedidaRequest'.
2023-07-13 13:13:27.718 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:13:27.723 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:13:27.725 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:13:27.728 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:13:27.765 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:13:27.771 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:13:27.787 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:13:27.792 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:13:27.794 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:13:27.798 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:27.806 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:27.810 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:13:27.829 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:13:27.838 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:27.841 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:27.851 -03:00 [DBG] Compiling query expression: 
'DbSet<UnidadeMedida>()
    .Any(x => x.NomeUnidadeMedida == __request_NomeUnidadeMedida_0)'
2023-07-13 13:13:27.863 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_UNIDADE_MEDIDA AS t
                WHERE t.DS_UNIDADE_MEDIDA == @__request_NomeUnidadeMedida_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:13:27.878 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:13:27.881 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:13:27.885 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:27.896 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:27.899 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`DS_UNIDADE_MEDIDA` = @__request_NomeUnidadeMedida_0)
2023-07-13 13:13:27.914 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_UNIDADE_MEDIDA` AS `t`
    WHERE `t`.`DS_UNIDADE_MEDIDA` = @__request_NomeUnidadeMedida_0)
2023-07-13 13:13:27.927 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:13:27.930 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:27.933 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:27.992 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.UnidadeMedida'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:13:28.075 -03:00 [DBG] Context 'AthenaContext' started tracking 'UnidadeMedida' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:13:28.081 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:13:28.097 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:13:28.099 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:13:28.103 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:13:28.112 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:13:28.115 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:13:28.118 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:13:28.137 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:28.148 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:28.158 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:13:28.172 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:13:28.223 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:13:28.226 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:13:28.229 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (Size = 400), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_UNIDADE_MEDIDA` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `DS_UNIDADE_MEDIDA`, `DS_OBSERVACAO`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:13:28.236 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (Size = 400), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_UNIDADE_MEDIDA` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `DS_UNIDADE_MEDIDA`, `DS_OBSERVACAO`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:13:28.259 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:13:28.265 -03:00 [DBG] Committing transaction.
2023-07-13 13:13:28.275 -03:00 [DBG] Committed transaction.
2023-07-13 13:13:28.280 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:28.284 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:28.288 -03:00 [DBG] Disposing transaction.
2023-07-13 13:13:28.304 -03:00 [DBG] An entity of type 'UnidadeMedida' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:13:28.312 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:13:28.330 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:13:28.336 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:13:28.338 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:13:28.340 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:13:28.342 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:13:28.345 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.CreateUnidadeMedidaResponse'.
2023-07-13 13:13:28.350 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API) in 693.6854ms
2023-07-13 13:13:28.355 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Create (Concent.Athena.Services.API)'
2023-07-13 13:13:28.362 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:13:28.365 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/unidademedida application/json 126 - 201 - application/json;+charset=utf-8 771.5952ms
2023-07-13 13:13:28.780 -03:00 [DBG] Connection id "0HMS3NBH00BJF" received FIN.
2023-07-13 13:13:28.785 -03:00 [DBG] Connection id "0HMS3NBH00BJF" is closed. The last processed stream ID was 1.
2023-07-13 13:13:28.788 -03:00 [DBG] Connection id "0HMS3NBH00BJF" sending FIN because: "The client closed the connection."
2023-07-13 13:13:28.794 -03:00 [DBG] Connection id "0HMS3NBH00BJF" stopped.
2023-07-13 13:13:37.357 -03:00 [DBG] Connection id "0HMS3NBH00BJG" accepted.
2023-07-13 13:13:37.362 -03:00 [DBG] Connection id "0HMS3NBH00BJG" started.
2023-07-13 13:13:37.367 -03:00 [DBG] Connection "0HMS3NBH00BJG" established using the following protocol: "Tls12"
2023-07-13 13:13:37.376 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida - -
2023-07-13 13:13:37.385 -03:00 [DBG] The request path  does not match the path filter
2023-07-13 13:13:37.391 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:13:37.396 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:13:37.399 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:13:37.402 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:13:37.415 -03:00 [INF] Route matched with {action = "GetAll", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-13 13:13:37.423 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:13:37.429 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:13:37.433 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:13:37.439 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:13:37.444 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:13:37.447 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:13:37.449 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:13:37.453 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-13 13:13:37.457 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' using the name '' in request data ...
2023-07-13 13:13:37.461 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:13:37.464 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:13:37.466 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:13:37.469 -03:00 [DBG] Attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-13 13:13:37.473 -03:00 [DBG] Done attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:13:37.477 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:13:37.479 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:13:37.481 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:13:37.485 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:13:37.536 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:13:37.548 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:13:37.553 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:13:37.560 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:13:37.563 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:13:37.565 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:37.568 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:37.570 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:13:37.577 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:13:37.582 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:37.584 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:37.599 -03:00 [DBG] Compiling query expression: 
'DbSet<UnidadeMedida>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
    )
    .Select(x => new { 
        Id = x.Id, 
        NomeUnidadeMedida = x.NomeUnidadeMedida
     })'
2023-07-13 13:13:37.617 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType15<Guid, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            NomeUnidadeMedida -> 1
        SELECT t.ID AS Id, t.DS_UNIDADE_MEDIDA AS NomeUnidadeMedida
        FROM TB_UNIDADE_MEDIDA AS t
        WHERE TRUE && t.ST_ACTIVE), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType15<Guid, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-13 13:13:37.629 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:13:37.632 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:13:37.635 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:37.638 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:37.643 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-13 13:13:37.648 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-13 13:13:37.653 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:13:37.657 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:37.661 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:37.679 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:13:37.682 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:13:37.684 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:13:37.686 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:13:37.688 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:13:37.692 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.GetUnidadeMedidaResponse'.
2023-07-13 13:13:37.699 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API) in 251.8257ms
2023-07-13 13:13:37.702 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:13:37.705 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:13:37.710 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida - - - 200 - application/json;+charset=utf-8 333.8693ms
2023-07-13 13:13:38.790 -03:00 [DBG] Connection id "0HMS3NBH00BJG" received FIN.
2023-07-13 13:13:38.794 -03:00 [DBG] Connection id "0HMS3NBH00BJG" is closed. The last processed stream ID was 1.
2023-07-13 13:13:38.796 -03:00 [DBG] Connection id "0HMS3NBH00BJG" sending FIN because: "The client closed the connection."
2023-07-13 13:13:38.799 -03:00 [DBG] Connection id "0HMS3NBH00BJG" stopped.
2023-07-13 13:13:43.328 -03:00 [DBG] Connection id "0HMS3NBH00BJH" accepted.
2023-07-13 13:13:43.330 -03:00 [DBG] Connection id "0HMS3NBH00BJH" started.
2023-07-13 13:13:43.339 -03:00 [DBG] Connection "0HMS3NBH00BJH" established using the following protocol: "Tls12"
2023-07-13 13:13:43.345 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida?NomeUnidadeMedida=MM - -
2023-07-13 13:13:43.355 -03:00 [DBG] The request path  does not match the path filter
2023-07-13 13:13:43.359 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:13:43.363 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:13:43.368 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:13:43.372 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:13:43.374 -03:00 [INF] Route matched with {action = "GetAll", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-13 13:13:43.380 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:13:43.384 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:13:43.387 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:13:43.391 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:13:43.395 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:13:43.399 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:13:43.403 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:13:43.406 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-13 13:13:43.412 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' using the name 'NomeUnidadeMedida' in request data ...
2023-07-13 13:13:43.416 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:13:43.419 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:13:43.422 -03:00 [DBG] Attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-13 13:13:43.426 -03:00 [DBG] Done attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:13:43.429 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:13:43.433 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:13:43.436 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:13:43.438 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:13:43.450 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:13:43.454 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:13:43.463 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:13:43.467 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:13:43.469 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:13:43.472 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:43.477 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:43.480 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:13:43.484 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:13:43.488 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:43.490 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:43.495 -03:00 [DBG] Compiling query expression: 
'DbSet<UnidadeMedida>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
     && Invoke(x => x.NomeUnidadeMedida.Contains(__request_NomeUnidadeMedida_0), f)
    )
    .Select(x => new { 
        Id = x.Id, 
        NomeUnidadeMedida = x.NomeUnidadeMedida
     })'
2023-07-13 13:13:43.543 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType15<Guid, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            NomeUnidadeMedida -> 1
        SELECT t.ID AS Id, t.DS_UNIDADE_MEDIDA AS NomeUnidadeMedida
        FROM TB_UNIDADE_MEDIDA AS t
        WHERE (TRUE && t.ST_ACTIVE) && ((@__request_NomeUnidadeMedida_0 LIKE '') || (LOCATE(@__request_NomeUnidadeMedida_0, t.DS_UNIDADE_MEDIDA) > 0))), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType15<Guid, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-13 13:13:43.550 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:13:43.552 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:13:43.554 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:43.557 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:43.560 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE` AND ((@__request_NomeUnidadeMedida_0 LIKE '') OR (LOCATE(@__request_NomeUnidadeMedida_0, `t`.`DS_UNIDADE_MEDIDA`) > 0))
2023-07-13 13:13:43.566 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE` AND ((@__request_NomeUnidadeMedida_0 LIKE '') OR (LOCATE(@__request_NomeUnidadeMedida_0, `t`.`DS_UNIDADE_MEDIDA`) > 0))
2023-07-13 13:13:43.571 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:13:43.572 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:43.576 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:43.578 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:13:43.583 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:13:43.586 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:13:43.587 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:13:43.589 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:13:43.592 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.GetUnidadeMedidaResponse'.
2023-07-13 13:13:43.595 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API) in 196.7437ms
2023-07-13 13:13:43.598 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:13:43.601 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:13:43.604 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida?NomeUnidadeMedida=MM - - - 200 - application/json;+charset=utf-8 258.8816ms
2023-07-13 13:13:48.205 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida?NomeUnidadeMedida=mm - -
2023-07-13 13:13:48.207 -03:00 [DBG] The request path  does not match the path filter
2023-07-13 13:13:48.216 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:13:48.219 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:13:48.223 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:13:48.225 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:13:48.231 -03:00 [INF] Route matched with {action = "GetAll", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-13 13:13:48.238 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:13:48.245 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:13:48.248 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:13:48.251 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:13:48.254 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:13:48.256 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:13:48.263 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:13:48.268 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-13 13:13:48.270 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' using the name 'NomeUnidadeMedida' in request data ...
2023-07-13 13:13:48.274 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:13:48.276 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:13:48.279 -03:00 [DBG] Attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-13 13:13:48.282 -03:00 [DBG] Done attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:13:48.284 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:13:48.286 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:13:48.290 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:13:48.295 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:13:48.301 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:13:48.306 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:13:48.313 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:13:48.317 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:13:48.319 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:13:48.322 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:48.327 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:48.331 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:13:48.335 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:13:48.340 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:48.342 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:48.350 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:13:48.353 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:13:48.356 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:48.359 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:48.364 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE` AND ((@__request_NomeUnidadeMedida_0 LIKE '') OR (LOCATE(@__request_NomeUnidadeMedida_0, `t`.`DS_UNIDADE_MEDIDA`) > 0))
2023-07-13 13:13:48.369 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE` AND ((@__request_NomeUnidadeMedida_0 LIKE '') OR (LOCATE(@__request_NomeUnidadeMedida_0, `t`.`DS_UNIDADE_MEDIDA`) > 0))
2023-07-13 13:13:48.372 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:13:48.374 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:48.377 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:13:48.380 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:13:48.384 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:13:48.387 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:13:48.389 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:13:48.391 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:13:48.394 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.GetUnidadeMedidaResponse'.
2023-07-13 13:13:48.397 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API) in 140.9145ms
2023-07-13 13:13:48.401 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:13:48.405 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:13:48.407 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida?NomeUnidadeMedida=mm - - - 200 - application/json;+charset=utf-8 202.7416ms
2023-07-13 13:13:48.808 -03:00 [DBG] Connection id "0HMS3NBH00BJH" received FIN.
2023-07-13 13:13:48.815 -03:00 [DBG] Connection id "0HMS3NBH00BJH" is closed. The last processed stream ID was 3.
2023-07-13 13:13:48.817 -03:00 [DBG] Connection id "0HMS3NBH00BJH" sending FIN because: "The client closed the connection."
2023-07-13 13:13:48.823 -03:00 [DBG] Connection id "0HMS3NBH00BJH" stopped.
2023-07-13 13:14:06.897 -03:00 [DBG] Connection id "0HMS3NBH00BJI" accepted.
2023-07-13 13:14:06.899 -03:00 [DBG] Connection id "0HMS3NBH00BJI" started.
2023-07-13 13:14:06.908 -03:00 [DBG] Connection "0HMS3NBH00BJI" established using the following protocol: "Tls12"
2023-07-13 13:14:06.914 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida?NomeUnidadeMedida=mm - -
2023-07-13 13:14:06.919 -03:00 [DBG] The request path  does not match the path filter
2023-07-13 13:14:06.924 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:14:06.927 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:14:06.936 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:14:06.939 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:14:06.943 -03:00 [INF] Route matched with {action = "GetAll", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-13 13:14:06.948 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:14:06.951 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:14:06.956 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:14:06.959 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:14:06.962 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:14:06.967 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:14:06.972 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:14:06.975 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-13 13:14:06.979 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' using the name 'NomeUnidadeMedida' in request data ...
2023-07-13 13:14:06.982 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:14:06.985 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:14:06.988 -03:00 [DBG] Attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-13 13:14:06.991 -03:00 [DBG] Done attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:14:06.995 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:14:06.998 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:14:07.001 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:14:07.004 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:14:07.008 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:14:07.013 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:14:07.021 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:14:07.026 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:14:07.029 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:14:07.032 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:07.036 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:07.040 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:14:07.046 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:14:07.050 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:07.054 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:07.058 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:14:07.061 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:14:07.063 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:07.066 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:07.069 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE` AND ((@__request_NomeUnidadeMedida_0 LIKE '') OR (LOCATE(@__request_NomeUnidadeMedida_0, `t`.`DS_UNIDADE_MEDIDA`) > 0))
2023-07-13 13:14:07.076 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE` AND ((@__request_NomeUnidadeMedida_0 LIKE '') OR (LOCATE(@__request_NomeUnidadeMedida_0, `t`.`DS_UNIDADE_MEDIDA`) > 0))
2023-07-13 13:14:07.080 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:14:07.082 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:07.087 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:07.092 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:14:07.096 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:14:07.097 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:14:07.099 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:14:07.102 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:14:07.106 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.GetUnidadeMedidaResponse'.
2023-07-13 13:14:07.110 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API) in 142.633ms
2023-07-13 13:14:07.113 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:14:07.116 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:14:07.120 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida?NomeUnidadeMedida=mm - - - 200 - application/json;+charset=utf-8 205.8944ms
2023-07-13 13:14:08.813 -03:00 [DBG] Connection id "0HMS3NBH00BJI" received FIN.
2023-07-13 13:14:08.817 -03:00 [DBG] Connection id "0HMS3NBH00BJI" is closed. The last processed stream ID was 1.
2023-07-13 13:14:08.820 -03:00 [DBG] Connection id "0HMS3NBH00BJI" sending FIN because: "The client closed the connection."
2023-07-13 13:14:08.830 -03:00 [DBG] Connection id "0HMS3NBH00BJI" stopped.
2023-07-13 13:14:20.411 -03:00 [DBG] Connection id "0HMS3NBH00BJJ" accepted.
2023-07-13 13:14:20.414 -03:00 [DBG] Connection id "0HMS3NBH00BJJ" started.
2023-07-13 13:14:20.420 -03:00 [DBG] Connection "0HMS3NBH00BJJ" established using the following protocol: "Tls12"
2023-07-13 13:14:20.432 -03:00 [INF] Request starting HTTP/2 DELETE https://localhost:5004/api/v1/tenant/unidademedida?unidadeMedidaId=08db83bc-17d3-4be0-875d-147bd709fafb - -
2023-07-13 13:14:20.435 -03:00 [DBG] DELETE requests are not supported
2023-07-13 13:14:20.437 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:14:20.440 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Delete (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:14:20.447 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Delete (Concent.Athena.Services.API)'
2023-07-13 13:14:20.450 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:14:20.452 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:14:20.454 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Delete (Concent.Athena.Services.API)'
2023-07-13 13:14:20.462 -03:00 [INF] Route matched with {action = "Delete", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Delete(System.Guid, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-13 13:14:20.468 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:14:20.471 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:14:20.481 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:14:20.484 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:14:20.487 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:14:20.492 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:14:20.497 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:14:20.500 -03:00 [DBG] Attempting to bind parameter 'unidadeMedidaId' of type 'System.Guid' ...
2023-07-13 13:14:20.502 -03:00 [DBG] Attempting to bind parameter 'unidadeMedidaId' of type 'System.Guid' using the name 'unidadeMedidaId' in request data ...
2023-07-13 13:14:20.506 -03:00 [DBG] Done attempting to bind parameter 'unidadeMedidaId' of type 'System.Guid'.
2023-07-13 13:14:20.511 -03:00 [DBG] Done attempting to bind parameter 'unidadeMedidaId' of type 'System.Guid'.
2023-07-13 13:14:20.513 -03:00 [DBG] Attempting to validate the bound parameter 'unidadeMedidaId' of type 'System.Guid' ...
2023-07-13 13:14:20.515 -03:00 [DBG] Done attempting to validate the bound parameter 'unidadeMedidaId' of type 'System.Guid'.
2023-07-13 13:14:20.518 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:14:20.521 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:14:20.528 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:14:20.530 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:14:20.536 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:14:20.543 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:14:20.549 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:14:20.554 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:14:20.556 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:14:20.561 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:20.564 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:20.567 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:14:20.571 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:14:20.576 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:20.579 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:20.585 -03:00 [DBG] Compiling query expression: 
'DbSet<UnidadeMedida>()
    .SingleOrDefault(x => x.Id == __GetId_0)'
2023-07-13 13:14:20.594 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<UnidadeMedida>(
    asyncEnumerable: new SingleQueryingEnumerable<UnidadeMedida>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: UnidadeMedida.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: UnidadeMedida.CreatedAt (DateTime) Required, 1], [Property: UnidadeMedida.DescricaoUnidadeMedida (string) Required, 2], [Property: UnidadeMedida.IsActive (bool) Required, 3], [Property: UnidadeMedida.NomeUnidadeMedida (string) Required, 4], [Property: UnidadeMedida.Observação (string), 5], [Property: UnidadeMedida.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.DS_UNIDADE_MEDIDA, t.DS_OBSERVACAO, t.UPDATED_AT
            FROM TB_UNIDADE_MEDIDA AS t
            WHERE t.ID == @__GetId_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, UnidadeMedida>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:14:20.600 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:14:20.603 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:14:20.607 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:20.614 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:20.618 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_UNIDADE_MEDIDA`, `t`.`DS_OBSERVACAO`, `t`.`UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-13 13:14:20.628 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_UNIDADE_MEDIDA`, `t`.`DS_OBSERVACAO`, `t`.`UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-13 13:14:20.638 -03:00 [DBG] Context 'AthenaContext' started tracking 'UnidadeMedida' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:14:20.647 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:14:20.649 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:20.653 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:20.657 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:14:20.664 -03:00 [DBG] The unchanged property 'UnidadeMedida.IsActive' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-13 13:14:20.666 -03:00 [DBG] An entity of type 'UnidadeMedida' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:14:20.670 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:14:20.672 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:14:20.674 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:14:20.680 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:14:20.682 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:14:20.684 -03:00 [DBG] The unchanged property 'UnidadeMedida.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-13 13:14:20.687 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:14:20.689 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:20.694 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:20.698 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:14:20.701 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:14:20.706 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:14:20.710 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-13 13:14:20.713 -03:00 [DBG] Executing DbCommand [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_UNIDADE_MEDIDA` SET `ST_ACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-07-13 13:14:20.719 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p1='?' (DbType = Guid), @p0='?' (DbType = Boolean), @p2='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_UNIDADE_MEDIDA` SET `ST_ACTIVE` = @p0
WHERE `ID` = @p1 AND `UPDATED_AT` = @p2;
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p1;
2023-07-13 13:14:20.727 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:14:20.730 -03:00 [DBG] Committing transaction.
2023-07-13 13:14:20.736 -03:00 [DBG] Committed transaction.
2023-07-13 13:14:20.738 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:20.741 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:20.745 -03:00 [DBG] Disposing transaction.
2023-07-13 13:14:20.747 -03:00 [DBG] An entity of type 'UnidadeMedida' tracked by 'AthenaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:14:20.751 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:14:20.755 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:14:20.760 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:14:20.762 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:14:20.765 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:14:20.767 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:14:20.769 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.DeleteUnidadeMedidaResponse'.
2023-07-13 13:14:20.773 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Delete (Concent.Athena.Services.API) in 280.7794ms
2023-07-13 13:14:20.777 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Delete (Concent.Athena.Services.API)'
2023-07-13 13:14:20.780 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:14:20.784 -03:00 [INF] Request finished HTTP/2 DELETE https://localhost:5004/api/v1/tenant/unidademedida?unidadeMedidaId=08db83bc-17d3-4be0-875d-147bd709fafb - - - 200 - application/json;+charset=utf-8 351.4214ms
2023-07-13 13:14:25.313 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida?NomeUnidadeMedida=mm - -
2023-07-13 13:14:25.316 -03:00 [DBG] The request path  does not match the path filter
2023-07-13 13:14:25.318 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:14:25.323 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:14:25.330 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:14:25.334 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:14:25.336 -03:00 [INF] Route matched with {action = "GetAll", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-13 13:14:25.343 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:14:25.347 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:14:25.351 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:14:25.356 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:14:25.359 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:14:25.363 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:14:25.368 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:14:25.373 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-13 13:14:25.375 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' using the name 'NomeUnidadeMedida' in request data ...
2023-07-13 13:14:25.380 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:14:25.383 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:14:25.388 -03:00 [DBG] Attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-13 13:14:25.390 -03:00 [DBG] Done attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:14:25.393 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:14:25.396 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:14:25.399 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:14:25.403 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:14:25.406 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:14:25.410 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:14:25.424 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:14:25.432 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:14:25.436 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-13 13:14:25.438 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:25.441 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:25.448 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:14:25.453 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:14:25.458 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:25.462 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:25.465 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:14:25.468 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:14:25.471 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:25.474 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:25.479 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE` AND ((@__request_NomeUnidadeMedida_0 LIKE '') OR (LOCATE(@__request_NomeUnidadeMedida_0, `t`.`DS_UNIDADE_MEDIDA`) > 0))
2023-07-13 13:14:25.484 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_NomeUnidadeMedida_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE` AND ((@__request_NomeUnidadeMedida_0 LIKE '') OR (LOCATE(@__request_NomeUnidadeMedida_0, `t`.`DS_UNIDADE_MEDIDA`) > 0))
2023-07-13 13:14:25.489 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:14:25.491 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:25.496 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:14:25.499 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:14:25.502 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:14:25.504 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:14:25.506 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:14:25.508 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:14:25.512 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.GetUnidadeMedidaResponse'.
2023-07-13 13:14:25.516 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API) in 153.4209ms
2023-07-13 13:14:25.520 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:14:25.522 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:14:25.526 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida?NomeUnidadeMedida=mm - - - 200 - application/json;+charset=utf-8 213.0035ms
2023-07-13 13:14:28.827 -03:00 [DBG] Connection id "0HMS3NBH00BJJ" received FIN.
2023-07-13 13:14:28.829 -03:00 [DBG] Connection id "0HMS3NBH00BJJ" is closed. The last processed stream ID was 3.
2023-07-13 13:14:28.833 -03:00 [DBG] Connection id "0HMS3NBH00BJJ" sending FIN because: "The client closed the connection."
2023-07-13 13:14:28.836 -03:00 [DBG] Connection id "0HMS3NBH00BJJ" stopped.
2023-07-13 13:15:04.803 -03:00 [DBG] Connection id "0HMS3NBH00BJK" accepted.
2023-07-13 13:15:04.805 -03:00 [DBG] Connection id "0HMS3NBH00BJK" started.
2023-07-13 13:15:04.815 -03:00 [DBG] Connection "0HMS3NBH00BJK" established using the following protocol: "Tls12"
2023-07-13 13:15:04.823 -03:00 [INF] Request starting HTTP/2 PUT https://localhost:5004/api/v1/tenant/unidademedida/08db83ba-0794-4886-84c8-5c020bccc247 application/json 138
2023-07-13 13:15:04.826 -03:00 [DBG] PUT requests are not supported
2023-07-13 13:15:04.831 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida/08db83ba-0794-4886-84c8-5c020bccc247'
2023-07-13 13:15:04.836 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Update (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida/{id}' is valid for the request path '/api/v1/tenant/unidademedida/08db83ba-0794-4886-84c8-5c020bccc247'
2023-07-13 13:15:04.839 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Update (Concent.Athena.Services.API)'
2023-07-13 13:15:04.841 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:15:04.846 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:15:04.848 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Update (Concent.Athena.Services.API)'
2023-07-13 13:15:04.856 -03:00 [INF] Route matched with {action = "Update", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Update(System.Guid, Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-13 13:15:04.864 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:15:04.866 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:15:04.869 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:15:04.872 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:15:04.876 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:15:04.882 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:15:04.886 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:15:04.888 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-13 13:15:04.891 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-13 13:15:04.896 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-13 13:15:04.899 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-13 13:15:04.901 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-13 13:15:04.904 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-13 13:15:04.906 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest' ...
2023-07-13 13:15:04.910 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest' using the name '' in request data ...
2023-07-13 13:15:04.916 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:15:04.919 -03:00 [DBG] Connection id "0HMS3NBH00BJK", Request id "0HMS3NBH00BJK:00000001": started reading request body.
2023-07-13 13:15:04.922 -03:00 [DBG] Connection id "0HMS3NBH00BJK", Request id "0HMS3NBH00BJK:00000001": done reading request body.
2023-07-13 13:15:04.925 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest'
2023-07-13 13:15:04.930 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest'.
2023-07-13 13:15:04.932 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest'.
2023-07-13 13:15:04.935 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest' ...
2023-07-13 13:15:04.938 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.UnidadeMedidaRequests.UpdateUnidadeMedidaRequest'.
2023-07-13 13:15:04.941 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:15:04.944 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:15:04.948 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:15:04.950 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:15:04.955 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:15:04.959 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:15:04.966 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:15:04.971 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:15:04.973 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:15:04.975 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:04.980 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:04.982 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:15:04.987 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:15:04.992 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:04.995 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:05.001 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:15:05.005 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:15:05.007 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:05.013 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:05.017 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_UNIDADE_MEDIDA`, `t`.`DS_OBSERVACAO`, `t`.`UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-13 13:15:05.024 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`DS_UNIDADE_MEDIDA`, `t`.`DS_OBSERVACAO`, `t`.`UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ID` = @__GetId_0
LIMIT 2
2023-07-13 13:15:05.031 -03:00 [DBG] Context 'AthenaContext' started tracking 'UnidadeMedida' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:15:05.034 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:15:05.036 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:05.039 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:05.042 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:15:05.045 -03:00 [DBG] The unchanged property 'UnidadeMedida.DescricaoUnidadeMedida' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-13 13:15:05.051 -03:00 [DBG] An entity of type 'UnidadeMedida' tracked by 'AthenaContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:15:05.054 -03:00 [DBG] The unchanged property 'UnidadeMedida.NomeUnidadeMedida' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-13 13:15:05.057 -03:00 [DBG] The unchanged property 'UnidadeMedida.Observação' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-13 13:15:05.059 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:15:05.065 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:15:05.067 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:15:05.070 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:15:05.073 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:15:05.076 -03:00 [DBG] The unchanged property 'UnidadeMedida.UpdatedAt' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2023-07-13 13:15:05.082 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:15:05.084 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:05.089 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:05.092 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:15:05.097 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:15:05.101 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:15:05.104 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:15:05.107 -03:00 [DBG] Executing DbCommand [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 400), @p1='?' (Size = 400), @p2='?' (Size = 400), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_UNIDADE_MEDIDA` SET `DS_DESCRICAO` = @p0, `DS_UNIDADE_MEDIDA` = @p1, `DS_OBSERVACAO` = @p2
WHERE `ID` = @p3 AND `UPDATED_AT` = @p4;
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p3;
2023-07-13 13:15:05.116 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p3='?' (DbType = Guid), @p0='?' (Size = 400), @p1='?' (Size = 400), @p2='?' (Size = 400), @p4='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `TB_UNIDADE_MEDIDA` SET `DS_DESCRICAO` = @p0, `DS_UNIDADE_MEDIDA` = @p1, `DS_OBSERVACAO` = @p2
WHERE `ID` = @p3 AND `UPDATED_AT` = @p4;
SELECT `UPDATED_AT`
FROM `TB_UNIDADE_MEDIDA`
WHERE ROW_COUNT() = 1 AND `ID` = @p3;
2023-07-13 13:15:05.121 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:15:05.123 -03:00 [DBG] Committing transaction.
2023-07-13 13:15:05.130 -03:00 [DBG] Committed transaction.
2023-07-13 13:15:05.133 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:05.135 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:05.138 -03:00 [DBG] Disposing transaction.
2023-07-13 13:15:05.140 -03:00 [DBG] An entity of type 'UnidadeMedida' tracked by 'AthenaContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:15:05.144 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:15:05.151 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:15:05.155 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:15:05.157 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:15:05.158 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:15:05.159 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:15:05.164 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.UpdateUnidadeMedidaResponse'.
2023-07-13 13:15:05.169 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Update (Concent.Athena.Services.API) in 287.0678ms
2023-07-13 13:15:05.175 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.Update (Concent.Athena.Services.API)'
2023-07-13 13:15:05.181 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:15:05.184 -03:00 [INF] Request finished HTTP/2 PUT https://localhost:5004/api/v1/tenant/unidademedida/08db83ba-0794-4886-84c8-5c020bccc247 application/json 138 - 200 - application/json;+charset=utf-8 363.2576ms
2023-07-13 13:15:16.522 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida/08db83ba-0794-4886-84c8-5c020bccc247 - -
2023-07-13 13:15:16.525 -03:00 [DBG] The request path  does not match the path filter
2023-07-13 13:15:16.529 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida/08db83ba-0794-4886-84c8-5c020bccc247'
2023-07-13 13:15:16.534 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetById (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida/{id}' is valid for the request path '/api/v1/tenant/unidademedida/08db83ba-0794-4886-84c8-5c020bccc247'
2023-07-13 13:15:16.539 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetById (Concent.Athena.Services.API)'
2023-07-13 13:15:16.543 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetById (Concent.Athena.Services.API)'
2023-07-13 13:15:16.551 -03:00 [INF] Route matched with {action = "GetById", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetById(System.Guid, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-13 13:15:16.557 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:15:16.562 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:15:16.565 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:15:16.570 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:15:16.574 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:15:16.577 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:15:16.579 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:15:16.582 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2023-07-13 13:15:16.588 -03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2023-07-13 13:15:16.592 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-13 13:15:16.594 -03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2023-07-13 13:15:16.596 -03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2023-07-13 13:15:16.599 -03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2023-07-13 13:15:16.603 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:15:16.606 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:15:16.609 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:15:16.611 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:15:16.616 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:15:16.622 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:15:16.626 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:15:16.629 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:15:16.631 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-13 13:15:16.637 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:16.640 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:16.642 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:15:16.647 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:15:16.653 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:16.656 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:16.661 -03:00 [DBG] Compiling query expression: 
'DbSet<UnidadeMedida>()
    .AsNoTracking()
    .Where(x => x.Id == __GetId_0)
    .Select(x => new { 
        Id = x.Id, 
        NomeUnidadeMedida = x.NomeUnidadeMedida, 
        DescricaoUnidadeMedida = x.DescricaoUnidadeMedida, 
        Observação = x.Observação
     })'
2023-07-13 13:15:16.668 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType14<Guid, string, string, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            NomeUnidadeMedida -> 1
            DescricaoUnidadeMedida -> 2
            Observação -> 3
        SELECT t.ID AS Id, t.DS_UNIDADE_MEDIDA AS NomeUnidadeMedida, t.DS_DESCRICAO AS DescricaoUnidadeMedida, t.DS_OBSERVACAO AS Observação
        FROM TB_UNIDADE_MEDIDA AS t
        WHERE t.ID == @__GetId_0), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType14<Guid, string, string, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-13 13:15:16.672 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:15:16.674 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-13 13:15:16.676 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:16.679 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:16.682 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`, `t`.`DS_DESCRICAO` AS `DescricaoUnidadeMedida`, `t`.`DS_OBSERVACAO` AS `Observação`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ID` = @__GetId_0
2023-07-13 13:15:16.687 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__GetId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`, `t`.`DS_DESCRICAO` AS `DescricaoUnidadeMedida`, `t`.`DS_OBSERVACAO` AS `Observação`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ID` = @__GetId_0
2023-07-13 13:15:16.691 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:15:16.692 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:16.695 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:16.698 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:15:16.703 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:15:16.705 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:15:16.706 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:15:16.708 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:15:16.711 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.GetByIdUnidadeMedidaResponse'.
2023-07-13 13:15:16.715 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetById (Concent.Athena.Services.API) in 138.1717ms
2023-07-13 13:15:16.721 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetById (Concent.Athena.Services.API)'
2023-07-13 13:15:16.723 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:15:16.726 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida/08db83ba-0794-4886-84c8-5c020bccc247 - - - 200 - application/json;+charset=utf-8 204.4009ms
2023-07-13 13:15:31.463 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida - -
2023-07-13 13:15:31.466 -03:00 [DBG] The request path  does not match the path filter
2023-07-13 13:15:31.469 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:15:31.475 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/UnidadeMedida' is valid for the request path '/api/v1/tenant/unidademedida'
2023-07-13 13:15:31.481 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:15:31.485 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:15:31.487 -03:00 [INF] Route matched with {action = "GetAll", controller = "UnidadeMedida"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API).
2023-07-13 13:15:31.494 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:15:31.498 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:15:31.501 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:15:31.505 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:15:31.510 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:15:31.515 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:15:31.518 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.UnidadeMedidaController (Concent.Athena.Services.API)
2023-07-13 13:15:31.521 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-13 13:15:31.528 -03:00 [DBG] Attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String' using the name '' in request data ...
2023-07-13 13:15:31.532 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:15:31.535 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:15:31.537 -03:00 [DBG] Done attempting to bind parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:15:31.541 -03:00 [DBG] Attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String' ...
2023-07-13 13:15:31.544 -03:00 [DBG] Done attempting to validate the bound parameter 'NomeUnidadeMedida' of type 'System.String'.
2023-07-13 13:15:31.548 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:15:31.551 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:15:31.553 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:15:31.558 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:15:31.562 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:15:31.566 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:15:31.572 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:15:31.578 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:15:31.580 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:15:31.582 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:31.585 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:31.588 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:15:31.596 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:15:31.599 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:31.602 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:31.606 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:15:31.610 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-13 13:15:31.613 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:31.615 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:31.618 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-13 13:15:31.622 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_UNIDADE_MEDIDA` AS `NomeUnidadeMedida`
FROM `TB_UNIDADE_MEDIDA` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-13 13:15:31.628 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:15:31.630 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:31.632 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:15:31.634 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:15:31.640 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:15:31.644 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:15:31.646 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:15:31.648 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:15:31.651 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.UnidadeMedidaResponses.GetUnidadeMedidaResponse'.
2023-07-13 13:15:31.654 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API) in 139.0596ms
2023-07-13 13:15:31.660 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.UnidadeMedidaController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:15:31.662 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:15:31.668 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/tenant/unidademedida - - - 200 - application/json;+charset=utf-8 205.0258ms
2023-07-13 13:17:25.240 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115
2023-07-13 13:17:25.245 -03:00 [DBG] POST requests are not supported
2023-07-13 13:17:25.249 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:17:25.253 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:17:25.261 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:17:25.263 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:17:25.265 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:17:25.267 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:17:25.273 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-13 13:17:25.279 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:17:25.282 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:17:25.285 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:17:25.292 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:17:25.295 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:17:25.298 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:17:25.301 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:17:25.306 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:17:25.310 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-13 13:17:25.313 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:17:25.317 -03:00 [DBG] Connection id "0HMS3NBH00BJK", Request id "0HMS3NBH00BJK:00000007": started reading request body.
2023-07-13 13:17:25.321 -03:00 [DBG] Connection id "0HMS3NBH00BJK", Request id "0HMS3NBH00BJK:00000007": done reading request body.
2023-07-13 13:17:25.326 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-13 13:17:25.333 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:17:25.337 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:17:25.340 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:17:25.345 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:17:25.350 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:17:25.353 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:17:25.356 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:17:25.361 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:17:25.388 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:17:25.393 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:17:25.399 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:17:25.402 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:17:25.404 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-13 13:17:25.407 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.412 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.415 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:17:25.419 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:17:25.425 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.432 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.439 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .SingleOrDefault(x => x.Id == __GetId_0 && x.PersonId == __request_PersonId_1)'
2023-07-13 13:17:25.448 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Almoxarifados>(
    asyncEnumerable: new SingleQueryingEnumerable<Almoxarifados>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Almoxarifados.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Almoxarifados.CreatedAt (DateTime) Required, 1], [Property: Almoxarifados.DescricaoAlmoxarifado (string) Required, 2], [Property: Almoxarifados.IsActive (bool) Required, 3], [Property: Almoxarifados.PersonId (Guid) Required FK Index, 4], [Property: Almoxarifados.Sigla (string) Required, 5], [Property: Almoxarifados.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.ID_PERSON, t.DS_SIGLA, t.UPDATED_AT
            FROM TB_ALMOXARIFADO AS t
            WHERE (t.ID == @__GetId_0) && (t.ID_PERSON == @__request_PersonId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Almoxarifados>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:17:25.453 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:17:25.456 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:17:25.459 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.469 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.472 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:17:25.480 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:17:25.484 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:17:25.486 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.489 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.495 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .Any(x => x.Sigla.ToUpper() == __ToUpper_0)'
2023-07-13 13:17:25.500 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_ALMOXARIFADO AS t
                WHERE UPPER(t.DS_SIGLA) == @__ToUpper_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:17:25.511 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:17:25.513 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:17:25.516 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.523 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.528 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:17:25.533 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:17:25.537 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:17:25.538 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.542 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.546 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.Id == __request_PersonId_0)'
2023-07-13 13:17:25.551 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_PERSON AS t
                WHERE t.ID == @__request_PersonId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:17:25.555 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:17:25.558 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:17:25.561 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.567 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.572 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:17:25.578 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:17:25.583 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:17:25.585 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.587 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:17:25.591 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:17:25.597 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:17:25.599 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:17:25.601 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:17:25.602 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:17:25.605 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-13 13:17:25.611 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 312.6487ms
2023-07-13 13:17:25.616 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:17:25.619 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:17:25.621 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115 - 404 - application/json;+charset=utf-8 382.3030ms
2023-07-13 13:17:55.577 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 98
2023-07-13 13:17:55.580 -03:00 [DBG] POST requests are not supported
2023-07-13 13:17:55.601 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:17:55.609 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:17:55.614 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:17:55.616 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:17:55.618 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:17:55.622 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:17:55.624 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-13 13:17:55.628 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:17:55.633 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:17:55.636 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:17:55.641 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:17:55.644 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:17:55.649 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:17:55.652 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:17:55.655 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:17:55.660 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-13 13:17:55.665 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:17:55.668 -03:00 [DBG] Connection id "0HMS3NBH00BJK", Request id "0HMS3NBH00BJK:00000009": started reading request body.
2023-07-13 13:17:55.672 -03:00 [DBG] Connection id "0HMS3NBH00BJK", Request id "0HMS3NBH00BJK:00000009": done reading request body.
2023-07-13 13:17:55.675 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-13 13:17:55.679 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:17:55.681 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:17:55.684 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:17:55.686 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:17:55.691 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:17:55.695 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:17:55.698 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:17:55.700 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:17:55.725 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:17:55.730 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:17:55.733 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:17:55.735 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:17:55.740 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:17:55.743 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-13 13:17:55.745 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 96.0004ms
2023-07-13 13:17:55.748 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:17:55.755 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 98 - 400 - application/json;+charset=utf-8 178.6700ms
2023-07-13 13:18:16.792 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115
2023-07-13 13:18:16.809 -03:00 [DBG] POST requests are not supported
2023-07-13 13:18:16.812 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:18:16.817 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:18:16.820 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:18:16.824 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:18:16.828 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:18:16.830 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:18:16.833 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-13 13:18:16.838 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:18:16.843 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:18:16.845 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:18:16.849 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:18:16.852 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:18:16.855 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:18:16.860 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:18:16.862 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:18:16.865 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-13 13:18:16.869 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:18:16.872 -03:00 [DBG] Connection id "0HMS3NBH00BJK", Request id "0HMS3NBH00BJK:0000000B": started reading request body.
2023-07-13 13:18:16.876 -03:00 [DBG] Connection id "0HMS3NBH00BJK", Request id "0HMS3NBH00BJK:0000000B": done reading request body.
2023-07-13 13:18:16.880 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-13 13:18:16.884 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:18:16.888 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:18:16.891 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:18:16.894 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:18:16.897 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:18:16.900 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:18:16.904 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:18:16.906 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:18:16.911 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:18:16.917 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:18:16.925 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:18:16.928 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:18:16.930 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:18:16.933 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:16.937 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:16.940 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:18:16.945 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:18:16.952 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:16.955 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:16.960 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:18:16.962 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:18:16.966 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:16.975 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:16.979 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:18:16.986 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:18:16.991 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:18:16.993 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.003 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.006 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:18:17.008 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:18:17.011 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.026 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.030 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:18:17.036 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:18:17.041 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:18:17.043 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.048 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.051 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:18:17.053 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-13 13:18:17.055 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.062 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.066 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:18:17.071 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:18:17.077 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:18:17.079 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.082 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.093 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:18:17.118 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:18:17.122 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:18:17.126 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:18:17.128 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:18:17.131 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:18:17.134 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:18:17.138 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:18:17.140 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:18:17.142 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.145 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.149 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:18:17.154 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:18:17.170 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:18:17.172 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:18:17.174 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:18:17.189 -03:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:18:17.206 -03:00 [DBG] Disposing transaction.
2023-07-13 13:18:17.208 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.210 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:18:17.321 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83b9-cfa5-4183-89ca-fb32ba78a7a5' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83b9-cfa5-4183-89ca-fb32ba78a7a5' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-13 13:18:17.679 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 823.5946ms
2023-07-13 13:18:17.686 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:18:17.702 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83b9-cfa5-4183-89ca-fb32ba78a7a5' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-13 13:18:17.780 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:18:17.784 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115 - 500 - text/plain 991.7232ms
2023-07-13 13:19:04.760 -03:00 [DBG] Hosting starting
2023-07-13 13:19:05.265 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-13 13:19:05.361 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-13 13:19:05.364 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-13 13:19:05.366 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-13 13:19:05.369 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-13 13:19:05.371 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-13 13:19:05.374 -03:00 [INF] Hosting environment: Local
2023-07-13 13:19:05.375 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-13 13:19:05.378 -03:00 [DBG] Hosting started
2023-07-13 13:19:20.897 -03:00 [DBG] Connection id "0HMS3NJL2N95D" accepted.
2023-07-13 13:19:20.901 -03:00 [DBG] Connection id "0HMS3NJL2N95D" started.
2023-07-13 13:19:20.992 -03:00 [DBG] Connection "0HMS3NJL2N95D" established using the following protocol: "Tls12"
2023-07-13 13:19:21.046 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115
2023-07-13 13:19:21.069 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-13 13:19:21.086 -03:00 [DBG] POST requests are not supported
2023-07-13 13:19:21.161 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:19:21.171 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:19:21.177 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:19:21.191 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:19:21.198 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:19:21.202 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:19:21.217 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-13 13:19:21.276 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-13 13:19:21.282 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:19:21.284 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:19:21.287 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:19:21.290 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:19:21.294 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:19:21.298 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:19:21.303 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:19:21.321 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:19:21.327 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-13 13:19:21.330 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:19:21.354 -03:00 [DBG] Connection id "0HMS3NJL2N95D", Request id "0HMS3NJL2N95D:00000001": started reading request body.
2023-07-13 13:19:21.356 -03:00 [DBG] Connection id "0HMS3NJL2N95D", Request id "0HMS3NJL2N95D:00000001": done reading request body.
2023-07-13 13:19:21.366 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-13 13:19:21.369 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:19:21.372 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:19:21.374 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:19:21.382 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:19:21.387 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:19:21.389 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:19:21.393 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:19:21.397 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:19:21.619 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-13 13:19:22.405 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:19:22.427 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:19:22.539 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:19:22.628 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:19:22.636 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-13 13:19:22.641 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:22.656 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:22.666 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:19:22.696 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:19:22.704 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:22.709 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:22.999 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .SingleOrDefault(x => x.Id == __GetId_0 && x.PersonId == __request_PersonId_1)'
2023-07-13 13:19:23.175 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Almoxarifados>(
    asyncEnumerable: new SingleQueryingEnumerable<Almoxarifados>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Almoxarifados.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Almoxarifados.CreatedAt (DateTime) Required, 1], [Property: Almoxarifados.DescricaoAlmoxarifado (string) Required, 2], [Property: Almoxarifados.IsActive (bool) Required, 3], [Property: Almoxarifados.PersonId (Guid) Required FK Index, 4], [Property: Almoxarifados.Sigla (string) Required, 5], [Property: Almoxarifados.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.ID_PERSON, t.DS_SIGLA, t.UPDATED_AT
            FROM TB_ALMOXARIFADO AS t
            WHERE (t.ID == @__GetId_0) && (t.ID_PERSON == @__request_PersonId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Almoxarifados>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:19:23.214 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:19:23.217 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:19:23.238 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.253 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.264 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:19:23.298 -03:00 [INF] Executed DbCommand (41ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:19:23.308 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:19:23.315 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.318 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.326 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .Any(x => x.Sigla.ToUpper() == __ToUpper_0)'
2023-07-13 13:19:23.377 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_ALMOXARIFADO AS t
                WHERE UPPER(t.DS_SIGLA) == @__ToUpper_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:19:23.396 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:19:23.401 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-13 13:19:23.405 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.412 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.417 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:19:23.430 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:19:23.440 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:19:23.444 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.449 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.454 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.Id == __request_PersonId_0)'
2023-07-13 13:19:23.462 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_PERSON AS t
                WHERE t.ID == @__request_PersonId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:19:23.468 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:19:23.470 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:19:23.473 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.485 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.490 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:19:23.500 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:19:23.506 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:19:23.508 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.514 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.568 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:19:23.647 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:19:23.653 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:19:23.669 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:19:23.672 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:19:23.674 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:19:23.682 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:19:23.687 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:19:23.689 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:19:23.714 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.722 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.734 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:19:23.751 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:19:23.816 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:19:23.820 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:19:23.823 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:19:23.835 -03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:19:23.857 -03:00 [DBG] Disposing transaction.
2023-07-13 13:19:23.864 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.868 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:23.940 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83b9-cfa5-4183-89ca-fb32ba78a7a5' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83b9-cfa5-4183-89ca-fb32ba78a7a5' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-13 13:19:24.283 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 2982.206ms
2023-07-13 13:19:24.293 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:19:24.315 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83b9-cfa5-4183-89ca-fb32ba78a7a5' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-13 13:19:24.417 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:19:24.423 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115 - 500 - text/plain 3381.8329ms
2023-07-13 13:19:28.477 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115
2023-07-13 13:19:28.486 -03:00 [DBG] POST requests are not supported
2023-07-13 13:19:28.490 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:19:28.493 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:19:28.499 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:19:28.503 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:19:28.505 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:19:28.507 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:19:28.509 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-13 13:19:28.514 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:19:28.519 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:19:28.522 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:19:28.525 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:19:28.528 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:19:28.534 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:19:28.538 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:19:28.541 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:19:28.544 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-13 13:19:28.553 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:19:28.555 -03:00 [DBG] Connection id "0HMS3NJL2N95D", Request id "0HMS3NJL2N95D:00000003": started reading request body.
2023-07-13 13:19:28.558 -03:00 [DBG] Connection id "0HMS3NJL2N95D", Request id "0HMS3NJL2N95D:00000003": done reading request body.
2023-07-13 13:19:28.562 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-13 13:19:28.567 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:19:28.569 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:19:28.572 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:19:28.574 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:19:28.577 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:19:28.583 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:19:28.586 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:19:28.588 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:19:28.595 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:19:28.601 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:19:28.609 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:19:28.614 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:19:28.617 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:19:28.619 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.623 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.626 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:19:28.634 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:19:28.639 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.642 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.649 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:19:28.652 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:19:28.655 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.659 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.664 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:19:28.672 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:19:28.678 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:19:28.682 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.686 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.689 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:19:28.691 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:19:28.694 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.700 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.704 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:19:28.709 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:19:28.715 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:19:28.718 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.720 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.723 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:19:28.725 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:19:28.727 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.735 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.738 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:19:28.743 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:19:28.749 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:19:28.752 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.755 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.758 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:19:28.762 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:19:28.767 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:19:28.770 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:19:28.772 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:19:28.774 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:19:28.778 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:19:28.782 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:19:28.784 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:19:28.787 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.790 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.794 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:19:28.801 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:19:28.803 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:19:28.805 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:19:28.808 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:19:28.819 -03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:19:28.828 -03:00 [DBG] Disposing transaction.
2023-07-13 13:19:28.832 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.834 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:19:28.842 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83b9-cfa5-4183-89ca-fb32ba78a7a5' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83b9-cfa5-4183-89ca-fb32ba78a7a5' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-13 13:19:29.186 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 651.8189ms
2023-07-13 13:19:29.192 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:19:29.207 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83b9-cfa5-4183-89ca-fb32ba78a7a5' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 888
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 135
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-13 13:19:29.260 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:19:29.268 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115 - 500 - text/plain 790.7841ms
2023-07-13 13:19:34.260 -03:00 [DBG] Connection id "0HMS3NJL2N95D" received FIN.
2023-07-13 13:19:34.264 -03:00 [DBG] Connection id "0HMS3NJL2N95D" is closed. The last processed stream ID was 3.
2023-07-13 13:19:34.268 -03:00 [DBG] Connection id "0HMS3NJL2N95D" sending FIN because: "The client closed the connection."
2023-07-13 13:19:34.279 -03:00 [DBG] Connection id "0HMS3NJL2N95D" stopped.
2023-07-13 13:21:49.448 -03:00 [DBG] Connection id "0HMS3NJL2N95E" accepted.
2023-07-13 13:21:49.480 -03:00 [DBG] Connection id "0HMS3NJL2N95E" started.
2023-07-13 13:21:49.487 -03:00 [DBG] Connection "0HMS3NJL2N95E" established using the following protocol: "Tls12"
2023-07-13 13:21:49.542 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/person/person application/json 133
2023-07-13 13:21:49.547 -03:00 [DBG] POST requests are not supported
2023-07-13 13:21:49.551 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/person/person'
2023-07-13 13:21:49.554 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/Person/Person' is valid for the request path '/api/v1/person/person'
2023-07-13 13:21:49.561 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)'
2023-07-13 13:21:49.567 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:21:49.571 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:21:49.574 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)'
2023-07-13 13:21:49.590 -03:00 [INF] Route matched with {action = "Create", controller = "Person"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API).
2023-07-13 13:21:49.601 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:21:49.605 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:21:49.615 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:21:49.621 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:21:49.628 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:21:49.633 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-07-13 13:21:49.636 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-07-13 13:21:49.640 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest' ...
2023-07-13 13:21:49.647 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest' using the name '' in request data ...
2023-07-13 13:21:49.651 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:21:49.655 -03:00 [DBG] Connection id "0HMS3NJL2N95E", Request id "0HMS3NJL2N95E:00000001": started reading request body.
2023-07-13 13:21:49.665 -03:00 [DBG] Connection id "0HMS3NJL2N95E", Request id "0HMS3NJL2N95E:00000001": done reading request body.
2023-07-13 13:21:49.681 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'
2023-07-13 13:21:49.684 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'.
2023-07-13 13:21:49.687 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'.
2023-07-13 13:21:49.690 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest' ...
2023-07-13 13:21:49.697 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'.
2023-07-13 13:21:49.700 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:21:49.702 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:21:49.705 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:21:49.707 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:21:49.768 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:21:49.778 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:21:49.785 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:21:49.788 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:21:49.790 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:21:49.794 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:49.798 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:49.801 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:21:49.805 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:21:49.810 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:49.814 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:49.820 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.CPF == __request_CPF_0)'
2023-07-13 13:21:49.825 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_PERSON AS t
                WHERE t.DS_CPF == @__request_CPF_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:21:49.832 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:21:49.834 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:21:49.836 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:49.844 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:49.851 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_CPF_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`DS_CPF` = @__request_CPF_0)
2023-07-13 13:21:49.855 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_CPF_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`DS_CPF` = @__request_CPF_0)
2023-07-13 13:21:49.861 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:21:49.864 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:49.868 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:49.875 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Person'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:21:49.898 -03:00 [DBG] Context 'AthenaContext' started tracking 'Person' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:21:49.902 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:21:49.906 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:21:49.908 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:21:49.911 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:21:49.915 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:21:49.917 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:21:49.919 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:21:49.921 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:49.929 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:49.932 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:21:49.935 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:21:49.938 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:21:49.940 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-13 13:21:49.944 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_PERSON` (`ID`, `DS_CPF`, `CREATED_AT`, `ST_ACTIVE`, `DS_PERSON_NAME`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `UPDATED_AT`
FROM `TB_PERSON`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:21:49.949 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_PERSON` (`ID`, `DS_CPF`, `CREATED_AT`, `ST_ACTIVE`, `DS_PERSON_NAME`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `UPDATED_AT`
FROM `TB_PERSON`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:21:49.974 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:21:49.979 -03:00 [DBG] Committing transaction.
2023-07-13 13:21:49.985 -03:00 [DBG] Committed transaction.
2023-07-13 13:21:49.986 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:49.990 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:49.995 -03:00 [DBG] Disposing transaction.
2023-07-13 13:21:50.007 -03:00 [DBG] An entity of type 'Person' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:21:50.014 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:21:50.030 -03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(x => x.UserLogin.ToUpper().Trim() == __Trim_0)'
2023-07-13 13:21:50.038 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_USER AS t
                WHERE TRIM([SqlExpressions.SqlFunctionExpression]) == @__Trim_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:21:50.046 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:21:50.048 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:21:50.052 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:50.056 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:50.063 -03:00 [DBG] Executing DbCommand [Parameters=[@__Trim_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_USER` AS `t`
    WHERE TRIM(UPPER(`t`.`DS_USER_LOGIN`)) = @__Trim_0)
2023-07-13 13:21:50.069 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__Trim_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_USER` AS `t`
    WHERE TRIM(UPPER(`t`.`DS_USER_LOGIN`)) = @__Trim_0)
2023-07-13 13:21:50.073 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:21:50.077 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:50.081 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:50.290 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:21:50.324 -03:00 [DBG] Context 'AthenaContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:21:50.329 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:21:50.337 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:21:50.339 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:21:50.342 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:21:50.345 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:21:50.348 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:21:50.350 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:21:50.352 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:50.356 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:50.359 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:21:50.367 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:21:50.371 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:21:50.373 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-13 13:21:50.377 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_USER` (`ID`, `CREATED_AT`, `ST_ACTIVE`, `IE_ISLOGED`, `ID_PERSON`, `DS_SALT`, `DS_USER_LOGIN`, `DS_USER_PASSWORD`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_USER`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:21:50.385 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_USER` (`ID`, `CREATED_AT`, `ST_ACTIVE`, `IE_ISLOGED`, `ID_PERSON`, `DS_SALT`, `DS_USER_LOGIN`, `DS_USER_PASSWORD`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_USER`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:21:50.390 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:21:50.394 -03:00 [DBG] Committing transaction.
2023-07-13 13:21:50.399 -03:00 [DBG] Committed transaction.
2023-07-13 13:21:50.401 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:50.404 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:21:50.406 -03:00 [DBG] Disposing transaction.
2023-07-13 13:21:50.410 -03:00 [DBG] An entity of type 'User' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:21:50.416 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:21:50.429 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:21:50.435 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:21:50.437 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:21:50.438 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:21:50.444 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:21:50.448 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.Person.CreatePersonResponse'.
2023-07-13 13:21:50.478 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API) in 845.7038ms
2023-07-13 13:21:50.482 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)'
2023-07-13 13:21:50.485 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:21:50.489 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/person/person application/json 133 - 201 - application/json;+charset=utf-8 950.0202ms
2023-07-13 13:21:54.498 -03:00 [DBG] Connection id "0HMS3NJL2N95E" received FIN.
2023-07-13 13:21:54.501 -03:00 [DBG] Connection id "0HMS3NJL2N95E" sending FIN because: "The client closed the connection."
2023-07-13 13:21:54.501 -03:00 [DBG] Connection id "0HMS3NJL2N95E" is closed. The last processed stream ID was 1.
2023-07-13 13:21:54.516 -03:00 [DBG] Connection id "0HMS3NJL2N95E" stopped.
2023-07-13 13:22:15.654 -03:00 [DBG] Connection id "0HMS3NJL2N95F" accepted.
2023-07-13 13:22:15.657 -03:00 [DBG] Connection id "0HMS3NJL2N95F" started.
2023-07-13 13:22:15.692 -03:00 [DBG] Connection "0HMS3NJL2N95F" established using the following protocol: "Tls12"
2023-07-13 13:22:15.697 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115
2023-07-13 13:22:15.706 -03:00 [DBG] POST requests are not supported
2023-07-13 13:22:15.708 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:22:15.711 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:22:15.715 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:22:15.720 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:22:15.723 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:22:15.725 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:22:15.727 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-13 13:22:15.731 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:22:15.737 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:22:15.740 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:22:15.743 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:22:15.745 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:22:15.750 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:22:15.753 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:22:15.756 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:22:15.759 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-13 13:22:15.762 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:22:15.766 -03:00 [DBG] Connection id "0HMS3NJL2N95F", Request id "0HMS3NJL2N95F:00000001": started reading request body.
2023-07-13 13:22:15.769 -03:00 [DBG] Connection id "0HMS3NJL2N95F", Request id "0HMS3NJL2N95F:00000001": done reading request body.
2023-07-13 13:22:15.772 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-13 13:22:15.774 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:22:15.777 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:22:15.779 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:22:15.783 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:22:15.786 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:22:15.789 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:22:15.793 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:22:15.797 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:22:15.804 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:22:15.808 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:22:15.815 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:22:15.819 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:22:15.823 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-13 13:22:15.827 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.830 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.832 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:22:15.838 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:22:15.843 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.846 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.851 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:15.853 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:22:15.857 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.862 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.866 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:22:15.875 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:22:15.879 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:22:15.881 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.884 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.893 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:15.896 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:22:15.899 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.907 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.911 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:22:15.916 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:22:15.922 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:22:15.924 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.927 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.929 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:15.931 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-13 13:22:15.934 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.940 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.943 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:22:15.948 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:22:15.956 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:22:15.958 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.961 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.965 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:22:15.967 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:22:15.972 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:22:15.974 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:22:15.976 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:22:15.978 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:22:15.981 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:22:15.984 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:22:15.986 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:22:15.989 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.994 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:15.997 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:22:16.001 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:22:16.006 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:16.008 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:22:16.011 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:22:16.018 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:22:16.026 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:22:16.029 -03:00 [DBG] Committing transaction.
2023-07-13 13:22:16.032 -03:00 [DBG] Committed transaction.
2023-07-13 13:22:16.033 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:16.036 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:16.039 -03:00 [DBG] Disposing transaction.
2023-07-13 13:22:16.041 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:22:16.046 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:22:16.050 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:22:16.055 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:22:16.057 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:22:16.059 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:22:16.061 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:22:16.063 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-13 13:22:16.066 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 316.5187ms
2023-07-13 13:22:16.069 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:22:16.073 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:22:16.076 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115 - 201 - application/json;+charset=utf-8 378.9248ms
2023-07-13 13:22:19.805 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115
2023-07-13 13:22:19.808 -03:00 [DBG] POST requests are not supported
2023-07-13 13:22:19.810 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:22:19.814 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:22:19.820 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:22:19.825 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:22:19.828 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:22:19.832 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:22:19.835 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-13 13:22:19.839 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:22:19.844 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:22:19.849 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:22:19.854 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:22:19.862 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:22:19.865 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:22:19.868 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:22:19.870 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:22:19.875 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-13 13:22:19.879 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:22:19.882 -03:00 [DBG] Connection id "0HMS3NJL2N95F", Request id "0HMS3NJL2N95F:00000003": started reading request body.
2023-07-13 13:22:19.884 -03:00 [DBG] Connection id "0HMS3NJL2N95F", Request id "0HMS3NJL2N95F:00000003": done reading request body.
2023-07-13 13:22:19.887 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-13 13:22:19.895 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:22:19.899 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:22:19.901 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:22:19.904 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:22:19.909 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:22:19.913 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:22:19.915 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:22:19.918 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:22:19.922 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:22:19.929 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:22:19.935 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:22:19.940 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:22:19.945 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (5ms).
2023-07-13 13:22:19.947 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:19.950 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:19.953 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:22:19.964 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:22:19.968 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:19.977 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:19.982 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:19.984 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:22:19.987 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:19.998 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:20.001 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:22:20.010 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:22:20.015 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:22:20.017 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:20.020 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:20.025 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:20.028 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:22:20.031 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:20.036 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:20.040 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:22:20.045 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:22:20.049 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:22:20.052 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:20.058 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:20.063 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:22:20.068 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:22:20.070 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:22:20.074 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:22:20.076 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:22:20.078 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-13 13:22:20.084 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 218.7254ms
2023-07-13 13:22:20.086 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:22:20.091 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:22:20.094 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115 - 400 - application/json;+charset=utf-8 288.5207ms
2023-07-13 13:22:24.556 -03:00 [DBG] Connection id "0HMS3NJL2N95F" received FIN.
2023-07-13 13:22:24.563 -03:00 [DBG] Connection id "0HMS3NJL2N95F" is closed. The last processed stream ID was 3.
2023-07-13 13:22:24.568 -03:00 [DBG] Connection id "0HMS3NJL2N95F" sending FIN because: "The client closed the connection."
2023-07-13 13:22:24.579 -03:00 [DBG] Connection id "0HMS3NJL2N95F" stopped.
2023-07-13 13:22:25.905 -03:00 [DBG] Connection id "0HMS3NJL2N95G" accepted.
2023-07-13 13:22:25.908 -03:00 [DBG] Connection id "0HMS3NJL2N95G" started.
2023-07-13 13:22:25.920 -03:00 [DBG] Connection "0HMS3NJL2N95G" established using the following protocol: "Tls12"
2023-07-13 13:22:25.931 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115
2023-07-13 13:22:25.935 -03:00 [DBG] POST requests are not supported
2023-07-13 13:22:25.938 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:22:25.942 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:22:25.947 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:22:25.952 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:22:25.954 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:22:25.956 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:22:25.960 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-13 13:22:25.967 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:22:25.970 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:22:25.973 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:22:25.979 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:22:25.984 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:22:25.988 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:22:25.991 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:22:25.996 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:22:26.001 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-13 13:22:26.005 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:22:26.010 -03:00 [DBG] Connection id "0HMS3NJL2N95G", Request id "0HMS3NJL2N95G:00000001": started reading request body.
2023-07-13 13:22:26.015 -03:00 [DBG] Connection id "0HMS3NJL2N95G", Request id "0HMS3NJL2N95G:00000001": done reading request body.
2023-07-13 13:22:26.018 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-13 13:22:26.020 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:22:26.023 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:22:26.028 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:22:26.032 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:22:26.035 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:22:26.037 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:22:26.042 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:22:26.045 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:22:26.050 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:22:26.054 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:22:26.065 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:22:26.069 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:22:26.073 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-13 13:22:26.079 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.083 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.088 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:22:26.096 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:22:26.099 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.102 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.105 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:26.116 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2023-07-13 13:22:26.119 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.128 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.132 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:22:26.141 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:22:26.150 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:22:26.151 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.154 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.160 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:26.165 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-13 13:22:26.167 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.171 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.175 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:22:26.182 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:22:26.186 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:22:26.188 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.190 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.197 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:26.199 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:22:26.201 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.205 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.212 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:22:26.219 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:22:26.225 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:22:26.230 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.233 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.236 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:22:26.239 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:22:26.265 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:22:26.268 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:22:26.270 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:22:26.273 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:22:26.280 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:22:26.283 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:22:26.284 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:22:26.287 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.301 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.304 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:22:26.308 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:22:26.315 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:26.318 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:22:26.320 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:22:26.330 -03:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:22:26.337 -03:00 [DBG] Disposing transaction.
2023-07-13 13:22:26.340 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.344 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:26.351 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83bd-42f9-4583-8daa-7f4d80a9a51a' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83bd-42f9-4583-8daa-7f4d80a9a51a' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-13 13:22:26.722 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 734.0725ms
2023-07-13 13:22:26.730 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:22:26.740 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83bd-42f9-4583-8daa-7f4d80a9a51a' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-13 13:22:26.787 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:22:26.792 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115 - 500 - text/plain 861.7419ms
2023-07-13 13:22:34.579 -03:00 [DBG] Connection id "0HMS3NJL2N95G" received FIN.
2023-07-13 13:22:34.584 -03:00 [DBG] Connection id "0HMS3NJL2N95G" is closed. The last processed stream ID was 1.
2023-07-13 13:22:34.592 -03:00 [DBG] Connection id "0HMS3NJL2N95G" sending FIN because: "The client closed the connection."
2023-07-13 13:22:34.608 -03:00 [DBG] Connection id "0HMS3NJL2N95G" stopped.
2023-07-13 13:22:58.382 -03:00 [DBG] Connection id "0HMS3NJL2N95H" accepted.
2023-07-13 13:22:58.389 -03:00 [DBG] Connection id "0HMS3NJL2N95H" started.
2023-07-13 13:22:58.409 -03:00 [DBG] Connection "0HMS3NJL2N95H" established using the following protocol: "Tls12"
2023-07-13 13:22:58.415 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115
2023-07-13 13:22:58.417 -03:00 [DBG] POST requests are not supported
2023-07-13 13:22:58.420 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:22:58.424 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:22:58.427 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:22:58.431 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:22:58.433 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:22:58.435 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:22:58.437 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-13 13:22:58.443 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:22:58.448 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:22:58.451 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:22:58.454 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:22:58.458 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:22:58.463 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:22:58.466 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:22:58.468 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:22:58.472 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-13 13:22:58.480 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:22:58.483 -03:00 [DBG] Connection id "0HMS3NJL2N95H", Request id "0HMS3NJL2N95H:00000001": started reading request body.
2023-07-13 13:22:58.485 -03:00 [DBG] Connection id "0HMS3NJL2N95H", Request id "0HMS3NJL2N95H:00000001": done reading request body.
2023-07-13 13:22:58.488 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-13 13:22:58.492 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:22:58.496 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:22:58.498 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:22:58.501 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:22:58.503 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:22:58.508 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:22:58.512 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:22:58.515 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:22:58.521 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:22:58.529 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:22:58.534 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:22:58.540 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:22:58.543 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-13 13:22:58.545 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.548 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.550 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:22:58.557 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:22:58.561 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.564 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.568 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:58.571 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:22:58.576 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.580 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.585 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:22:58.592 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:22:58.599 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:22:58.602 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.607 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.611 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:58.615 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:22:58.618 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.631 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.634 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:22:58.639 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:22:58.645 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:22:58.647 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.649 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.652 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:22:58.654 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-13 13:22:58.658 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.666 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.668 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:22:58.676 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:22:58.681 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:22:58.683 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.686 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:22:58.692 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:22:58.696 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:22:58.698 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:22:58.700 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:22:58.701 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:22:58.704 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-13 13:22:58.711 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 247.327ms
2023-07-13 13:22:58.714 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:22:58.718 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:22:58.721 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115 - 404 - application/json;+charset=utf-8 306.1704ms
2023-07-13 13:23:04.612 -03:00 [DBG] Connection id "0HMS3NJL2N95H" received FIN.
2023-07-13 13:23:04.615 -03:00 [DBG] Connection id "0HMS3NJL2N95H" is closed. The last processed stream ID was 1.
2023-07-13 13:23:04.619 -03:00 [DBG] Connection id "0HMS3NJL2N95H" sending FIN because: "The client closed the connection."
2023-07-13 13:23:04.629 -03:00 [DBG] Connection id "0HMS3NJL2N95H" stopped.
2023-07-13 13:37:12.656 -03:00 [DBG] Connection id "0HMS3NJL2N95I" accepted.
2023-07-13 13:37:12.659 -03:00 [DBG] Connection id "0HMS3NJL2N95I" started.
2023-07-13 13:37:12.702 -03:00 [DBG] Connection "0HMS3NJL2N95I" established using the following protocol: "Tls12"
2023-07-13 13:37:12.713 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/address/address application/json 94
2023-07-13 13:37:12.716 -03:00 [DBG] POST requests are not supported
2023-07-13 13:37:12.718 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/address/address'
2023-07-13 13:37:12.721 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AddressController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/address/Address' is valid for the request path '/api/v1/address/address'
2023-07-13 13:37:12.727 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AddressController.Create (Concent.Athena.Services.API)'
2023-07-13 13:37:12.731 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:37:12.733 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:37:12.735 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AddressController.Create (Concent.Athena.Services.API)'
2023-07-13 13:37:12.741 -03:00 [INF] Route matched with {action = "Create", controller = "Address"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AddressController (Concent.Athena.Services.API).
2023-07-13 13:37:12.748 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:37:12.751 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:37:12.754 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:37:12.760 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:37:12.764 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:37:12.768 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AddressController (Concent.Athena.Services.API)
2023-07-13 13:37:12.771 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AddressController (Concent.Athena.Services.API)
2023-07-13 13:37:12.776 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest' ...
2023-07-13 13:37:12.780 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest' using the name '' in request data ...
2023-07-13 13:37:12.783 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:37:12.787 -03:00 [DBG] Connection id "0HMS3NJL2N95I", Request id "0HMS3NJL2N95I:00000001": started reading request body.
2023-07-13 13:37:12.791 -03:00 [DBG] Connection id "0HMS3NJL2N95I", Request id "0HMS3NJL2N95I:00000001": done reading request body.
2023-07-13 13:37:12.797 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest'
2023-07-13 13:37:12.799 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest'.
2023-07-13 13:37:12.802 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest'.
2023-07-13 13:37:12.804 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest' ...
2023-07-13 13:37:12.808 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AddressRequests.CreateAddressRequest'.
2023-07-13 13:37:12.812 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:37:12.815 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:37:12.818 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:37:12.820 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:37:12.826 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:37:12.830 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:37:12.840 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:37:12.844 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:37:12.847 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:37:12.849 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:12.855 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:12.860 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:37:12.869 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:37:12.872 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:12.876 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:12.882 -03:00 [DBG] Compiling query expression: 
'DbSet<Address>()
    .Any(x => x.PostalCode == __request_PostalCode_0)'
2023-07-13 13:37:12.887 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_ADDRESS AS t
                WHERE t.DS_POSTAL_CODE == @__request_PostalCode_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:37:12.894 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:37:12.896 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:37:12.899 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:12.906 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:12.913 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PostalCode_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ADDRESS` AS `t`
    WHERE `t`.`DS_POSTAL_CODE` = @__request_PostalCode_0)
2023-07-13 13:37:12.919 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_PostalCode_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ADDRESS` AS `t`
    WHERE `t`.`DS_POSTAL_CODE` = @__request_PostalCode_0)
2023-07-13 13:37:12.923 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:37:12.936 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:12.939 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:12.948 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Address'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:37:12.983 -03:00 [DBG] Context 'AthenaContext' started tracking 'Address' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:37:12.986 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:37:12.990 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:37:12.993 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:37:12.996 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:37:12.998 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:37:13.000 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:37:13.002 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:37:13.004 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:13.009 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:13.013 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:37:13.016 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:37:13.018 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:37:13.023 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-13 13:37:13.026 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 400), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ADDRESS` (`ID`, `DS_CITY`, `DS_COUNTRY`, `CREATED_AT`, `ST_ACTIVE`, `DS_POSTAL_CODE`, `DS_STATE`, `DS_STREET`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_ADDRESS`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:37:13.031 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 400), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ADDRESS` (`ID`, `DS_CITY`, `DS_COUNTRY`, `CREATED_AT`, `ST_ACTIVE`, `DS_POSTAL_CODE`, `DS_STATE`, `DS_STREET`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_ADDRESS`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:37:13.037 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:37:13.039 -03:00 [DBG] Committing transaction.
2023-07-13 13:37:13.043 -03:00 [DBG] Committed transaction.
2023-07-13 13:37:13.045 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:13.047 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:13.049 -03:00 [DBG] Disposing transaction.
2023-07-13 13:37:13.052 -03:00 [DBG] An entity of type 'Address' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:37:13.055 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:37:13.061 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:37:13.064 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:37:13.066 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:37:13.068 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:37:13.070 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:37:13.072 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.Address.CreateAddressResponse'.
2023-07-13 13:37:13.077 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AddressController.Create (Concent.Athena.Services.API) in 309.0515ms
2023-07-13 13:37:13.079 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AddressController.Create (Concent.Athena.Services.API)'
2023-07-13 13:37:13.082 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:37:13.090 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/address/address application/json 94 - 201 - application/json;+charset=utf-8 383.4854ms
2023-07-13 13:37:20.879 -03:00 [DBG] Connection id "0HMS3NJL2N95I" received FIN.
2023-07-13 13:37:20.881 -03:00 [DBG] Connection id "0HMS3NJL2N95I" is closed. The last processed stream ID was 1.
2023-07-13 13:37:20.881 -03:00 [DBG] Connection id "0HMS3NJL2N95I" sending FIN because: "The client closed the connection."
2023-07-13 13:37:20.889 -03:00 [DBG] Connection id "0HMS3NJL2N95I" stopped.
2023-07-13 13:37:37.983 -03:00 [DBG] Connection id "0HMS3NJL2N95J" accepted.
2023-07-13 13:37:37.986 -03:00 [DBG] Connection id "0HMS3NJL2N95J" started.
2023-07-13 13:37:37.991 -03:00 [DBG] Connection "0HMS3NJL2N95J" established using the following protocol: "Tls12"
2023-07-13 13:37:37.996 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/tenant application/json 125
2023-07-13 13:37:38.010 -03:00 [DBG] POST requests are not supported
2023-07-13 13:37:38.012 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/tenant'
2023-07-13 13:37:38.015 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Tenant' is valid for the request path '/api/v1/tenant/tenant'
2023-07-13 13:37:38.020 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API)'
2023-07-13 13:37:38.023 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:37:38.027 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:37:38.029 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API)'
2023-07-13 13:37:38.033 -03:00 [INF] Route matched with {action = "Create", controller = "Tenant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.TenantController (Concent.Athena.Services.API).
2023-07-13 13:37:38.041 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:37:38.045 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:37:38.047 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:37:38.051 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:37:38.057 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:37:38.059 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.TenantController (Concent.Athena.Services.API)
2023-07-13 13:37:38.062 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.TenantController (Concent.Athena.Services.API)
2023-07-13 13:37:38.064 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest' ...
2023-07-13 13:37:38.068 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest' using the name '' in request data ...
2023-07-13 13:37:38.074 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:37:38.090 -03:00 [DBG] Connection id "0HMS3NJL2N95J", Request id "0HMS3NJL2N95J:00000001": started reading request body.
2023-07-13 13:37:38.092 -03:00 [DBG] Connection id "0HMS3NJL2N95J", Request id "0HMS3NJL2N95J:00000001": done reading request body.
2023-07-13 13:37:38.099 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest'
2023-07-13 13:37:38.102 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest'.
2023-07-13 13:37:38.105 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest'.
2023-07-13 13:37:38.108 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest' ...
2023-07-13 13:37:38.114 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest'.
2023-07-13 13:37:38.116 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:37:38.120 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:37:38.124 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:37:38.128 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:37:38.134 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:37:38.139 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:37:38.145 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:37:38.150 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:37:38.152 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-13 13:37:38.157 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.161 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.164 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:37:38.170 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:37:38.177 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.180 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.188 -03:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .Any(x => x.Name.ToUpper() == __ToUpper_0)'
2023-07-13 13:37:38.214 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_TENANT AS t
                WHERE UPPER(t.NM_NAME) == @__ToUpper_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:37:38.225 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:37:38.227 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:37:38.230 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.235 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.243 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_TENANT` AS `t`
    WHERE UPPER(`t`.`NM_NAME`) = @__ToUpper_0)
2023-07-13 13:37:38.247 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_TENANT` AS `t`
    WHERE UPPER(`t`.`NM_NAME`) = @__ToUpper_0)
2023-07-13 13:37:38.252 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:37:38.255 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.258 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.267 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Tenant'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:37:38.309 -03:00 [DBG] Context 'AthenaContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:37:38.311 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:37:38.319 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:37:38.322 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:37:38.324 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:37:38.326 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:37:38.330 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:37:38.332 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:37:38.334 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.339 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.346 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:37:38.353 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:37:38.357 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:37:38.360 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:37:38.366 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 400), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_TENANT` (`ID`, `ID_ADDRESS`, `DS_CODE`, `CREATED_AT`, `ST_ACTIVE`, `NM_NAME`, `DS_PHONE`, `ST_TYPE_TENANT`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_TENANT`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:37:38.372 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 400), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_TENANT` (`ID`, `ID_ADDRESS`, `DS_CODE`, `CREATED_AT`, `ST_ACTIVE`, `NM_NAME`, `DS_PHONE`, `ST_TYPE_TENANT`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_TENANT`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:37:38.381 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:37:38.382 -03:00 [DBG] Committing transaction.
2023-07-13 13:37:38.386 -03:00 [DBG] Committed transaction.
2023-07-13 13:37:38.389 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.393 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.396 -03:00 [DBG] Disposing transaction.
2023-07-13 13:37:38.399 -03:00 [DBG] An entity of type 'Tenant' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:37:38.403 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:37:38.418 -03:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .Include(x => x.TypeIE
        .Where(x => x.Name.ToUpper() == __ToUpper_0))
    .SingleOrDefault(x => x.Id == __GetTenantId_1)'
2023-07-13 13:37:38.437 -03:00 [DBG] Including navigation: 'Tenant.TypeIE'.
2023-07-13 13:37:38.513 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tenant>(
    asyncEnumerable: new SingleQueryingEnumerable<Tenant>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t0.ID, t0.ID_ADDRESS, t0.DS_CODE, t0.CREATED_AT, t0.ST_ACTIVE, t0.NM_NAME, t0.DS_PHONE, t0.ST_TYPE_TENANT, t0.UPDATED_AT, t2.ID, t2.CREATED_AT, t2.ST_ACTIVE, t2.NM_NAME, t2.ID_TENANT, t2.ST_TYPE, t2.UPDATED_AT
            FROM Projection Mapping:
            (
                SELECT TOP(2) t.ID, t.ID_ADDRESS, t.DS_CODE, t.CREATED_AT, t.ST_ACTIVE, t.NM_NAME, t.DS_PHONE, t.ST_TYPE_TENANT, t.UPDATED_AT
                FROM TB_TENANT AS t
                WHERE t.ID == @__GetTenantId_1
            ) AS t0
            LEFT JOIN Projection Mapping:
            (
                SELECT t1.ID, t1.CREATED_AT, t1.ST_ACTIVE, t1.NM_NAME, t1.ID_TENANT, t1.ST_TYPE, t1.UPDATED_AT
                FROM TB_INCOME_EXPENSES AS t1
                WHERE UPPER(t1.NM_NAME) == @__ToUpper_0
            ) AS t2 ON t0.ID == t2.ID_TENANT
            ORDER BY t0.ID ASC, t2.ID ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tenant>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:37:38.521 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:37:38.523 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:37:38.526 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.529 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.533 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetTenantId_1='?' (DbType = Guid), @__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`ID`, `t0`.`ID_ADDRESS`, `t0`.`DS_CODE`, `t0`.`CREATED_AT`, `t0`.`ST_ACTIVE`, `t0`.`NM_NAME`, `t0`.`DS_PHONE`, `t0`.`ST_TYPE_TENANT`, `t0`.`UPDATED_AT`, `t2`.`ID`, `t2`.`CREATED_AT`, `t2`.`ST_ACTIVE`, `t2`.`NM_NAME`, `t2`.`ID_TENANT`, `t2`.`ST_TYPE`, `t2`.`UPDATED_AT`
FROM (
    SELECT `t`.`ID`, `t`.`ID_ADDRESS`, `t`.`DS_CODE`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`NM_NAME`, `t`.`DS_PHONE`, `t`.`ST_TYPE_TENANT`, `t`.`UPDATED_AT`
    FROM `TB_TENANT` AS `t`
    WHERE `t`.`ID` = @__GetTenantId_1
    LIMIT 2
) AS `t0`
LEFT JOIN (
    SELECT `t1`.`ID`, `t1`.`CREATED_AT`, `t1`.`ST_ACTIVE`, `t1`.`NM_NAME`, `t1`.`ID_TENANT`, `t1`.`ST_TYPE`, `t1`.`UPDATED_AT`
    FROM `TB_INCOME_EXPENSES` AS `t1`
    WHERE UPPER(`t1`.`NM_NAME`) = @__ToUpper_0
) AS `t2` ON `t0`.`ID` = `t2`.`ID_TENANT`
ORDER BY `t0`.`ID`, `t2`.`ID`
2023-07-13 13:37:38.544 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__GetTenantId_1='?' (DbType = Guid), @__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`ID`, `t0`.`ID_ADDRESS`, `t0`.`DS_CODE`, `t0`.`CREATED_AT`, `t0`.`ST_ACTIVE`, `t0`.`NM_NAME`, `t0`.`DS_PHONE`, `t0`.`ST_TYPE_TENANT`, `t0`.`UPDATED_AT`, `t2`.`ID`, `t2`.`CREATED_AT`, `t2`.`ST_ACTIVE`, `t2`.`NM_NAME`, `t2`.`ID_TENANT`, `t2`.`ST_TYPE`, `t2`.`UPDATED_AT`
FROM (
    SELECT `t`.`ID`, `t`.`ID_ADDRESS`, `t`.`DS_CODE`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`NM_NAME`, `t`.`DS_PHONE`, `t`.`ST_TYPE_TENANT`, `t`.`UPDATED_AT`
    FROM `TB_TENANT` AS `t`
    WHERE `t`.`ID` = @__GetTenantId_1
    LIMIT 2
) AS `t0`
LEFT JOIN (
    SELECT `t1`.`ID`, `t1`.`CREATED_AT`, `t1`.`ST_ACTIVE`, `t1`.`NM_NAME`, `t1`.`ID_TENANT`, `t1`.`ST_TYPE`, `t1`.`UPDATED_AT`
    FROM `TB_INCOME_EXPENSES` AS `t1`
    WHERE UPPER(`t1`.`NM_NAME`) = @__ToUpper_0
) AS `t2` ON `t0`.`ID` = `t2`.`ID_TENANT`
ORDER BY `t0`.`ID`, `t2`.`ID`
2023-07-13 13:37:38.556 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:37:38.558 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.560 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.567 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:37:38.577 -03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Tenant.TypeIE'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:37:38.589 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.TypeIE'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:37:38.617 -03:00 [DBG] Context 'AthenaContext' started tracking 'TypeIE' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:37:38.622 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:37:38.625 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:37:38.631 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:37:38.634 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:37:38.637 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:37:38.640 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:37:38.645 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.649 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.652 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:37:38.661 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:37:38.664 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:37:38.665 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-13 13:37:38.669 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 400), @p4='?' (DbType = Guid), @p5='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_INCOME_EXPENSES` (`ID`, `CREATED_AT`, `ST_ACTIVE`, `NM_NAME`, `ID_TENANT`, `ST_TYPE`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_INCOME_EXPENSES`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:37:38.678 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 400), @p4='?' (DbType = Guid), @p5='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_INCOME_EXPENSES` (`ID`, `CREATED_AT`, `ST_ACTIVE`, `NM_NAME`, `ID_TENANT`, `ST_TYPE`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_INCOME_EXPENSES`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:37:38.683 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:37:38.685 -03:00 [DBG] Committing transaction.
2023-07-13 13:37:38.689 -03:00 [DBG] Committed transaction.
2023-07-13 13:37:38.692 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.695 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:37:38.697 -03:00 [DBG] Disposing transaction.
2023-07-13 13:37:38.700 -03:00 [DBG] An entity of type 'TypeIE' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:37:38.705 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:37:38.714 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:37:38.718 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:37:38.722 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:37:38.725 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:37:38.727 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:37:38.730 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.TenantResponses.CreateTenantResponse'.
2023-07-13 13:37:38.736 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API) in 676.8327ms
2023-07-13 13:37:38.740 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API)'
2023-07-13 13:37:38.743 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:37:38.746 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/tenant application/json 125 - 201 - application/json;+charset=utf-8 750.8123ms
2023-07-13 13:37:40.897 -03:00 [DBG] Connection id "0HMS3NJL2N95J" received FIN.
2023-07-13 13:37:40.900 -03:00 [DBG] Connection id "0HMS3NJL2N95J" is closed. The last processed stream ID was 1.
2023-07-13 13:37:40.903 -03:00 [DBG] Connection id "0HMS3NJL2N95J" sending FIN because: "The client closed the connection."
2023-07-13 13:37:40.912 -03:00 [DBG] Connection id "0HMS3NJL2N95J" stopped.
2023-07-13 13:38:11.504 -03:00 [DBG] Connection id "0HMS3NJL2N95K" accepted.
2023-07-13 13:38:11.507 -03:00 [DBG] Connection id "0HMS3NJL2N95K" started.
2023-07-13 13:38:11.547 -03:00 [DBG] Connection "0HMS3NJL2N95K" established using the following protocol: "Tls12"
2023-07-13 13:38:11.557 -03:00 [INF] Request starting HTTP/2 GET https://localhost:5004/api/v1/person/person - -
2023-07-13 13:38:11.566 -03:00 [DBG] The request path  does not match the path filter
2023-07-13 13:38:11.573 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/person/person'
2023-07-13 13:38:11.576 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API)' with route pattern 'api/v1/Person/Person' is valid for the request path '/api/v1/person/person'
2023-07-13 13:38:11.579 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:38:11.581 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:38:11.589 -03:00 [INF] Route matched with {action = "GetAll", controller = "Person"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll(System.String, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API).
2023-07-13 13:38:11.593 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:38:11.596 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:38:11.599 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:38:11.607 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:38:11.609 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:38:11.612 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-07-13 13:38:11.616 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-07-13 13:38:11.622 -03:00 [DBG] Attempting to bind parameter 'personName' of type 'System.String' ...
2023-07-13 13:38:11.626 -03:00 [DBG] Attempting to bind parameter 'personName' of type 'System.String' using the name '' in request data ...
2023-07-13 13:38:11.629 -03:00 [DBG] Could not find a value in the request with name '' for binding parameter 'personName' of type 'System.String'.
2023-07-13 13:38:11.633 -03:00 [DBG] Done attempting to bind parameter 'personName' of type 'System.String'.
2023-07-13 13:38:11.639 -03:00 [DBG] Done attempting to bind parameter 'personName' of type 'System.String'.
2023-07-13 13:38:11.642 -03:00 [DBG] Attempting to validate the bound parameter 'personName' of type 'System.String' ...
2023-07-13 13:38:11.645 -03:00 [DBG] Done attempting to validate the bound parameter 'personName' of type 'System.String'.
2023-07-13 13:38:11.649 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:38:11.654 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:38:11.658 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:38:11.662 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:38:11.666 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:38:11.673 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:38:11.679 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:38:11.682 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:38:11.686 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-13 13:38:11.690 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:38:11.694 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:38:11.696 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:38:11.702 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:38:11.707 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:38:11.710 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:38:11.722 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .AsNoTracking()
    .Where(f => True && Invoke(x => x.IsActive, f)
    )
    .Select(x => new { 
        Id = x.Id, 
        PersonName = x.PersonName, 
        CPF = x.CPF
     })'
2023-07-13 13:38:11.737 -03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<<>f__AnonymousType7<Guid, string, string>>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            Id -> 0
            PersonName -> 1
            CPF -> 2
        SELECT t.ID AS Id, t.DS_PERSON_NAME AS PersonName, t.DS_CPF AS CPF
        FROM TB_PERSON AS t
        WHERE TRUE && t.ST_ACTIVE), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, <>f__AnonymousType7<Guid, string, string>>, 
    Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
    False, 
    False
)'
2023-07-13 13:38:11.748 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:38:11.755 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2023-07-13 13:38:11.758 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:38:11.761 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:38:11.764 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_PERSON_NAME` AS `PersonName`, `t`.`DS_CPF` AS `CPF`
FROM `TB_PERSON` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-13 13:38:11.771 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID` AS `Id`, `t`.`DS_PERSON_NAME` AS `PersonName`, `t`.`DS_CPF` AS `CPF`
FROM `TB_PERSON` AS `t`
WHERE `t`.`ST_ACTIVE`
2023-07-13 13:38:11.776 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:38:11.778 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:38:11.780 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:38:11.796 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:38:11.800 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:38:11.803 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:38:11.805 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:38:11.809 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:38:11.811 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.Person.GetPersonResponse'.
2023-07-13 13:38:11.818 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API) in 205.4072ms
2023-07-13 13:38:11.822 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.PersonController.GetAll (Concent.Athena.Services.API)'
2023-07-13 13:38:11.825 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:38:11.828 -03:00 [INF] Request finished HTTP/2 GET https://localhost:5004/api/v1/person/person - - - 200 - application/json;+charset=utf-8 273.1297ms
2023-07-13 13:38:20.940 -03:00 [DBG] Connection id "0HMS3NJL2N95K" received FIN.
2023-07-13 13:38:20.942 -03:00 [DBG] Connection id "0HMS3NJL2N95K" is closed. The last processed stream ID was 1.
2023-07-13 13:38:20.946 -03:00 [DBG] Connection id "0HMS3NJL2N95K" sending FIN because: "The client closed the connection."
2023-07-13 13:38:20.959 -03:00 [DBG] Connection id "0HMS3NJL2N95K" stopped.
2023-07-13 13:38:57.660 -03:00 [DBG] Connection id "0HMS3NJL2N95L" accepted.
2023-07-13 13:38:57.663 -03:00 [DBG] Connection id "0HMS3NJL2N95L" started.
2023-07-13 13:38:57.676 -03:00 [DBG] Connection "0HMS3NJL2N95L" established using the following protocol: "Tls12"
2023-07-13 13:38:57.682 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/account application/json 204
2023-07-13 13:38:57.714 -03:00 [DBG] POST requests are not supported
2023-07-13 13:38:57.717 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/account'
2023-07-13 13:38:57.720 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/Account' is valid for the request path '/api/v1/account'
2023-07-13 13:38:57.724 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:38:57.727 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:38:57.731 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:38:57.733 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:38:57.739 -03:00 [INF] Route matched with {action = "Create", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(System.Guid, Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API).
2023-07-13 13:38:57.746 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:38:57.749 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:38:57.751 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:38:57.754 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:38:57.758 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:38:57.764 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API)
2023-07-13 13:38:57.766 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API)
2023-07-13 13:38:57.769 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' ...
2023-07-13 13:38:57.774 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' using the name '' in request data ...
2023-07-13 13:38:57.780 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' using the name '' in request data ...
2023-07-13 13:38:57.783 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:38:57.786 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:38:57.793 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:38:57.796 -03:00 [DBG] Attempting to validate the bound parameter 'tenantId' of type 'System.Guid' ...
2023-07-13 13:38:57.799 -03:00 [DBG] Done attempting to validate the bound parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:38:57.802 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' ...
2023-07-13 13:38:57.808 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' using the name '' in request data ...
2023-07-13 13:38:57.812 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:38:57.822 -03:00 [DBG] Connection id "0HMS3NJL2N95L", Request id "0HMS3NJL2N95L:00000001": started reading request body.
2023-07-13 13:38:57.826 -03:00 [DBG] Connection id "0HMS3NJL2N95L", Request id "0HMS3NJL2N95L:00000001": done reading request body.
2023-07-13 13:38:57.834 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'
2023-07-13 13:38:57.838 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:38:57.842 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:38:57.846 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' ...
2023-07-13 13:38:57.850 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:38:57.857 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:38:57.861 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:38:57.864 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:38:57.877 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:38:57.940 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:38:57.944 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:38:57.946 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:38:57.948 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:38:57.949 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:38:57.952 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AccountResponses.CreateAccountResponse'.
2023-07-13 13:38:57.956 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API) in 192.5657ms
2023-07-13 13:38:57.961 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:38:57.965 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/account application/json 204 - 400 - application/json;+charset=utf-8 283.6101ms
2023-07-13 13:39:01.000 -03:00 [DBG] Connection id "0HMS3NJL2N95L" received FIN.
2023-07-13 13:39:01.003 -03:00 [DBG] Connection id "0HMS3NJL2N95L" is closed. The last processed stream ID was 1.
2023-07-13 13:39:01.007 -03:00 [DBG] Connection id "0HMS3NJL2N95L" sending FIN because: "The client closed the connection."
2023-07-13 13:39:01.015 -03:00 [DBG] Connection id "0HMS3NJL2N95L" stopped.
2023-07-13 13:39:03.339 -03:00 [DBG] Connection id "0HMS3NJL2N95M" accepted.
2023-07-13 13:39:03.342 -03:00 [DBG] Connection id "0HMS3NJL2N95M" started.
2023-07-13 13:39:03.347 -03:00 [DBG] Connection "0HMS3NJL2N95M" established using the following protocol: "Tls12"
2023-07-13 13:39:03.354 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/account application/json 206
2023-07-13 13:39:03.358 -03:00 [DBG] POST requests are not supported
2023-07-13 13:39:03.361 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/account'
2023-07-13 13:39:03.364 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/Account' is valid for the request path '/api/v1/account'
2023-07-13 13:39:03.370 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:03.372 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:39:03.377 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:39:03.380 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:03.385 -03:00 [INF] Route matched with {action = "Create", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(System.Guid, Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API).
2023-07-13 13:39:03.389 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:39:03.393 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:39:03.397 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:39:03.403 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:39:03.405 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:39:03.409 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API)
2023-07-13 13:39:03.412 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API)
2023-07-13 13:39:03.416 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' ...
2023-07-13 13:39:03.419 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' using the name '' in request data ...
2023-07-13 13:39:03.421 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' using the name '' in request data ...
2023-07-13 13:39:03.425 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:03.430 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:03.435 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:03.437 -03:00 [DBG] Attempting to validate the bound parameter 'tenantId' of type 'System.Guid' ...
2023-07-13 13:39:03.439 -03:00 [DBG] Done attempting to validate the bound parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:03.444 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' ...
2023-07-13 13:39:03.449 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' using the name '' in request data ...
2023-07-13 13:39:03.452 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:39:03.454 -03:00 [DBG] Connection id "0HMS3NJL2N95M", Request id "0HMS3NJL2N95M:00000001": started reading request body.
2023-07-13 13:39:03.460 -03:00 [DBG] Connection id "0HMS3NJL2N95M", Request id "0HMS3NJL2N95M:00000001": done reading request body.
2023-07-13 13:39:03.465 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'
2023-07-13 13:39:03.468 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:39:03.471 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:39:03.475 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' ...
2023-07-13 13:39:03.480 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:39:03.483 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:39:03.485 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:39:03.487 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:39:03.492 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:39:03.499 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:39:03.503 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:39:03.512 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:39:03.515 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:39:03.518 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:39:03.520 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:03.525 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:03.528 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:39:03.532 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:39:03.536 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:03.539 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:03.548 -03:00 [DBG] Compiling query expression: 
'DbSet<Tenant>()
    .Include(x => x.Accounts
        .Where(x => x.BankCode.ToUpper() == __ToUpper_0))
    .SingleOrDefault(x => x.Id == __GetTenantId_1)'
2023-07-13 13:39:03.551 -03:00 [DBG] Including navigation: 'Tenant.Accounts'.
2023-07-13 13:39:03.571 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tenant>(
    asyncEnumerable: new SingleQueryingEnumerable<Tenant>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
            SELECT t0.ID, t0.ID_ADDRESS, t0.DS_CODE, t0.CREATED_AT, t0.ST_ACTIVE, t0.NM_NAME, t0.DS_PHONE, t0.ST_TYPE_TENANT, t0.UPDATED_AT, t2.ID, t2.NR_ACCOUNT_NUMBER, t2.DS_BANKCODE, t2.NR_BRANCH, t2.CloseDate, t2.CREATED_AT, t2.ST_ACTIVE, t2.DT_OPEN_DATE, t2.NR_OPENING_BALANCE, t2.ID_PERSON, t2.TenantId, t2.ST_TYPE_ACCOUNT, t2.UPDATED_AT
            FROM Projection Mapping:
            (
                SELECT TOP(2) t.ID, t.ID_ADDRESS, t.DS_CODE, t.CREATED_AT, t.ST_ACTIVE, t.NM_NAME, t.DS_PHONE, t.ST_TYPE_TENANT, t.UPDATED_AT
                FROM TB_TENANT AS t
                WHERE t.ID == @__GetTenantId_1
            ) AS t0
            LEFT JOIN Projection Mapping:
            (
                SELECT t1.ID, t1.NR_ACCOUNT_NUMBER, t1.DS_BANKCODE, t1.NR_BRANCH, t1.CloseDate, t1.CREATED_AT, t1.ST_ACTIVE, t1.DT_OPEN_DATE, t1.NR_OPENING_BALANCE, t1.ID_PERSON, t1.TenantId, t1.ST_TYPE_ACCOUNT, t1.UPDATED_AT
                FROM TB_ACCOUNT AS t1
                WHERE UPPER(t1.DS_BANKCODE) == @__ToUpper_0
            ) AS t2 ON t0.ID == t2.TenantId
            ORDER BY t0.ID ASC, t2.ID ASC), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tenant>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:39:03.580 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:39:03.583 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:39:03.586 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:03.595 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:03.600 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetTenantId_1='?' (DbType = Guid), @__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`ID`, `t0`.`ID_ADDRESS`, `t0`.`DS_CODE`, `t0`.`CREATED_AT`, `t0`.`ST_ACTIVE`, `t0`.`NM_NAME`, `t0`.`DS_PHONE`, `t0`.`ST_TYPE_TENANT`, `t0`.`UPDATED_AT`, `t2`.`ID`, `t2`.`NR_ACCOUNT_NUMBER`, `t2`.`DS_BANKCODE`, `t2`.`NR_BRANCH`, `t2`.`CloseDate`, `t2`.`CREATED_AT`, `t2`.`ST_ACTIVE`, `t2`.`DT_OPEN_DATE`, `t2`.`NR_OPENING_BALANCE`, `t2`.`ID_PERSON`, `t2`.`TenantId`, `t2`.`ST_TYPE_ACCOUNT`, `t2`.`UPDATED_AT`
FROM (
    SELECT `t`.`ID`, `t`.`ID_ADDRESS`, `t`.`DS_CODE`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`NM_NAME`, `t`.`DS_PHONE`, `t`.`ST_TYPE_TENANT`, `t`.`UPDATED_AT`
    FROM `TB_TENANT` AS `t`
    WHERE `t`.`ID` = @__GetTenantId_1
    LIMIT 2
) AS `t0`
LEFT JOIN (
    SELECT `t1`.`ID`, `t1`.`NR_ACCOUNT_NUMBER`, `t1`.`DS_BANKCODE`, `t1`.`NR_BRANCH`, `t1`.`CloseDate`, `t1`.`CREATED_AT`, `t1`.`ST_ACTIVE`, `t1`.`DT_OPEN_DATE`, `t1`.`NR_OPENING_BALANCE`, `t1`.`ID_PERSON`, `t1`.`TenantId`, `t1`.`ST_TYPE_ACCOUNT`, `t1`.`UPDATED_AT`
    FROM `TB_ACCOUNT` AS `t1`
    WHERE UPPER(`t1`.`DS_BANKCODE`) = @__ToUpper_0
) AS `t2` ON `t0`.`ID` = `t2`.`TenantId`
ORDER BY `t0`.`ID`, `t2`.`ID`
2023-07-13 13:39:03.607 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__GetTenantId_1='?' (DbType = Guid), @__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`ID`, `t0`.`ID_ADDRESS`, `t0`.`DS_CODE`, `t0`.`CREATED_AT`, `t0`.`ST_ACTIVE`, `t0`.`NM_NAME`, `t0`.`DS_PHONE`, `t0`.`ST_TYPE_TENANT`, `t0`.`UPDATED_AT`, `t2`.`ID`, `t2`.`NR_ACCOUNT_NUMBER`, `t2`.`DS_BANKCODE`, `t2`.`NR_BRANCH`, `t2`.`CloseDate`, `t2`.`CREATED_AT`, `t2`.`ST_ACTIVE`, `t2`.`DT_OPEN_DATE`, `t2`.`NR_OPENING_BALANCE`, `t2`.`ID_PERSON`, `t2`.`TenantId`, `t2`.`ST_TYPE_ACCOUNT`, `t2`.`UPDATED_AT`
FROM (
    SELECT `t`.`ID`, `t`.`ID_ADDRESS`, `t`.`DS_CODE`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`NM_NAME`, `t`.`DS_PHONE`, `t`.`ST_TYPE_TENANT`, `t`.`UPDATED_AT`
    FROM `TB_TENANT` AS `t`
    WHERE `t`.`ID` = @__GetTenantId_1
    LIMIT 2
) AS `t0`
LEFT JOIN (
    SELECT `t1`.`ID`, `t1`.`NR_ACCOUNT_NUMBER`, `t1`.`DS_BANKCODE`, `t1`.`NR_BRANCH`, `t1`.`CloseDate`, `t1`.`CREATED_AT`, `t1`.`ST_ACTIVE`, `t1`.`DT_OPEN_DATE`, `t1`.`NR_OPENING_BALANCE`, `t1`.`ID_PERSON`, `t1`.`TenantId`, `t1`.`ST_TYPE_ACCOUNT`, `t1`.`UPDATED_AT`
    FROM `TB_ACCOUNT` AS `t1`
    WHERE UPPER(`t1`.`DS_BANKCODE`) = @__ToUpper_0
) AS `t2` ON `t0`.`ID` = `t2`.`TenantId`
ORDER BY `t0`.`ID`, `t2`.`ID`
2023-07-13 13:39:03.617 -03:00 [DBG] Context 'AthenaContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:03.620 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:39:03.622 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:03.625 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:03.634 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:03.636 -03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Tenant.Accounts'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:03.641 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Account'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:03.682 -03:00 [DBG] Context 'AthenaContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:03.685 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:03.687 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:03.700 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:03.702 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:39:03.704 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:03.706 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:03.714 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:03.723 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:03.731 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:39:03.738 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:39:03.744 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:39:03.746 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:39:03.750 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 400), @p3='?' (Size = 400), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = Decimal), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ACCOUNT` (`ID`, `NR_ACCOUNT_NUMBER`, `DS_BANKCODE`, `NR_BRANCH`, `CloseDate`, `CREATED_AT`, `ST_ACTIVE`, `DT_OPEN_DATE`, `NR_OPENING_BALANCE`, `ID_PERSON`, `TenantId`, `ST_TYPE_ACCOUNT`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT `UPDATED_AT`
FROM `TB_ACCOUNT`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:39:03.764 -03:00 [ERR] Failed executing DbCommand (14ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 400), @p3='?' (Size = 400), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = Decimal), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ACCOUNT` (`ID`, `NR_ACCOUNT_NUMBER`, `DS_BANKCODE`, `NR_BRANCH`, `CloseDate`, `CREATED_AT`, `ST_ACTIVE`, `DT_OPEN_DATE`, `NR_OPENING_BALANCE`, `ID_PERSON`, `TenantId`, `ST_TYPE_ACCOUNT`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT `UPDATED_AT`
FROM `TB_ACCOUNT`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:39:03.778 -03:00 [DBG] Disposing transaction.
2023-07-13 13:39:03.780 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:03.782 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:03.788 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_account`, CONSTRAINT `FK_TB_ACCOUNT_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_account`, CONSTRAINT `FK_TB_ACCOUNT_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-13 13:39:04.047 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API) in 638.2835ms
2023-07-13 13:39:04.054 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:04.067 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_account`, CONSTRAINT `FK_TB_ACCOUNT_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `tb_person` (`ID`) ON DELETE CASCADE)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AccountController.Create(Guid tenantId, CreateAccountRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AccountControler.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-13 13:39:04.131 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:39:04.134 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/account application/json 206 - 500 - text/plain 780.8041ms
2023-07-13 13:39:11.004 -03:00 [DBG] Connection id "0HMS3NJL2N95M" received FIN.
2023-07-13 13:39:11.007 -03:00 [DBG] Connection id "0HMS3NJL2N95M" is closed. The last processed stream ID was 1.
2023-07-13 13:39:11.011 -03:00 [DBG] Connection id "0HMS3NJL2N95M" sending FIN because: "The client closed the connection."
2023-07-13 13:39:11.017 -03:00 [DBG] Connection id "0HMS3NJL2N95M" stopped.
2023-07-13 13:39:18.506 -03:00 [DBG] Connection id "0HMS3NJL2N95N" accepted.
2023-07-13 13:39:18.509 -03:00 [DBG] Connection id "0HMS3NJL2N95N" started.
2023-07-13 13:39:18.515 -03:00 [DBG] Connection "0HMS3NJL2N95N" established using the following protocol: "Tls12"
2023-07-13 13:39:18.521 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/account application/json 206
2023-07-13 13:39:18.525 -03:00 [DBG] POST requests are not supported
2023-07-13 13:39:18.528 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/account'
2023-07-13 13:39:18.541 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/Account' is valid for the request path '/api/v1/account'
2023-07-13 13:39:18.544 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:18.550 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:39:18.553 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:39:18.556 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:18.558 -03:00 [INF] Route matched with {action = "Create", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(System.Guid, Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API).
2023-07-13 13:39:18.563 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:39:18.569 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:39:18.573 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:39:18.576 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:39:18.580 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:39:18.585 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API)
2023-07-13 13:39:18.588 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API)
2023-07-13 13:39:18.591 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' ...
2023-07-13 13:39:18.595 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' using the name '' in request data ...
2023-07-13 13:39:18.600 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' using the name '' in request data ...
2023-07-13 13:39:18.604 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:18.608 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:18.611 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:18.614 -03:00 [DBG] Attempting to validate the bound parameter 'tenantId' of type 'System.Guid' ...
2023-07-13 13:39:18.618 -03:00 [DBG] Done attempting to validate the bound parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:18.622 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' ...
2023-07-13 13:39:18.625 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' using the name '' in request data ...
2023-07-13 13:39:18.628 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:39:18.633 -03:00 [DBG] Connection id "0HMS3NJL2N95N", Request id "0HMS3NJL2N95N:00000001": started reading request body.
2023-07-13 13:39:18.637 -03:00 [DBG] Connection id "0HMS3NJL2N95N", Request id "0HMS3NJL2N95N:00000001": done reading request body.
2023-07-13 13:39:18.640 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'
2023-07-13 13:39:18.642 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:39:18.645 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:39:18.649 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' ...
2023-07-13 13:39:18.653 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:39:18.656 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:39:18.661 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:39:18.666 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:39:18.671 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:39:18.675 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:39:18.679 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:39:18.687 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:39:18.691 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:39:18.692 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2023-07-13 13:39:18.695 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:18.700 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:18.703 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:39:18.708 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:39:18.711 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:18.716 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:18.723 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:39:18.726 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:39:18.728 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:18.738 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:18.742 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetTenantId_1='?' (DbType = Guid), @__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`ID`, `t0`.`ID_ADDRESS`, `t0`.`DS_CODE`, `t0`.`CREATED_AT`, `t0`.`ST_ACTIVE`, `t0`.`NM_NAME`, `t0`.`DS_PHONE`, `t0`.`ST_TYPE_TENANT`, `t0`.`UPDATED_AT`, `t2`.`ID`, `t2`.`NR_ACCOUNT_NUMBER`, `t2`.`DS_BANKCODE`, `t2`.`NR_BRANCH`, `t2`.`CloseDate`, `t2`.`CREATED_AT`, `t2`.`ST_ACTIVE`, `t2`.`DT_OPEN_DATE`, `t2`.`NR_OPENING_BALANCE`, `t2`.`ID_PERSON`, `t2`.`TenantId`, `t2`.`ST_TYPE_ACCOUNT`, `t2`.`UPDATED_AT`
FROM (
    SELECT `t`.`ID`, `t`.`ID_ADDRESS`, `t`.`DS_CODE`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`NM_NAME`, `t`.`DS_PHONE`, `t`.`ST_TYPE_TENANT`, `t`.`UPDATED_AT`
    FROM `TB_TENANT` AS `t`
    WHERE `t`.`ID` = @__GetTenantId_1
    LIMIT 2
) AS `t0`
LEFT JOIN (
    SELECT `t1`.`ID`, `t1`.`NR_ACCOUNT_NUMBER`, `t1`.`DS_BANKCODE`, `t1`.`NR_BRANCH`, `t1`.`CloseDate`, `t1`.`CREATED_AT`, `t1`.`ST_ACTIVE`, `t1`.`DT_OPEN_DATE`, `t1`.`NR_OPENING_BALANCE`, `t1`.`ID_PERSON`, `t1`.`TenantId`, `t1`.`ST_TYPE_ACCOUNT`, `t1`.`UPDATED_AT`
    FROM `TB_ACCOUNT` AS `t1`
    WHERE UPPER(`t1`.`DS_BANKCODE`) = @__ToUpper_0
) AS `t2` ON `t0`.`ID` = `t2`.`TenantId`
ORDER BY `t0`.`ID`, `t2`.`ID`
2023-07-13 13:39:18.756 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[@__GetTenantId_1='?' (DbType = Guid), @__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`ID`, `t0`.`ID_ADDRESS`, `t0`.`DS_CODE`, `t0`.`CREATED_AT`, `t0`.`ST_ACTIVE`, `t0`.`NM_NAME`, `t0`.`DS_PHONE`, `t0`.`ST_TYPE_TENANT`, `t0`.`UPDATED_AT`, `t2`.`ID`, `t2`.`NR_ACCOUNT_NUMBER`, `t2`.`DS_BANKCODE`, `t2`.`NR_BRANCH`, `t2`.`CloseDate`, `t2`.`CREATED_AT`, `t2`.`ST_ACTIVE`, `t2`.`DT_OPEN_DATE`, `t2`.`NR_OPENING_BALANCE`, `t2`.`ID_PERSON`, `t2`.`TenantId`, `t2`.`ST_TYPE_ACCOUNT`, `t2`.`UPDATED_AT`
FROM (
    SELECT `t`.`ID`, `t`.`ID_ADDRESS`, `t`.`DS_CODE`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`NM_NAME`, `t`.`DS_PHONE`, `t`.`ST_TYPE_TENANT`, `t`.`UPDATED_AT`
    FROM `TB_TENANT` AS `t`
    WHERE `t`.`ID` = @__GetTenantId_1
    LIMIT 2
) AS `t0`
LEFT JOIN (
    SELECT `t1`.`ID`, `t1`.`NR_ACCOUNT_NUMBER`, `t1`.`DS_BANKCODE`, `t1`.`NR_BRANCH`, `t1`.`CloseDate`, `t1`.`CREATED_AT`, `t1`.`ST_ACTIVE`, `t1`.`DT_OPEN_DATE`, `t1`.`NR_OPENING_BALANCE`, `t1`.`ID_PERSON`, `t1`.`TenantId`, `t1`.`ST_TYPE_ACCOUNT`, `t1`.`UPDATED_AT`
    FROM `TB_ACCOUNT` AS `t1`
    WHERE UPPER(`t1`.`DS_BANKCODE`) = @__ToUpper_0
) AS `t2` ON `t0`.`ID` = `t2`.`TenantId`
ORDER BY `t0`.`ID`, `t2`.`ID`
2023-07-13 13:39:18.762 -03:00 [DBG] Context 'AthenaContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:18.767 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:39:18.770 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:18.772 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:18.774 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:18.776 -03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Tenant.Accounts'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:18.780 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Account'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:18.787 -03:00 [DBG] Context 'AthenaContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:18.789 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:18.791 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:18.793 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:18.796 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:39:18.801 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:18.804 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:18.806 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:18.811 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:18.816 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:39:18.820 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:39:18.823 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:39:18.825 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:39:18.829 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 400), @p3='?' (Size = 400), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = Decimal), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ACCOUNT` (`ID`, `NR_ACCOUNT_NUMBER`, `DS_BANKCODE`, `NR_BRANCH`, `CloseDate`, `CREATED_AT`, `ST_ACTIVE`, `DT_OPEN_DATE`, `NR_OPENING_BALANCE`, `ID_PERSON`, `TenantId`, `ST_TYPE_ACCOUNT`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT `UPDATED_AT`
FROM `TB_ACCOUNT`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:39:18.839 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 400), @p3='?' (Size = 400), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = Decimal), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ACCOUNT` (`ID`, `NR_ACCOUNT_NUMBER`, `DS_BANKCODE`, `NR_BRANCH`, `CloseDate`, `CREATED_AT`, `ST_ACTIVE`, `DT_OPEN_DATE`, `NR_OPENING_BALANCE`, `ID_PERSON`, `TenantId`, `ST_TYPE_ACCOUNT`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT `UPDATED_AT`
FROM `TB_ACCOUNT`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:39:18.846 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:39:18.848 -03:00 [DBG] Committing transaction.
2023-07-13 13:39:18.852 -03:00 [DBG] Committed transaction.
2023-07-13 13:39:18.854 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:18.857 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:18.860 -03:00 [DBG] Disposing transaction.
2023-07-13 13:39:18.864 -03:00 [DBG] An entity of type 'Account' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:18.869 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:39:18.874 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:39:18.878 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:39:18.879 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:39:18.882 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:39:18.883 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:39:18.886 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AccountResponses.CreateAccountResponse'.
2023-07-13 13:39:18.890 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API) in 304.9504ms
2023-07-13 13:39:18.892 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:18.894 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:39:18.897 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/account application/json 206 - 201 - application/json;+charset=utf-8 376.8893ms
2023-07-13 13:39:20.743 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/account application/json 206
2023-07-13 13:39:20.746 -03:00 [DBG] POST requests are not supported
2023-07-13 13:39:20.748 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/account'
2023-07-13 13:39:20.753 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/Account' is valid for the request path '/api/v1/account'
2023-07-13 13:39:20.759 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:20.763 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:39:20.769 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:39:20.772 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:20.774 -03:00 [INF] Route matched with {action = "Create", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(System.Guid, Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API).
2023-07-13 13:39:20.778 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:39:20.780 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:39:20.786 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:39:20.792 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:39:20.794 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:39:20.797 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API)
2023-07-13 13:39:20.802 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API)
2023-07-13 13:39:20.805 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' ...
2023-07-13 13:39:20.807 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' using the name '' in request data ...
2023-07-13 13:39:20.810 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' using the name '' in request data ...
2023-07-13 13:39:20.813 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:20.817 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:20.821 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:20.823 -03:00 [DBG] Attempting to validate the bound parameter 'tenantId' of type 'System.Guid' ...
2023-07-13 13:39:20.826 -03:00 [DBG] Done attempting to validate the bound parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:20.829 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' ...
2023-07-13 13:39:20.834 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' using the name '' in request data ...
2023-07-13 13:39:20.839 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:39:20.842 -03:00 [DBG] Connection id "0HMS3NJL2N95N", Request id "0HMS3NJL2N95N:00000003": started reading request body.
2023-07-13 13:39:20.845 -03:00 [DBG] Connection id "0HMS3NJL2N95N", Request id "0HMS3NJL2N95N:00000003": done reading request body.
2023-07-13 13:39:20.851 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'
2023-07-13 13:39:20.854 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:39:20.857 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:39:20.860 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' ...
2023-07-13 13:39:20.863 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:39:20.869 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:39:20.872 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:39:20.875 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:39:20.878 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:39:20.884 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:39:20.888 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:39:20.895 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:39:20.900 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:39:20.903 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:39:20.906 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:20.910 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:20.912 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:39:20.918 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:39:20.923 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:20.925 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:20.929 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:39:20.932 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:39:20.935 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:20.941 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:20.946 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetTenantId_1='?' (DbType = Guid), @__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`ID`, `t0`.`ID_ADDRESS`, `t0`.`DS_CODE`, `t0`.`CREATED_AT`, `t0`.`ST_ACTIVE`, `t0`.`NM_NAME`, `t0`.`DS_PHONE`, `t0`.`ST_TYPE_TENANT`, `t0`.`UPDATED_AT`, `t2`.`ID`, `t2`.`NR_ACCOUNT_NUMBER`, `t2`.`DS_BANKCODE`, `t2`.`NR_BRANCH`, `t2`.`CloseDate`, `t2`.`CREATED_AT`, `t2`.`ST_ACTIVE`, `t2`.`DT_OPEN_DATE`, `t2`.`NR_OPENING_BALANCE`, `t2`.`ID_PERSON`, `t2`.`TenantId`, `t2`.`ST_TYPE_ACCOUNT`, `t2`.`UPDATED_AT`
FROM (
    SELECT `t`.`ID`, `t`.`ID_ADDRESS`, `t`.`DS_CODE`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`NM_NAME`, `t`.`DS_PHONE`, `t`.`ST_TYPE_TENANT`, `t`.`UPDATED_AT`
    FROM `TB_TENANT` AS `t`
    WHERE `t`.`ID` = @__GetTenantId_1
    LIMIT 2
) AS `t0`
LEFT JOIN (
    SELECT `t1`.`ID`, `t1`.`NR_ACCOUNT_NUMBER`, `t1`.`DS_BANKCODE`, `t1`.`NR_BRANCH`, `t1`.`CloseDate`, `t1`.`CREATED_AT`, `t1`.`ST_ACTIVE`, `t1`.`DT_OPEN_DATE`, `t1`.`NR_OPENING_BALANCE`, `t1`.`ID_PERSON`, `t1`.`TenantId`, `t1`.`ST_TYPE_ACCOUNT`, `t1`.`UPDATED_AT`
    FROM `TB_ACCOUNT` AS `t1`
    WHERE UPPER(`t1`.`DS_BANKCODE`) = @__ToUpper_0
) AS `t2` ON `t0`.`ID` = `t2`.`TenantId`
ORDER BY `t0`.`ID`, `t2`.`ID`
2023-07-13 13:39:20.959 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@__GetTenantId_1='?' (DbType = Guid), @__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`ID`, `t0`.`ID_ADDRESS`, `t0`.`DS_CODE`, `t0`.`CREATED_AT`, `t0`.`ST_ACTIVE`, `t0`.`NM_NAME`, `t0`.`DS_PHONE`, `t0`.`ST_TYPE_TENANT`, `t0`.`UPDATED_AT`, `t2`.`ID`, `t2`.`NR_ACCOUNT_NUMBER`, `t2`.`DS_BANKCODE`, `t2`.`NR_BRANCH`, `t2`.`CloseDate`, `t2`.`CREATED_AT`, `t2`.`ST_ACTIVE`, `t2`.`DT_OPEN_DATE`, `t2`.`NR_OPENING_BALANCE`, `t2`.`ID_PERSON`, `t2`.`TenantId`, `t2`.`ST_TYPE_ACCOUNT`, `t2`.`UPDATED_AT`
FROM (
    SELECT `t`.`ID`, `t`.`ID_ADDRESS`, `t`.`DS_CODE`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`NM_NAME`, `t`.`DS_PHONE`, `t`.`ST_TYPE_TENANT`, `t`.`UPDATED_AT`
    FROM `TB_TENANT` AS `t`
    WHERE `t`.`ID` = @__GetTenantId_1
    LIMIT 2
) AS `t0`
LEFT JOIN (
    SELECT `t1`.`ID`, `t1`.`NR_ACCOUNT_NUMBER`, `t1`.`DS_BANKCODE`, `t1`.`NR_BRANCH`, `t1`.`CloseDate`, `t1`.`CREATED_AT`, `t1`.`ST_ACTIVE`, `t1`.`DT_OPEN_DATE`, `t1`.`NR_OPENING_BALANCE`, `t1`.`ID_PERSON`, `t1`.`TenantId`, `t1`.`ST_TYPE_ACCOUNT`, `t1`.`UPDATED_AT`
    FROM `TB_ACCOUNT` AS `t1`
    WHERE UPPER(`t1`.`DS_BANKCODE`) = @__ToUpper_0
) AS `t2` ON `t0`.`ID` = `t2`.`TenantId`
ORDER BY `t0`.`ID`, `t2`.`ID`
2023-07-13 13:39:20.969 -03:00 [DBG] Context 'AthenaContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:20.974 -03:00 [DBG] Context 'AthenaContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:20.977 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:39:20.979 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:20.982 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:20.986 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:39:20.991 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:39:20.992 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:39:20.994 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:39:20.996 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:39:20.998 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AccountResponses.CreateAccountResponse'.
2023-07-13 13:39:21.003 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API) in 205.7127ms
2023-07-13 13:39:21.007 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:21.009 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:39:21.011 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/account application/json 206 - 400 - application/json;+charset=utf-8 268.2577ms
2023-07-13 13:39:21.019 -03:00 [DBG] Connection id "0HMS3NJL2N95N" received FIN.
2023-07-13 13:39:21.022 -03:00 [DBG] Connection id "0HMS3NJL2N95N" is closed. The last processed stream ID was 3.
2023-07-13 13:39:21.026 -03:00 [DBG] Connection id "0HMS3NJL2N95N" sending FIN because: "The client closed the connection."
2023-07-13 13:39:21.028 -03:00 [DBG] Connection id "0HMS3NJL2N95N" stopped.
2023-07-13 13:39:26.835 -03:00 [DBG] Connection id "0HMS3NJL2N95O" accepted.
2023-07-13 13:39:26.838 -03:00 [DBG] Connection id "0HMS3NJL2N95O" started.
2023-07-13 13:39:26.843 -03:00 [DBG] Connection "0HMS3NJL2N95O" established using the following protocol: "Tls12"
2023-07-13 13:39:26.848 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/account application/json 206
2023-07-13 13:39:26.853 -03:00 [DBG] POST requests are not supported
2023-07-13 13:39:26.857 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/account'
2023-07-13 13:39:26.863 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/Account' is valid for the request path '/api/v1/account'
2023-07-13 13:39:26.866 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:26.870 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:39:26.875 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:39:26.879 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:26.881 -03:00 [INF] Route matched with {action = "Create", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(System.Guid, Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API).
2023-07-13 13:39:26.887 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:39:26.891 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:39:26.896 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:39:26.899 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:39:26.904 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:39:26.909 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API)
2023-07-13 13:39:26.912 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AccountController (Concent.Athena.Services.API)
2023-07-13 13:39:26.915 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' ...
2023-07-13 13:39:26.920 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' using the name '' in request data ...
2023-07-13 13:39:26.924 -03:00 [DBG] Attempting to bind parameter 'tenantId' of type 'System.Guid' using the name '' in request data ...
2023-07-13 13:39:26.928 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:26.930 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:26.933 -03:00 [DBG] Done attempting to bind parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:26.940 -03:00 [DBG] Attempting to validate the bound parameter 'tenantId' of type 'System.Guid' ...
2023-07-13 13:39:26.944 -03:00 [DBG] Done attempting to validate the bound parameter 'tenantId' of type 'System.Guid'.
2023-07-13 13:39:26.947 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' ...
2023-07-13 13:39:26.949 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' using the name '' in request data ...
2023-07-13 13:39:26.972 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:39:26.977 -03:00 [DBG] Connection id "0HMS3NJL2N95O", Request id "0HMS3NJL2N95O:00000001": started reading request body.
2023-07-13 13:39:26.984 -03:00 [DBG] Connection id "0HMS3NJL2N95O", Request id "0HMS3NJL2N95O:00000001": done reading request body.
2023-07-13 13:39:26.989 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'
2023-07-13 13:39:26.992 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:39:26.994 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:39:26.997 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest' ...
2023-07-13 13:39:26.999 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AccountRequest.CreateAccountRequest'.
2023-07-13 13:39:27.004 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:39:27.007 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:39:27.011 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:39:27.013 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:39:27.016 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:39:27.022 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:39:27.028 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:39:27.032 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:39:27.036 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (4ms).
2023-07-13 13:39:27.040 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:27.043 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:27.045 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:39:27.050 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:39:27.056 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:27.059 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:27.062 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:39:27.065 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:39:27.069 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:27.074 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:27.078 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetTenantId_1='?' (DbType = Guid), @__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`ID`, `t0`.`ID_ADDRESS`, `t0`.`DS_CODE`, `t0`.`CREATED_AT`, `t0`.`ST_ACTIVE`, `t0`.`NM_NAME`, `t0`.`DS_PHONE`, `t0`.`ST_TYPE_TENANT`, `t0`.`UPDATED_AT`, `t2`.`ID`, `t2`.`NR_ACCOUNT_NUMBER`, `t2`.`DS_BANKCODE`, `t2`.`NR_BRANCH`, `t2`.`CloseDate`, `t2`.`CREATED_AT`, `t2`.`ST_ACTIVE`, `t2`.`DT_OPEN_DATE`, `t2`.`NR_OPENING_BALANCE`, `t2`.`ID_PERSON`, `t2`.`TenantId`, `t2`.`ST_TYPE_ACCOUNT`, `t2`.`UPDATED_AT`
FROM (
    SELECT `t`.`ID`, `t`.`ID_ADDRESS`, `t`.`DS_CODE`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`NM_NAME`, `t`.`DS_PHONE`, `t`.`ST_TYPE_TENANT`, `t`.`UPDATED_AT`
    FROM `TB_TENANT` AS `t`
    WHERE `t`.`ID` = @__GetTenantId_1
    LIMIT 2
) AS `t0`
LEFT JOIN (
    SELECT `t1`.`ID`, `t1`.`NR_ACCOUNT_NUMBER`, `t1`.`DS_BANKCODE`, `t1`.`NR_BRANCH`, `t1`.`CloseDate`, `t1`.`CREATED_AT`, `t1`.`ST_ACTIVE`, `t1`.`DT_OPEN_DATE`, `t1`.`NR_OPENING_BALANCE`, `t1`.`ID_PERSON`, `t1`.`TenantId`, `t1`.`ST_TYPE_ACCOUNT`, `t1`.`UPDATED_AT`
    FROM `TB_ACCOUNT` AS `t1`
    WHERE UPPER(`t1`.`DS_BANKCODE`) = @__ToUpper_0
) AS `t2` ON `t0`.`ID` = `t2`.`TenantId`
ORDER BY `t0`.`ID`, `t2`.`ID`
2023-07-13 13:39:27.088 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__GetTenantId_1='?' (DbType = Guid), @__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`ID`, `t0`.`ID_ADDRESS`, `t0`.`DS_CODE`, `t0`.`CREATED_AT`, `t0`.`ST_ACTIVE`, `t0`.`NM_NAME`, `t0`.`DS_PHONE`, `t0`.`ST_TYPE_TENANT`, `t0`.`UPDATED_AT`, `t2`.`ID`, `t2`.`NR_ACCOUNT_NUMBER`, `t2`.`DS_BANKCODE`, `t2`.`NR_BRANCH`, `t2`.`CloseDate`, `t2`.`CREATED_AT`, `t2`.`ST_ACTIVE`, `t2`.`DT_OPEN_DATE`, `t2`.`NR_OPENING_BALANCE`, `t2`.`ID_PERSON`, `t2`.`TenantId`, `t2`.`ST_TYPE_ACCOUNT`, `t2`.`UPDATED_AT`
FROM (
    SELECT `t`.`ID`, `t`.`ID_ADDRESS`, `t`.`DS_CODE`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`NM_NAME`, `t`.`DS_PHONE`, `t`.`ST_TYPE_TENANT`, `t`.`UPDATED_AT`
    FROM `TB_TENANT` AS `t`
    WHERE `t`.`ID` = @__GetTenantId_1
    LIMIT 2
) AS `t0`
LEFT JOIN (
    SELECT `t1`.`ID`, `t1`.`NR_ACCOUNT_NUMBER`, `t1`.`DS_BANKCODE`, `t1`.`NR_BRANCH`, `t1`.`CloseDate`, `t1`.`CREATED_AT`, `t1`.`ST_ACTIVE`, `t1`.`DT_OPEN_DATE`, `t1`.`NR_OPENING_BALANCE`, `t1`.`ID_PERSON`, `t1`.`TenantId`, `t1`.`ST_TYPE_ACCOUNT`, `t1`.`UPDATED_AT`
    FROM `TB_ACCOUNT` AS `t1`
    WHERE UPPER(`t1`.`DS_BANKCODE`) = @__ToUpper_0
) AS `t2` ON `t0`.`ID` = `t2`.`TenantId`
ORDER BY `t0`.`ID`, `t2`.`ID`
2023-07-13 13:39:27.094 -03:00 [DBG] Context 'AthenaContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:27.097 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:39:27.099 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:27.104 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:27.107 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:27.109 -03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Tenant.Accounts'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:27.113 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Account'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:27.117 -03:00 [DBG] Context 'AthenaContext' started tracking 'Account' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:27.122 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:27.124 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:27.127 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:27.129 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:39:27.131 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:27.133 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:27.139 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:27.143 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:27.146 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:39:27.150 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:39:27.156 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:39:27.159 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:39:27.163 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 400), @p3='?' (Size = 400), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = Decimal), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ACCOUNT` (`ID`, `NR_ACCOUNT_NUMBER`, `DS_BANKCODE`, `NR_BRANCH`, `CloseDate`, `CREATED_AT`, `ST_ACTIVE`, `DT_OPEN_DATE`, `NR_OPENING_BALANCE`, `ID_PERSON`, `TenantId`, `ST_TYPE_ACCOUNT`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT `UPDATED_AT`
FROM `TB_ACCOUNT`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:39:27.176 -03:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (Size = 400), @p3='?' (Size = 400), @p4='?' (DbType = DateTime), @p5='?' (DbType = DateTime), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTime), @p8='?' (DbType = Decimal), @p9='?' (DbType = Guid), @p10='?' (DbType = Guid), @p11='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ACCOUNT` (`ID`, `NR_ACCOUNT_NUMBER`, `DS_BANKCODE`, `NR_BRANCH`, `CloseDate`, `CREATED_AT`, `ST_ACTIVE`, `DT_OPEN_DATE`, `NR_OPENING_BALANCE`, `ID_PERSON`, `TenantId`, `ST_TYPE_ACCOUNT`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11);
SELECT `UPDATED_AT`
FROM `TB_ACCOUNT`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:39:27.182 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:39:27.184 -03:00 [DBG] Committing transaction.
2023-07-13 13:39:27.193 -03:00 [DBG] Committed transaction.
2023-07-13 13:39:27.194 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:27.197 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:27.199 -03:00 [DBG] Disposing transaction.
2023-07-13 13:39:27.201 -03:00 [DBG] An entity of type 'Account' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:27.208 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:39:27.210 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:39:27.214 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:39:27.216 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:39:27.222 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:39:27.224 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:39:27.226 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AccountResponses.CreateAccountResponse'.
2023-07-13 13:39:27.229 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API) in 320.0684ms
2023-07-13 13:39:27.231 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AccountController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:27.236 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:39:27.244 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/account application/json 206 - 201 - application/json;+charset=utf-8 395.8616ms
2023-07-13 13:39:31.035 -03:00 [DBG] Connection id "0HMS3NJL2N95O" received FIN.
2023-07-13 13:39:31.039 -03:00 [DBG] Connection id "0HMS3NJL2N95O" is closed. The last processed stream ID was 1.
2023-07-13 13:39:31.041 -03:00 [DBG] Connection id "0HMS3NJL2N95O" sending FIN because: "The client closed the connection."
2023-07-13 13:39:31.050 -03:00 [DBG] Connection id "0HMS3NJL2N95O" stopped.
2023-07-13 13:39:45.838 -03:00 [DBG] Connection id "0HMS3NJL2N95P" accepted.
2023-07-13 13:39:45.841 -03:00 [DBG] Connection id "0HMS3NJL2N95P" started.
2023-07-13 13:39:45.851 -03:00 [DBG] Connection "0HMS3NJL2N95P" established using the following protocol: "Tls12"
2023-07-13 13:39:45.858 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/tenant application/json 125
2023-07-13 13:39:45.869 -03:00 [DBG] POST requests are not supported
2023-07-13 13:39:45.872 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/tenant'
2023-07-13 13:39:45.876 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Tenant' is valid for the request path '/api/v1/tenant/tenant'
2023-07-13 13:39:45.881 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:45.884 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:39:45.887 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:39:45.889 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:45.891 -03:00 [INF] Route matched with {action = "Create", controller = "Tenant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.TenantController (Concent.Athena.Services.API).
2023-07-13 13:39:45.898 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:39:45.903 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:39:45.906 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:39:45.909 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:39:45.917 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:39:45.920 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.TenantController (Concent.Athena.Services.API)
2023-07-13 13:39:45.923 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.TenantController (Concent.Athena.Services.API)
2023-07-13 13:39:45.927 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest' ...
2023-07-13 13:39:45.932 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest' using the name '' in request data ...
2023-07-13 13:39:45.935 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:39:45.938 -03:00 [DBG] Connection id "0HMS3NJL2N95P", Request id "0HMS3NJL2N95P:00000001": started reading request body.
2023-07-13 13:39:45.940 -03:00 [DBG] Connection id "0HMS3NJL2N95P", Request id "0HMS3NJL2N95P:00000001": done reading request body.
2023-07-13 13:39:45.943 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest'
2023-07-13 13:39:45.949 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest'.
2023-07-13 13:39:45.951 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest'.
2023-07-13 13:39:45.954 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest' ...
2023-07-13 13:39:45.956 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest'.
2023-07-13 13:39:45.960 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:39:45.964 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:39:45.969 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:39:45.971 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:39:45.975 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:39:45.981 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:39:45.988 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:39:45.994 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:39:45.997 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:39:46.001 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:46.005 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:46.009 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:39:46.016 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:39:46.021 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:46.023 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:46.028 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:39:46.031 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:39:46.034 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:46.039 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:46.043 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_TENANT` AS `t`
    WHERE UPPER(`t`.`NM_NAME`) = @__ToUpper_0)
2023-07-13 13:39:46.050 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_TENANT` AS `t`
    WHERE UPPER(`t`.`NM_NAME`) = @__ToUpper_0)
2023-07-13 13:39:46.054 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:39:46.056 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:46.059 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:46.064 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:39:46.069 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:39:46.072 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:39:46.074 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:39:46.079 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:39:46.084 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.TenantResponses.CreateTenantResponse'.
2023-07-13 13:39:46.087 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API) in 166.7744ms
2023-07-13 13:39:46.090 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:46.093 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:39:46.098 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/tenant application/json 125 - 400 - application/json;+charset=utf-8 240.2303ms
2023-07-13 13:39:51.042 -03:00 [DBG] Connection id "0HMS3NJL2N95P" received FIN.
2023-07-13 13:39:51.046 -03:00 [DBG] Connection id "0HMS3NJL2N95P" sending FIN because: "The client closed the connection."
2023-07-13 13:39:51.046 -03:00 [DBG] Connection id "0HMS3NJL2N95P" is closed. The last processed stream ID was 1.
2023-07-13 13:39:51.054 -03:00 [DBG] Connection id "0HMS3NJL2N95P" stopped.
2023-07-13 13:39:51.592 -03:00 [DBG] Connection id "0HMS3NJL2N95Q" accepted.
2023-07-13 13:39:51.595 -03:00 [DBG] Connection id "0HMS3NJL2N95Q" started.
2023-07-13 13:39:51.601 -03:00 [DBG] Connection "0HMS3NJL2N95Q" established using the following protocol: "Tls12"
2023-07-13 13:39:51.610 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/tenant application/json 125
2023-07-13 13:39:51.617 -03:00 [DBG] POST requests are not supported
2023-07-13 13:39:51.620 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/tenant'
2023-07-13 13:39:51.622 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Tenant' is valid for the request path '/api/v1/tenant/tenant'
2023-07-13 13:39:51.625 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:51.628 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:39:51.633 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:39:51.635 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:51.637 -03:00 [INF] Route matched with {action = "Create", controller = "Tenant"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.TenantController (Concent.Athena.Services.API).
2023-07-13 13:39:51.640 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:39:51.643 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:39:51.650 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:39:51.653 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:39:51.656 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:39:51.660 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.TenantController (Concent.Athena.Services.API)
2023-07-13 13:39:51.665 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.TenantController (Concent.Athena.Services.API)
2023-07-13 13:39:51.667 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest' ...
2023-07-13 13:39:51.670 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest' using the name '' in request data ...
2023-07-13 13:39:51.673 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:39:51.678 -03:00 [DBG] Connection id "0HMS3NJL2N95Q", Request id "0HMS3NJL2N95Q:00000001": started reading request body.
2023-07-13 13:39:51.683 -03:00 [DBG] Connection id "0HMS3NJL2N95Q", Request id "0HMS3NJL2N95Q:00000001": done reading request body.
2023-07-13 13:39:51.686 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest'
2023-07-13 13:39:51.692 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest'.
2023-07-13 13:39:51.697 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest'.
2023-07-13 13:39:51.701 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest' ...
2023-07-13 13:39:51.705 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.TenantRequests.CreateTenantRequest'.
2023-07-13 13:39:51.708 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:39:51.710 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:39:51.714 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:39:51.717 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:39:51.723 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:39:51.727 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:39:51.736 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:39:51.740 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:39:51.742 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-13 13:39:51.747 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.751 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.755 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:39:51.760 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:39:51.767 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.770 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.773 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:39:51.775 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:39:51.779 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.786 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.790 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_TENANT` AS `t`
    WHERE UPPER(`t`.`NM_NAME`) = @__ToUpper_0)
2023-07-13 13:39:51.794 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_TENANT` AS `t`
    WHERE UPPER(`t`.`NM_NAME`) = @__ToUpper_0)
2023-07-13 13:39:51.802 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:39:51.804 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.807 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.810 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Tenant'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:51.817 -03:00 [DBG] Context 'AthenaContext' started tracking 'Tenant' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:51.820 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:51.822 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:51.824 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:51.826 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:51.831 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:39:51.835 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:51.837 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:51.839 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.843 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.849 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:39:51.853 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:39:51.855 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:39:51.858 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:39:51.860 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 400), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_TENANT` (`ID`, `ID_ADDRESS`, `DS_CODE`, `CREATED_AT`, `ST_ACTIVE`, `NM_NAME`, `DS_PHONE`, `ST_TYPE_TENANT`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_TENANT`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:39:51.869 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (Size = 400), @p3='?' (DbType = DateTime), @p4='?' (DbType = Boolean), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_TENANT` (`ID`, `ID_ADDRESS`, `DS_CODE`, `CREATED_AT`, `ST_ACTIVE`, `NM_NAME`, `DS_PHONE`, `ST_TYPE_TENANT`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_TENANT`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:39:51.874 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:39:51.876 -03:00 [DBG] Committing transaction.
2023-07-13 13:39:51.883 -03:00 [DBG] Committed transaction.
2023-07-13 13:39:51.885 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.888 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.891 -03:00 [DBG] Disposing transaction.
2023-07-13 13:39:51.894 -03:00 [DBG] An entity of type 'Tenant' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:51.899 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:39:51.911 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:39:51.918 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2023-07-13 13:39:51.922 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.927 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.931 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetTenantId_1='?' (DbType = Guid), @__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`ID`, `t0`.`ID_ADDRESS`, `t0`.`DS_CODE`, `t0`.`CREATED_AT`, `t0`.`ST_ACTIVE`, `t0`.`NM_NAME`, `t0`.`DS_PHONE`, `t0`.`ST_TYPE_TENANT`, `t0`.`UPDATED_AT`, `t2`.`ID`, `t2`.`CREATED_AT`, `t2`.`ST_ACTIVE`, `t2`.`NM_NAME`, `t2`.`ID_TENANT`, `t2`.`ST_TYPE`, `t2`.`UPDATED_AT`
FROM (
    SELECT `t`.`ID`, `t`.`ID_ADDRESS`, `t`.`DS_CODE`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`NM_NAME`, `t`.`DS_PHONE`, `t`.`ST_TYPE_TENANT`, `t`.`UPDATED_AT`
    FROM `TB_TENANT` AS `t`
    WHERE `t`.`ID` = @__GetTenantId_1
    LIMIT 2
) AS `t0`
LEFT JOIN (
    SELECT `t1`.`ID`, `t1`.`CREATED_AT`, `t1`.`ST_ACTIVE`, `t1`.`NM_NAME`, `t1`.`ID_TENANT`, `t1`.`ST_TYPE`, `t1`.`UPDATED_AT`
    FROM `TB_INCOME_EXPENSES` AS `t1`
    WHERE UPPER(`t1`.`NM_NAME`) = @__ToUpper_0
) AS `t2` ON `t0`.`ID` = `t2`.`ID_TENANT`
ORDER BY `t0`.`ID`, `t2`.`ID`
2023-07-13 13:39:51.938 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__GetTenantId_1='?' (DbType = Guid), @__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT `t0`.`ID`, `t0`.`ID_ADDRESS`, `t0`.`DS_CODE`, `t0`.`CREATED_AT`, `t0`.`ST_ACTIVE`, `t0`.`NM_NAME`, `t0`.`DS_PHONE`, `t0`.`ST_TYPE_TENANT`, `t0`.`UPDATED_AT`, `t2`.`ID`, `t2`.`CREATED_AT`, `t2`.`ST_ACTIVE`, `t2`.`NM_NAME`, `t2`.`ID_TENANT`, `t2`.`ST_TYPE`, `t2`.`UPDATED_AT`
FROM (
    SELECT `t`.`ID`, `t`.`ID_ADDRESS`, `t`.`DS_CODE`, `t`.`CREATED_AT`, `t`.`ST_ACTIVE`, `t`.`NM_NAME`, `t`.`DS_PHONE`, `t`.`ST_TYPE_TENANT`, `t`.`UPDATED_AT`
    FROM `TB_TENANT` AS `t`
    WHERE `t`.`ID` = @__GetTenantId_1
    LIMIT 2
) AS `t0`
LEFT JOIN (
    SELECT `t1`.`ID`, `t1`.`CREATED_AT`, `t1`.`ST_ACTIVE`, `t1`.`NM_NAME`, `t1`.`ID_TENANT`, `t1`.`ST_TYPE`, `t1`.`UPDATED_AT`
    FROM `TB_INCOME_EXPENSES` AS `t1`
    WHERE UPPER(`t1`.`NM_NAME`) = @__ToUpper_0
) AS `t2` ON `t0`.`ID` = `t2`.`ID_TENANT`
ORDER BY `t0`.`ID`, `t2`.`ID`
2023-07-13 13:39:51.944 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:39:51.947 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.950 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.953 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:51.955 -03:00 [DBG] 1 entities were added and 0 entities were removed from navigation 'Tenant.TypeIE'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:51.959 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.TypeIE'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:51.962 -03:00 [DBG] Context 'AthenaContext' started tracking 'TypeIE' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:51.966 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:51.968 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:51.973 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:51.976 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:39:51.979 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:39:51.982 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:39:51.984 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.993 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:51.995 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:39:52.001 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:39:52.004 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:39:52.006 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-13 13:39:52.008 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 400), @p4='?' (DbType = Guid), @p5='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_INCOME_EXPENSES` (`ID`, `CREATED_AT`, `ST_ACTIVE`, `NM_NAME`, `ID_TENANT`, `ST_TYPE`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_INCOME_EXPENSES`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:39:52.015 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 400), @p4='?' (DbType = Guid), @p5='?' (DbType = SByte)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_INCOME_EXPENSES` (`ID`, `CREATED_AT`, `ST_ACTIVE`, `NM_NAME`, `ID_TENANT`, `ST_TYPE`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_INCOME_EXPENSES`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:39:52.022 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:39:52.024 -03:00 [DBG] Committing transaction.
2023-07-13 13:39:52.027 -03:00 [DBG] Committed transaction.
2023-07-13 13:39:52.029 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:52.033 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:39:52.038 -03:00 [DBG] Disposing transaction.
2023-07-13 13:39:52.039 -03:00 [DBG] An entity of type 'TypeIE' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:39:52.043 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-13 13:39:52.050 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:39:52.056 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:39:52.057 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:39:52.059 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:39:52.061 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:39:52.065 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.TenantResponses.CreateTenantResponse'.
2023-07-13 13:39:52.070 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API) in 410.1261ms
2023-07-13 13:39:52.073 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.TenantController.Create (Concent.Athena.Services.API)'
2023-07-13 13:39:52.076 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:39:52.079 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/tenant application/json 125 - 201 - application/json;+charset=utf-8 468.4073ms
2023-07-13 13:40:01.048 -03:00 [DBG] Connection id "0HMS3NJL2N95Q" received FIN.
2023-07-13 13:40:01.052 -03:00 [DBG] Connection id "0HMS3NJL2N95Q" is closed. The last processed stream ID was 1.
2023-07-13 13:40:01.052 -03:00 [DBG] Connection id "0HMS3NJL2N95Q" sending FIN because: "The client closed the connection."
2023-07-13 13:40:01.058 -03:00 [DBG] Connection id "0HMS3NJL2N95Q" stopped.
2023-07-13 13:49:32.899 -03:00 [DBG] Connection id "0HMS3NJL2N95R" accepted.
2023-07-13 13:49:38.237 -03:00 [DBG] Connection id "0HMS3NJL2N95R" started.
2023-07-13 13:49:42.151 -03:00 [DBG] Connection "0HMS3NJL2N95R" established using the following protocol: "Tls12"
2023-07-13 13:49:42.180 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115
2023-07-13 13:49:42.634 -03:00 [DBG] POST requests are not supported
2023-07-13 13:49:42.680 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:49:42.820 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:49:48.618 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:49:52.537 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:49:55.159 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:49:57.184 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:49:57.192 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-13 13:49:57.223 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:49:57.368 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:49:57.558 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:49:58.104 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:49:58.143 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:49:58.159 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:49:58.193 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:49:58.245 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:49:58.258 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-13 13:49:58.290 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:49:58.296 -03:00 [DBG] Connection id "0HMS3NJL2N95R", Request id "0HMS3NJL2N95R:00000001": started reading request body.
2023-07-13 13:49:58.382 -03:00 [DBG] Connection id "0HMS3NJL2N95R", Request id "0HMS3NJL2N95R:00000001": done reading request body.
2023-07-13 13:49:58.454 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-13 13:49:58.463 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:49:58.476 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:49:58.505 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:49:58.612 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:49:58.630 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:49:58.678 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:49:58.698 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:49:58.711 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:49:58.795 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:49:58.855 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:49:58.928 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:49:58.957 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:49:58.989 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (31ms).
2023-07-13 13:49:58.994 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:49:59.027 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:49:59.041 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:49:59.106 -03:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:49:59.146 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:49:59.148 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:49:59.154 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:49:59.161 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2023-07-13 13:49:59.169 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:49:59.273 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:49:59.585 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:49:59.996 -03:00 [INF] Executed DbCommand (411ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:50:00.073 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:50:00.077 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:00.089 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:00.111 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:50:00.122 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2023-07-13 13:50:00.157 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:00.635 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:00.691 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:50:00.972 -03:00 [INF] Executed DbCommand (280ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:50:01.143 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:50:01.146 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:01.156 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:01.559 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:50:02.231 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (671ms).
2023-07-13 13:50:03.380 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:03.439 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:03.456 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:50:03.493 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:50:03.508 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:50:03.514 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:03.520 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:03.526 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:50:03.532 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-13 13:50:03.545 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:50:03.550 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:50:03.563 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:50:03.566 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:50:03.571 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-13 13:50:03.712 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-13 13:50:03.714 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-13 13:50:03.720 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:03.757 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:04.052 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-13 13:50:04.426 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-13 13:50:04.502 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:50:04.527 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (24ms).
2023-07-13 13:50:04.547 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:50:05.099 -03:00 [ERR] Failed executing DbCommand (552ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-13 13:50:05.349 -03:00 [DBG] Disposing transaction.
2023-07-13 13:50:05.373 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:05.380 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:50:05.397 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83b9-cfa5-4183-89ca-fb32ba78a7a5' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83b9-cfa5-4183-89ca-fb32ba78a7a5' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-13 13:50:06.976 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 8817.4812ms
2023-07-13 13:50:06.989 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:50:07.033 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Duplicate entry '08db83b9-cfa5-4183-89ca-fb32ba78a7a5' for key 'tb_almoxarifado.IX_TB_ALMOXARIFADO_ID_PERSON'
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create(CreateAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\AlmoxarifadosController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-13 13:50:07.173 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:50:07.381 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115 - 500 - text/plain 25200.9353ms
2023-07-13 13:50:12.035 -03:00 [DBG] Connection id "0HMS3NJL2N95R" received FIN.
2023-07-13 13:50:12.038 -03:00 [DBG] Connection id "0HMS3NJL2N95R" is closed. The last processed stream ID was 1.
2023-07-13 13:50:12.041 -03:00 [DBG] Connection id "0HMS3NJL2N95R" sending FIN because: "The client closed the connection."
2023-07-13 13:50:12.048 -03:00 [DBG] Connection id "0HMS3NJL2N95R" stopped.
2023-07-13 13:53:24.641 -03:00 [DBG] Hosting starting
2023-07-13 13:53:25.472 -03:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 1ED06961E04A72F7E2C9617C51B22CBBFE7472A4)
2023-07-13 13:53:25.595 -03:00 [INF] Now listening on: https://localhost:5004
2023-07-13 13:53:25.597 -03:00 [DBG] Loaded hosting startup assembly Concent.Athena.Services.API
2023-07-13 13:53:25.599 -03:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2023-07-13 13:53:25.601 -03:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2023-07-13 13:53:25.603 -03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-07-13 13:53:25.605 -03:00 [INF] Hosting environment: Local
2023-07-13 13:53:25.607 -03:00 [INF] Content root path: C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API
2023-07-13 13:53:25.609 -03:00 [DBG] Hosting started
2023-07-13 13:53:30.240 -03:00 [DBG] Connection id "0HMS3O6NQPND2" accepted.
2023-07-13 13:53:30.245 -03:00 [DBG] Connection id "0HMS3O6NQPND2" started.
2023-07-13 13:53:30.346 -03:00 [DBG] Connection "0HMS3O6NQPND2" established using the following protocol: "Tls12"
2023-07-13 13:53:30.415 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115
2023-07-13 13:53:30.440 -03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2023-07-13 13:53:30.472 -03:00 [DBG] POST requests are not supported
2023-07-13 13:53:30.539 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:53:30.548 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-13 13:53:30.552 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:53:30.565 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-13 13:53:30.568 -03:00 [INF] CORS policy execution successful.
2023-07-13 13:53:30.576 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:53:30.591 -03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2023-07-13 13:53:30.686 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-13 13:53:30.691 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-13 13:53:30.695 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-13 13:53:30.699 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-13 13:53:30.702 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-13 13:53:30.705 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-13 13:53:30.708 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:53:30.715 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-13 13:53:30.742 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:53:30.749 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-13 13:53:30.752 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-13 13:53:30.774 -03:00 [DBG] Connection id "0HMS3O6NQPND2", Request id "0HMS3O6NQPND2:00000001": started reading request body.
2023-07-13 13:53:30.777 -03:00 [DBG] Connection id "0HMS3O6NQPND2", Request id "0HMS3O6NQPND2:00000001": done reading request body.
2023-07-13 13:53:30.785 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-13 13:53:30.790 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:53:30.793 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:53:30.798 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-13 13:53:30.805 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-13 13:53:30.809 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:53:30.814 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:53:30.816 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-13 13:53:30.823 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-13 13:53:31.157 -03:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2023-07-13 13:53:32.169 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-13 13:53:32.201 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-13 13:53:32.359 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-13 13:53:32.487 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-13 13:53:32.497 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-13 13:53:32.501 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:32.519 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:32.532 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:53:32.566 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-13 13:53:32.572 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:32.577 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:32.884 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .SingleOrDefault(x => x.Id == __GetId_0 && x.PersonId == __request_PersonId_1)'
2023-07-13 13:53:33.075 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Almoxarifados>(
    asyncEnumerable: new SingleQueryingEnumerable<Almoxarifados>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Almoxarifados.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Almoxarifados.CreatedAt (DateTime) Required, 1], [Property: Almoxarifados.DescricaoAlmoxarifado (string) Required, 2], [Property: Almoxarifados.IsActive (bool) Required, 3], [Property: Almoxarifados.PersonId (Guid) Required FK Index, 4], [Property: Almoxarifados.Sigla (string) Required, 5], [Property: Almoxarifados.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.ID_PERSON, t.DS_SIGLA, t.UPDATED_AT
            FROM TB_ALMOXARIFADO AS t
            WHERE (t.ID == @__GetId_0) && (t.ID_PERSON == @__request_PersonId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Almoxarifados>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:53:33.135 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:53:33.138 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:53:33.163 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.178 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.184 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:53:33.216 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-13 13:53:33.226 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:53:33.231 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.235 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.242 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.Id == __request_PersonId_0)'
2023-07-13 13:53:33.254 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_PERSON AS t
                WHERE t.ID == @__request_PersonId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:53:33.267 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:53:33.271 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-13 13:53:33.273 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.289 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.294 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:53:33.318 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:53:33.327 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:53:33.333 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.336 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.339 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .Any(x => x.Sigla.ToUpper() == __ToUpper_0)'
2023-07-13 13:53:33.383 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_ALMOXARIFADO AS t
                WHERE UPPER(t.DS_SIGLA) == @__ToUpper_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-13 13:53:33.394 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:53:33.397 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-13 13:53:33.401 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.405 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.409 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:53:33.421 -03:00 [INF] Executed DbCommand (12ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-13 13:53:33.427 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:53:33.431 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.435 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.440 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-13 13:53:33.443 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-13 13:53:33.447 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.453 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.456 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:53:33.461 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-13 13:53:33.466 -03:00 [DBG] A data reader was disposed.
2023-07-13 13:53:33.469 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.471 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-13 13:53:33.484 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-13 13:53:33.489 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-13 13:53:33.491 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-13 13:53:33.493 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-13 13:53:33.496 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-13 13:53:33.500 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-13 13:53:33.544 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 2832.8388ms
2023-07-13 13:53:33.549 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-13 13:53:33.568 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-13 13:53:33.577 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 115 - 400 - application/json;+charset=utf-8 3168.0822ms
2023-07-13 13:53:37.315 -03:00 [DBG] Connection id "0HMS3O6NQPND2" received FIN.
2023-07-13 13:53:37.320 -03:00 [DBG] Connection id "0HMS3O6NQPND2" is closed. The last processed stream ID was 1.
2023-07-13 13:53:37.324 -03:00 [DBG] Connection id "0HMS3O6NQPND2" sending FIN because: "The client closed the connection."
2023-07-13 13:53:37.333 -03:00 [DBG] Connection id "0HMS3O6NQPND2" stopped.
