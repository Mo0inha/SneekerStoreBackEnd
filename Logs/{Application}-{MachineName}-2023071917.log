2023-07-19 17:00:47.808 -03:00 [DBG] Connection id "0HMS8I8H0JO28" accepted.
2023-07-19 17:00:47.833 -03:00 [DBG] Connection id "0HMS8I8H0JO28" started.
2023-07-19 17:00:47.848 -03:00 [DBG] Connection "0HMS8I8H0JO28" established using the following protocol: "Tls12"
2023-07-19 17:00:47.851 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/produtos application/json 125
2023-07-19 17:00:47.861 -03:00 [DBG] POST requests are not supported
2023-07-19 17:00:47.863 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtos'
2023-07-19 17:00:47.865 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Produtos' is valid for the request path '/api/v1/tenant/produtos'
2023-07-19 17:00:47.868 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-19 17:00:47.874 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-19 17:00:47.877 -03:00 [INF] CORS policy execution successful.
2023-07-19 17:00:47.879 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-19 17:00:47.885 -03:00 [INF] Route matched with {action = "Create", controller = "Produtos"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API).
2023-07-19 17:00:47.892 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-19 17:00:47.895 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-19 17:00:47.897 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-19 17:00:47.901 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-19 17:00:47.907 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-19 17:00:47.910 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-19 17:00:47.913 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosController (Concent.Athena.Services.API)
2023-07-19 17:00:47.916 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' ...
2023-07-19 17:00:47.919 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' using the name '' in request data ...
2023-07-19 17:00:47.923 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-19 17:00:47.936 -03:00 [DBG] Connection id "0HMS8I8H0JO28", Request id "0HMS8I8H0JO28:00000001": started reading request body.
2023-07-19 17:00:47.940 -03:00 [DBG] Connection id "0HMS8I8H0JO28", Request id "0HMS8I8H0JO28:00000001": done reading request body.
2023-07-19 17:00:47.947 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'
2023-07-19 17:00:47.949 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-19 17:00:47.951 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-19 17:00:47.954 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest' ...
2023-07-19 17:00:47.959 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosRequests.CreateProdutosRequest'.
2023-07-19 17:00:47.963 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-19 17:00:47.966 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-19 17:00:47.968 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-19 17:00:47.970 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-19 17:00:48.014 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-19 17:00:48.022 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-19 17:00:48.037 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-19 17:00:48.064 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-19 17:00:48.069 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-19 17:00:48.077 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-19 17:00:48.080 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-19 17:00:48.083 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.085 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-19 17:00:48.089 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE `Athenadb`;
2023-07-19 17:00:48.103 -03:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE DATABASE `Athenadb`;
2023-07-19 17:00:48.110 -03:00 [DBG] Committing transaction.
2023-07-19 17:00:48.114 -03:00 [DBG] Committed transaction.
2023-07-19 17:00:48.117 -03:00 [DBG] Disposing transaction.
2023-07-19 17:00:48.119 -03:00 [DBG] Closing connection to database '' on server 'localhost'.
2023-07-19 17:00:48.125 -03:00 [DBG] Closed connection to database '' on server 'localhost'.
2023-07-19 17:00:48.131 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-19 17:00:48.140 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-19 17:00:48.251 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:00:48.254 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:00:48.277 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:00:48.282 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:00:48.285 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-19 17:00:48.287 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-19 17:00:48.294 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.296 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:48.298 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2023-07-19 17:00:48.309 -03:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER DATABASE CHARACTER SET utf8mb4;
2023-07-19 17:00:48.313 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.315 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-19 17:00:48.318 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ADDRESS` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_STREET` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_CITY` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_STATE` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_POSTAL_CODE` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_COUNTRY` varchar(400) CHARACTER SET utf8mb4 NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_ADDRESS` PRIMARY KEY (`ID`)
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.354 -03:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ADDRESS` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_STREET` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_CITY` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_STATE` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_POSTAL_CODE` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_COUNTRY` varchar(400) CHARACTER SET utf8mb4 NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_ADDRESS` PRIMARY KEY (`ID`)
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.362 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.364 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-19 17:00:48.367 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_PERSON` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_PERSON_NAME` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_CPF` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_PERSON` PRIMARY KEY (`ID`)
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.391 -03:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_PERSON` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_PERSON_NAME` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_CPF` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_PERSON` PRIMARY KEY (`ID`)
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.398 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.401 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-19 17:00:48.403 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_UNIDADE_MEDIDA` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_UNIDADE_MEDIDA` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_DESCRICAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_OBSERVACAO` varchar(400) CHARACTER SET utf8mb4 NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_UNIDADE_MEDIDA` PRIMARY KEY (`ID`)
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.425 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_UNIDADE_MEDIDA` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_UNIDADE_MEDIDA` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_DESCRICAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_OBSERVACAO` varchar(400) CHARACTER SET utf8mb4 NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_UNIDADE_MEDIDA` PRIMARY KEY (`ID`)
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.434 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.437 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:48.441 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_TENANT` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `NM_NAME` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ST_TYPE_TENANT` tinyint NOT NULL,
    `DS_CODE` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_PHONE` varchar(400) CHARACTER SET utf8mb4 NULL,
    `ID_ADDRESS` char(36) COLLATE ascii_general_ci NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_TENANT` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_TENANT_TB_ADDRESS_ID_ADDRESS` FOREIGN KEY (`ID_ADDRESS`) REFERENCES `TB_ADDRESS` (`ID`) ON DELETE RESTRICT
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.518 -03:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_TENANT` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `NM_NAME` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ST_TYPE_TENANT` tinyint NOT NULL,
    `DS_CODE` varchar(400) CHARACTER SET utf8mb4 NULL,
    `DS_PHONE` varchar(400) CHARACTER SET utf8mb4 NULL,
    `ID_ADDRESS` char(36) COLLATE ascii_general_ci NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_TENANT` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_TENANT_TB_ADDRESS_ID_ADDRESS` FOREIGN KEY (`ID_ADDRESS`) REFERENCES `TB_ADDRESS` (`ID`) ON DELETE RESTRICT
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.527 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.530 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:48.533 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ALMOXARIFADO` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_DESCRICAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_SIGLA` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_ALMOXARIFADO` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.570 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ALMOXARIFADO` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_DESCRICAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_SIGLA` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_ALMOXARIFADO` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ALMOXARIFADO_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.578 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.580 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:48.585 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_USER` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_USER_LOGIN` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_USER_PASSWORD` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_SALT` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `IE_ISLOGED` tinyint(1) NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_USER` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_USER_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.619 -03:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_USER` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_USER_LOGIN` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_USER_PASSWORD` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_SALT` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `IE_ISLOGED` tinyint(1) NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_USER` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_USER_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.626 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.629 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:48.632 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_Produtos` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_NOME_PRODUTO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_DESCRICAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_PESO_LIQUIDO` float NOT NULL,
    `DS_PESO_BRUTO` float NOT NULL,
    `ID_UNIDADE_MEDIDA` char(36) COLLATE ascii_general_ci NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_Produtos` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_Produtos_TB_UNIDADE_MEDIDA_ID_UNIDADE_MEDIDA` FOREIGN KEY (`ID_UNIDADE_MEDIDA`) REFERENCES `TB_UNIDADE_MEDIDA` (`ID`) ON DELETE RESTRICT
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.663 -03:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_Produtos` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_NOME_PRODUTO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_DESCRICAO` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `DS_PESO_LIQUIDO` float NOT NULL,
    `DS_PESO_BRUTO` float NOT NULL,
    `ID_UNIDADE_MEDIDA` char(36) COLLATE ascii_general_ci NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_Produtos` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_Produtos_TB_UNIDADE_MEDIDA_ID_UNIDADE_MEDIDA` FOREIGN KEY (`ID_UNIDADE_MEDIDA`) REFERENCES `TB_UNIDADE_MEDIDA` (`ID`) ON DELETE RESTRICT
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.669 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.671 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:48.677 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ACCOUNT` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_BANKCODE` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `NR_ACCOUNT_NUMBER` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `NR_BRANCH` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ST_TYPE_ACCOUNT` tinyint NOT NULL,
    `DT_OPEN_DATE` datetime(6) NOT NULL,
    `CloseDate` datetime(6) NOT NULL,
    `NR_OPENING_BALANCE` decimal(65,30) NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    `TenantId` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TB_ACCOUNT` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ACCOUNT_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_TB_TENANT_TenantId` FOREIGN KEY (`TenantId`) REFERENCES `TB_TENANT` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.715 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ACCOUNT` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `DS_BANKCODE` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `NR_ACCOUNT_NUMBER` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `NR_BRANCH` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ST_TYPE_ACCOUNT` tinyint NOT NULL,
    `DT_OPEN_DATE` datetime(6) NOT NULL,
    `CloseDate` datetime(6) NOT NULL,
    `NR_OPENING_BALANCE` decimal(65,30) NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    `TenantId` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TB_ACCOUNT` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ACCOUNT_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_TB_TENANT_TenantId` FOREIGN KEY (`TenantId`) REFERENCES `TB_TENANT` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.721 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.724 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-19 17:00:48.726 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_INCOME_EXPENSES` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `NM_NAME` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ST_TYPE` tinyint NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    `ID_TENANT` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TB_INCOME_EXPENSES` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_INCOME_EXPENSES_TB_TENANT_ID_TENANT` FOREIGN KEY (`ID_TENANT`) REFERENCES `TB_TENANT` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.761 -03:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_INCOME_EXPENSES` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `NM_NAME` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `ST_TYPE` tinyint NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    `ID_TENANT` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TB_INCOME_EXPENSES` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_INCOME_EXPENSES_TB_TENANT_ID_TENANT` FOREIGN KEY (`ID_TENANT`) REFERENCES `TB_TENANT` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.765 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.769 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-19 17:00:48.774 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ProdutosAlmoxarifados` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_PRODUTO` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_ALMOXARIFADO` char(36) COLLATE ascii_general_ci NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_ProdutosAlmoxarifados` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ProdutosAlmoxarifados_TB_ALMOXARIFADO_ID_ALMOXARIFADO` FOREIGN KEY (`ID_ALMOXARIFADO`) REFERENCES `TB_ALMOXARIFADO` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ProdutosAlmoxarifados_TB_Produtos_ID_PRODUTO` FOREIGN KEY (`ID_PRODUTO`) REFERENCES `TB_Produtos` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.808 -03:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ProdutosAlmoxarifados` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_PRODUTO` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_ALMOXARIFADO` char(36) COLLATE ascii_general_ci NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    CONSTRAINT `PK_TB_ProdutosAlmoxarifados` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ProdutosAlmoxarifados_TB_ALMOXARIFADO_ID_ALMOXARIFADO` FOREIGN KEY (`ID_ALMOXARIFADO`) REFERENCES `TB_ALMOXARIFADO` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ProdutosAlmoxarifados_TB_Produtos_ID_PRODUTO` FOREIGN KEY (`ID_PRODUTO`) REFERENCES `TB_Produtos` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.813 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.815 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:48.817 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ACCOUNT_MOVES` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_TYPE_INCOME_EXPENSES` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_ACCOUNT` char(36) COLLATE ascii_general_ci NOT NULL,
    `NR_VALUE` decimal(65,30) NOT NULL,
    `DS_DESCRIPTION` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    `ID_TENANT` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TB_ACCOUNT_MOVES` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_ACCOUNT_ID_ACCOUNT` FOREIGN KEY (`ID_ACCOUNT`) REFERENCES `TB_ACCOUNT` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_INCOME_EXPENSES_ID_TYPE_INCOME_EXPENSES` FOREIGN KEY (`ID_TYPE_INCOME_EXPENSES`) REFERENCES `TB_INCOME_EXPENSES` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_TENANT_ID_TENANT` FOREIGN KEY (`ID_TENANT`) REFERENCES `TB_TENANT` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.898 -03:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE `TB_ACCOUNT_MOVES` (
    `ID` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_PERSON` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_TYPE_INCOME_EXPENSES` char(36) COLLATE ascii_general_ci NOT NULL,
    `ID_ACCOUNT` char(36) COLLATE ascii_general_ci NOT NULL,
    `NR_VALUE` decimal(65,30) NOT NULL,
    `DS_DESCRIPTION` varchar(400) CHARACTER SET utf8mb4 NOT NULL,
    `CREATED_AT` datetime(6) NOT NULL,
    `UPDATED_AT` datetime(6) NOT NULL DEFAULT CURRENT_TIMESTAMP(6) ON UPDATE CURRENT_TIMESTAMP(6),
    `ST_ACTIVE` tinyint(1) NOT NULL,
    `ID_TENANT` char(36) COLLATE ascii_general_ci NOT NULL,
    CONSTRAINT `PK_TB_ACCOUNT_MOVES` PRIMARY KEY (`ID`),
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_ACCOUNT_ID_ACCOUNT` FOREIGN KEY (`ID_ACCOUNT`) REFERENCES `TB_ACCOUNT` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_INCOME_EXPENSES_ID_TYPE_INCOME_EXPENSES` FOREIGN KEY (`ID_TYPE_INCOME_EXPENSES`) REFERENCES `TB_INCOME_EXPENSES` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_PERSON_ID_PERSON` FOREIGN KEY (`ID_PERSON`) REFERENCES `TB_PERSON` (`ID`) ON DELETE CASCADE,
    CONSTRAINT `FK_TB_ACCOUNT_MOVES_TB_TENANT_ID_TENANT` FOREIGN KEY (`ID_TENANT`) REFERENCES `TB_TENANT` (`ID`) ON DELETE CASCADE
) CHARACTER SET utf8mb4;
2023-07-19 17:00:48.919 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.927 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (7ms).
2023-07-19 17:00:48.931 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_ID_PERSON` ON `TB_ACCOUNT` (`ID_PERSON`);
2023-07-19 17:00:48.970 -03:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_ID_PERSON` ON `TB_ACCOUNT` (`ID_PERSON`);
2023-07-19 17:00:48.978 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:48.981 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:48.983 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_TenantId` ON `TB_ACCOUNT` (`TenantId`);
2023-07-19 17:00:49.019 -03:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_TenantId` ON `TB_ACCOUNT` (`TenantId`);
2023-07-19 17:00:49.026 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:49.028 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:49.030 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_ACCOUNT` ON `TB_ACCOUNT_MOVES` (`ID_ACCOUNT`);
2023-07-19 17:00:49.060 -03:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_ACCOUNT` ON `TB_ACCOUNT_MOVES` (`ID_ACCOUNT`);
2023-07-19 17:00:49.067 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:49.069 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-19 17:00:49.073 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_PERSON` ON `TB_ACCOUNT_MOVES` (`ID_PERSON`);
2023-07-19 17:00:49.096 -03:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_PERSON` ON `TB_ACCOUNT_MOVES` (`ID_PERSON`);
2023-07-19 17:00:49.099 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:49.101 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:49.104 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_TENANT` ON `TB_ACCOUNT_MOVES` (`ID_TENANT`);
2023-07-19 17:00:49.120 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_TENANT` ON `TB_ACCOUNT_MOVES` (`ID_TENANT`);
2023-07-19 17:00:49.130 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:49.132 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-19 17:00:49.134 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_TYPE_INCOME_EXPENSES` ON `TB_ACCOUNT_MOVES` (`ID_TYPE_INCOME_EXPENSES`);
2023-07-19 17:00:49.160 -03:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ACCOUNT_MOVES_ID_TYPE_INCOME_EXPENSES` ON `TB_ACCOUNT_MOVES` (`ID_TYPE_INCOME_EXPENSES`);
2023-07-19 17:00:49.168 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:49.171 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:49.176 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `IX_TB_ALMOXARIFADO_ID_PERSON` ON `TB_ALMOXARIFADO` (`ID_PERSON`);
2023-07-19 17:00:49.200 -03:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `IX_TB_ALMOXARIFADO_ID_PERSON` ON `TB_ALMOXARIFADO` (`ID_PERSON`);
2023-07-19 17:00:49.216 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:49.220 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-19 17:00:49.225 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_INCOME_EXPENSES_ID_TENANT` ON `TB_INCOME_EXPENSES` (`ID_TENANT`);
2023-07-19 17:00:49.252 -03:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_INCOME_EXPENSES_ID_TENANT` ON `TB_INCOME_EXPENSES` (`ID_TENANT`);
2023-07-19 17:00:49.257 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:49.260 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-19 17:00:49.264 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_Produtos_ID_UNIDADE_MEDIDA` ON `TB_Produtos` (`ID_UNIDADE_MEDIDA`);
2023-07-19 17:00:49.286 -03:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_Produtos_ID_UNIDADE_MEDIDA` ON `TB_Produtos` (`ID_UNIDADE_MEDIDA`);
2023-07-19 17:00:49.292 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:49.296 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2023-07-19 17:00:49.299 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ProdutosAlmoxarifados_ID_ALMOXARIFADO` ON `TB_ProdutosAlmoxarifados` (`ID_ALMOXARIFADO`);
2023-07-19 17:00:49.319 -03:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ProdutosAlmoxarifados_ID_ALMOXARIFADO` ON `TB_ProdutosAlmoxarifados` (`ID_ALMOXARIFADO`);
2023-07-19 17:00:49.326 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:49.328 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:49.330 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ProdutosAlmoxarifados_ID_PRODUTO` ON `TB_ProdutosAlmoxarifados` (`ID_PRODUTO`);
2023-07-19 17:00:49.347 -03:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_ProdutosAlmoxarifados_ID_PRODUTO` ON `TB_ProdutosAlmoxarifados` (`ID_PRODUTO`);
2023-07-19 17:00:49.351 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:49.353 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2023-07-19 17:00:49.359 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_TENANT_ID_ADDRESS` ON `TB_TENANT` (`ID_ADDRESS`);
2023-07-19 17:00:49.397 -03:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX `IX_TB_TENANT_ID_ADDRESS` ON `TB_TENANT` (`ID_ADDRESS`);
2023-07-19 17:00:49.401 -03:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2023-07-19 17:00:49.404 -03:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2023-07-19 17:00:49.408 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `IX_TB_USER_ID_PERSON` ON `TB_USER` (`ID_PERSON`);
2023-07-19 17:00:49.429 -03:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX `IX_TB_USER_ID_PERSON` ON `TB_USER` (`ID_PERSON`);
2023-07-19 17:00:49.436 -03:00 [DBG] Committing transaction.
2023-07-19 17:00:49.438 -03:00 [DBG] Committed transaction.
2023-07-19 17:00:49.442 -03:00 [DBG] Disposing transaction.
2023-07-19 17:00:49.443 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:00:49.446 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:00:49.452 -03:00 [DBG] Compiling query expression: 
'DbSet<Produtos>()
    .Any(x => x.NomeProduto.Equals(__request_NomeProduto_0))'
2023-07-19 17:00:49.499 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_Produtos AS t
                WHERE t.DS_NOME_PRODUTO == @__request_NomeProduto_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-19 17:00:49.503 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:00:49.505 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-19 17:00:49.509 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:00:49.515 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:00:49.518 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_NomeProduto_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE `t`.`DS_NOME_PRODUTO` = @__request_NomeProduto_0)
2023-07-19 17:00:49.526 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_NomeProduto_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE `t`.`DS_NOME_PRODUTO` = @__request_NomeProduto_0)
2023-07-19 17:00:49.535 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:00:49.536 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:00:49.540 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:00:49.554 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Produtos'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:00:49.590 -03:00 [DBG] Context 'AthenaContext' started tracking 'Produtos' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:00:49.594 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:00:49.601 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:00:49.603 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:00:49.607 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:00:49.610 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-19 17:00:49.612 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:00:49.614 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:00:49.616 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:00:49.623 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:00:49.627 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-19 17:00:49.632 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-19 17:00:49.644 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:00:49.646 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-19 17:00:49.650 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (Size = 400), @p5='?' (DbType = Single), @p6='?' (DbType = Single), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_Produtos` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `DS_NOME_PRODUTO`, `DS_PESO_BRUTO`, `DS_PESO_LIQUIDO`, `ID_UNIDADE_MEDIDA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-19 17:00:49.659 -03:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (Size = 400), @p5='?' (DbType = Single), @p6='?' (DbType = Single), @p7='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_Produtos` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `DS_NOME_PRODUTO`, `DS_PESO_BRUTO`, `DS_PESO_LIQUIDO`, `ID_UNIDADE_MEDIDA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_Produtos`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-19 17:00:49.688 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:00:49.694 -03:00 [DBG] Committing transaction.
2023-07-19 17:00:49.700 -03:00 [DBG] Committed transaction.
2023-07-19 17:00:49.701 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:00:49.704 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:00:49.708 -03:00 [DBG] Disposing transaction.
2023-07-19 17:00:49.723 -03:00 [DBG] An entity of type 'Produtos' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:00:49.729 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-19 17:00:49.743 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-19 17:00:49.750 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-19 17:00:49.751 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-19 17:00:49.753 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-19 17:00:49.755 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-19 17:00:49.761 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.ProdutosResponses.CreateProdutosResponse'.
2023-07-19 17:00:49.766 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API) in 1855.3609ms
2023-07-19 17:00:49.769 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosController.Create (Concent.Athena.Services.API)'
2023-07-19 17:00:49.773 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-19 17:00:49.777 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/produtos application/json 125 - 201 - application/json;+charset=utf-8 1926.2035ms
2023-07-19 17:01:26.095 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/person/person application/json 148
2023-07-19 17:01:26.098 -03:00 [DBG] POST requests are not supported
2023-07-19 17:01:26.100 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/person/person'
2023-07-19 17:01:26.103 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/Person/Person' is valid for the request path '/api/v1/person/person'
2023-07-19 17:01:26.109 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)'
2023-07-19 17:01:26.114 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-19 17:01:26.116 -03:00 [INF] CORS policy execution successful.
2023-07-19 17:01:26.118 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)'
2023-07-19 17:01:26.127 -03:00 [INF] Route matched with {action = "Create", controller = "Person"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API).
2023-07-19 17:01:26.133 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-19 17:01:26.136 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-19 17:01:26.143 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-19 17:01:26.148 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-19 17:01:26.151 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-19 17:01:26.161 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-07-19 17:01:26.166 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.PersonController (Concent.Athena.Services.API)
2023-07-19 17:01:26.170 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest' ...
2023-07-19 17:01:26.174 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest' using the name '' in request data ...
2023-07-19 17:01:26.177 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-19 17:01:26.180 -03:00 [DBG] Connection id "0HMS8I8H0JO28", Request id "0HMS8I8H0JO28:00000003": started reading request body.
2023-07-19 17:01:26.182 -03:00 [DBG] Connection id "0HMS8I8H0JO28", Request id "0HMS8I8H0JO28:00000003": done reading request body.
2023-07-19 17:01:26.192 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'
2023-07-19 17:01:26.195 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'.
2023-07-19 17:01:26.197 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'.
2023-07-19 17:01:26.201 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest' ...
2023-07-19 17:01:26.204 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.PersonRequests.CreatePersonRequest'.
2023-07-19 17:01:26.209 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-19 17:01:26.211 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-19 17:01:26.215 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-19 17:01:26.219 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-19 17:01:26.237 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-19 17:01:26.243 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-19 17:01:26.254 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-19 17:01:26.260 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-19 17:01:26.263 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-19 17:01:26.265 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.268 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.271 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-19 17:01:26.278 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-19 17:01:26.282 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.284 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.290 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.CPF == __request_CPF_0)'
2023-07-19 17:01:26.295 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_PERSON AS t
                WHERE t.DS_CPF == @__request_CPF_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-19 17:01:26.300 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:01:26.302 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-19 17:01:26.304 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.311 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.315 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_CPF_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`DS_CPF` = @__request_CPF_0)
2023-07-19 17:01:26.325 -03:00 [INF] Executed DbCommand (10ms) [Parameters=[@__request_CPF_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`DS_CPF` = @__request_CPF_0)
2023-07-19 17:01:26.329 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:01:26.331 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.333 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.343 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Person'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:01:26.369 -03:00 [DBG] Context 'AthenaContext' started tracking 'Person' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:01:26.375 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:01:26.379 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:01:26.381 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:01:26.383 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:01:26.385 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-19 17:01:26.390 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:01:26.393 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:01:26.395 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.403 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.411 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-19 17:01:26.419 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-19 17:01:26.426 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:01:26.430 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-19 17:01:26.436 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_PERSON` (`ID`, `DS_CPF`, `CREATED_AT`, `ST_ACTIVE`, `DS_PERSON_NAME`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `UPDATED_AT`
FROM `TB_PERSON`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-19 17:01:26.443 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 400), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_PERSON` (`ID`, `DS_CPF`, `CREATED_AT`, `ST_ACTIVE`, `DS_PERSON_NAME`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `UPDATED_AT`
FROM `TB_PERSON`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-19 17:01:26.450 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:01:26.452 -03:00 [DBG] Committing transaction.
2023-07-19 17:01:26.455 -03:00 [DBG] Committed transaction.
2023-07-19 17:01:26.458 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.460 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.462 -03:00 [DBG] Disposing transaction.
2023-07-19 17:01:26.465 -03:00 [DBG] An entity of type 'Person' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:01:26.469 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-19 17:01:26.482 -03:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any(x => x.UserLogin.ToUpper().Trim() == __Trim_0)'
2023-07-19 17:01:26.494 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_USER AS t
                WHERE TRIM([SqlExpressions.SqlFunctionExpression]) == @__Trim_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-19 17:01:26.509 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:01:26.513 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-19 17:01:26.516 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.521 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.531 -03:00 [DBG] Executing DbCommand [Parameters=[@__Trim_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_USER` AS `t`
    WHERE TRIM(UPPER(`t`.`DS_USER_LOGIN`)) = @__Trim_0)
2023-07-19 17:01:26.535 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[@__Trim_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_USER` AS `t`
    WHERE TRIM(UPPER(`t`.`DS_USER_LOGIN`)) = @__Trim_0)
2023-07-19 17:01:26.541 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:01:26.544 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.546 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.768 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.User'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:01:26.799 -03:00 [DBG] Context 'AthenaContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:01:26.803 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:01:26.811 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:01:26.815 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:01:26.817 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:01:26.819 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-19 17:01:26.822 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:01:26.824 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:01:26.829 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.834 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.837 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-19 17:01:26.841 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-19 17:01:26.845 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:01:26.847 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-19 17:01:26.849 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_USER` (`ID`, `CREATED_AT`, `ST_ACTIVE`, `IE_ISLOGED`, `ID_PERSON`, `DS_SALT`, `DS_USER_LOGIN`, `DS_USER_PASSWORD`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_USER`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-19 17:01:26.854 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400), @p6='?' (Size = 400), @p7='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_USER` (`ID`, `CREATED_AT`, `ST_ACTIVE`, `IE_ISLOGED`, `ID_PERSON`, `DS_SALT`, `DS_USER_LOGIN`, `DS_USER_PASSWORD`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `UPDATED_AT`
FROM `TB_USER`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-19 17:01:26.864 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:01:26.866 -03:00 [DBG] Committing transaction.
2023-07-19 17:01:26.870 -03:00 [DBG] Committed transaction.
2023-07-19 17:01:26.876 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.879 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:26.882 -03:00 [DBG] Disposing transaction.
2023-07-19 17:01:26.884 -03:00 [DBG] An entity of type 'User' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:01:26.891 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-19 17:01:26.900 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-19 17:01:26.904 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-19 17:01:26.909 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-19 17:01:26.911 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-19 17:01:26.913 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-19 17:01:26.915 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.Person.CreatePersonResponse'.
2023-07-19 17:01:26.920 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API) in 758.9966ms
2023-07-19 17:01:26.926 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.PersonController.Create (Concent.Athena.Services.API)'
2023-07-19 17:01:26.929 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-19 17:01:26.932 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/person/person application/json 148 - 201 - application/json;+charset=utf-8 837.1233ms
2023-07-19 17:01:44.095 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 125
2023-07-19 17:01:44.098 -03:00 [DBG] POST requests are not supported
2023-07-19 17:01:44.100 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/almoxarifados'
2023-07-19 17:01:44.103 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/Almoxarifados' is valid for the request path '/api/v1/tenant/almoxarifados'
2023-07-19 17:01:44.141 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-19 17:01:44.143 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-19 17:01:44.145 -03:00 [INF] CORS policy execution successful.
2023-07-19 17:01:44.147 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-19 17:01:44.153 -03:00 [INF] Route matched with {action = "Create", controller = "Almoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API).
2023-07-19 17:01:44.158 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-19 17:01:44.160 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-19 17:01:44.163 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-19 17:01:44.171 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-19 17:01:44.175 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-19 17:01:44.177 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-19 17:01:44.181 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.AlmoxarifadosController (Concent.Athena.Services.API)
2023-07-19 17:01:44.185 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-19 17:01:44.188 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' using the name '' in request data ...
2023-07-19 17:01:44.191 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-19 17:01:44.194 -03:00 [DBG] Connection id "0HMS8I8H0JO28", Request id "0HMS8I8H0JO28:00000005": started reading request body.
2023-07-19 17:01:44.201 -03:00 [DBG] Connection id "0HMS8I8H0JO28", Request id "0HMS8I8H0JO28:00000005": done reading request body.
2023-07-19 17:01:44.206 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'
2023-07-19 17:01:44.208 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-19 17:01:44.210 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-19 17:01:44.215 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest' ...
2023-07-19 17:01:44.219 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.AlmoxarifadosRequests.CreateAlmoxarifadosRequest'.
2023-07-19 17:01:44.222 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-19 17:01:44.224 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-19 17:01:44.227 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-19 17:01:44.232 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-19 17:01:44.258 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-19 17:01:44.262 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-19 17:01:44.270 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-19 17:01:44.273 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-19 17:01:44.275 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (2ms).
2023-07-19 17:01:44.279 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.284 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.286 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-19 17:01:44.290 -03:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-19 17:01:44.294 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.299 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.306 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .SingleOrDefault(x => x.Id == __GetId_0 && x.PersonId == __request_PersonId_1)'
2023-07-19 17:01:44.338 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Almoxarifados>(
    asyncEnumerable: new SingleQueryingEnumerable<Almoxarifados>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Almoxarifados.Id (Guid) Required PK Concurrency AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Almoxarifados.CreatedAt (DateTime) Required, 1], [Property: Almoxarifados.DescricaoAlmoxarifado (string) Required, 2], [Property: Almoxarifados.IsActive (bool) Required, 3], [Property: Almoxarifados.PersonId (Guid) Required FK Index, 4], [Property: Almoxarifados.Sigla (string) Required, 5], [Property: Almoxarifados.UpdatedAt (DateTime) Required Concurrency BeforeSave:Ignore AfterSave:Ignore ValueGenerated.OnAddOrUpdate, 6], }
            SELECT TOP(2) t.ID, t.CREATED_AT, t.DS_DESCRICAO, t.ST_ACTIVE, t.ID_PERSON, t.DS_SIGLA, t.UPDATED_AT
            FROM TB_ALMOXARIFADO AS t
            WHERE (t.ID == @__GetId_0) && (t.ID_PERSON == @__request_PersonId_1)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Almoxarifados>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-19 17:01:44.352 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:01:44.356 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-19 17:01:44.358 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.367 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.370 -03:00 [DBG] Executing DbCommand [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-19 17:01:44.376 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__GetId_0='?' (DbType = Guid), @__request_PersonId_1='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`ID`, `t`.`CREATED_AT`, `t`.`DS_DESCRICAO`, `t`.`ST_ACTIVE`, `t`.`ID_PERSON`, `t`.`DS_SIGLA`, `t`.`UPDATED_AT`
FROM `TB_ALMOXARIFADO` AS `t`
WHERE (`t`.`ID` = @__GetId_0) AND (`t`.`ID_PERSON` = @__request_PersonId_1)
LIMIT 2
2023-07-19 17:01:44.384 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:01:44.386 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.389 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.392 -03:00 [DBG] Compiling query expression: 
'DbSet<Almoxarifados>()
    .Any(x => x.Sigla.ToUpper() == __ToUpper_0)'
2023-07-19 17:01:44.396 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_ALMOXARIFADO AS t
                WHERE UPPER(t.DS_SIGLA) == @__ToUpper_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-19 17:01:44.405 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:01:44.407 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-19 17:01:44.410 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.424 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.426 -03:00 [DBG] Executing DbCommand [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-19 17:01:44.433 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__ToUpper_0='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE UPPER(`t`.`DS_SIGLA`) = @__ToUpper_0)
2023-07-19 17:01:44.437 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:01:44.439 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.441 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.445 -03:00 [DBG] Compiling query expression: 
'DbSet<Person>()
    .Any(x => x.Id == __request_PersonId_0)'
2023-07-19 17:01:44.453 -03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<bool>(
    asyncEnumerable: new SingleQueryingEnumerable<bool>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT EXISTS (
                Projection Mapping:
                SELECT 1
                FROM TB_PERSON AS t
                WHERE t.ID == @__request_PersonId_0)), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
        Concent.Athena.Infrastructure.Data.Contexts.AthenaContext, 
        False, 
        False
    ), 
    cancellationToken: queryContext.CancellationToken)'
2023-07-19 17:01:44.459 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:01:44.461 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-19 17:01:44.466 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.470 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.472 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-19 17:01:44.478 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__request_PersonId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_PERSON` AS `t`
    WHERE `t`.`ID` = @__request_PersonId_0)
2023-07-19 17:01:44.483 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:01:44.485 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.487 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.499 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.Almoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:01:44.511 -03:00 [DBG] Context 'AthenaContext' started tracking 'Almoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:01:44.516 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:01:44.521 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:01:44.525 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:01:44.527 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:01:44.531 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-19 17:01:44.533 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:01:44.536 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:01:44.538 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.543 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.545 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-19 17:01:44.553 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-19 17:01:44.555 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:01:44.557 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-19 17:01:44.559 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-19 17:01:44.566 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (Size = 400), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid), @p5='?' (Size = 400)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ALMOXARIFADO` (`ID`, `CREATED_AT`, `DS_DESCRICAO`, `ST_ACTIVE`, `ID_PERSON`, `DS_SIGLA`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT `UPDATED_AT`
FROM `TB_ALMOXARIFADO`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-19 17:01:44.573 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:01:44.575 -03:00 [DBG] Committing transaction.
2023-07-19 17:01:44.578 -03:00 [DBG] Committed transaction.
2023-07-19 17:01:44.580 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.584 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:01:44.587 -03:00 [DBG] Disposing transaction.
2023-07-19 17:01:44.589 -03:00 [DBG] An entity of type 'Almoxarifados' tracked by 'AthenaContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:01:44.592 -03:00 [DBG] SaveChanges completed for 'AthenaContext' with 1 entities written to the database.
2023-07-19 17:01:44.598 -03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2023-07-19 17:01:44.603 -03:00 [DBG] No information found on request to perform content negotiation.
2023-07-19 17:01:44.604 -03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2023-07-19 17:01:44.606 -03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2023-07-19 17:01:44.608 -03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2023-07-19 17:01:44.610 -03:00 [INF] Executing ObjectResult, writing value of type 'Concent.Athena.Domain.Core.Responses.AlmoxarifadoResponses.CreateAlmoxarifadoResponse'.
2023-07-19 17:01:44.615 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API) in 437.7869ms
2023-07-19 17:01:44.619 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.AlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-19 17:01:44.622 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-19 17:01:44.624 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/almoxarifados application/json 125 - 201 - application/json;+charset=utf-8 529.0567ms
2023-07-19 17:02:16.125 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/produtosalmoxarifados application/json 138
2023-07-19 17:02:16.148 -03:00 [DBG] POST requests are not supported
2023-07-19 17:02:16.150 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtosalmoxarifados'
2023-07-19 17:02:16.156 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/ProdutosAlmoxarifados' is valid for the request path '/api/v1/tenant/produtosalmoxarifados'
2023-07-19 17:02:16.160 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-19 17:02:16.164 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-19 17:02:16.166 -03:00 [INF] CORS policy execution successful.
2023-07-19 17:02:16.169 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-19 17:02:16.172 -03:00 [INF] Route matched with {action = "Create", controller = "ProdutosAlmoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController (Concent.Athena.Services.API).
2023-07-19 17:02:16.179 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-19 17:02:16.182 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-19 17:02:16.186 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-19 17:02:16.191 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-19 17:02:16.196 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-19 17:02:16.199 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController (Concent.Athena.Services.API)
2023-07-19 17:02:16.203 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController (Concent.Athena.Services.API)
2023-07-19 17:02:16.206 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest' ...
2023-07-19 17:02:16.209 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest' using the name '' in request data ...
2023-07-19 17:02:16.213 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-19 17:02:16.216 -03:00 [DBG] Connection id "0HMS8I8H0JO28", Request id "0HMS8I8H0JO28:00000007": started reading request body.
2023-07-19 17:02:16.220 -03:00 [DBG] Connection id "0HMS8I8H0JO28", Request id "0HMS8I8H0JO28:00000007": done reading request body.
2023-07-19 17:02:16.222 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest'
2023-07-19 17:02:16.224 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest'.
2023-07-19 17:02:16.228 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest'.
2023-07-19 17:02:16.231 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest' ...
2023-07-19 17:02:16.235 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest'.
2023-07-19 17:02:16.237 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-19 17:02:16.240 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-19 17:02:16.242 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-19 17:02:16.251 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-19 17:02:16.260 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-19 17:02:16.266 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-19 17:02:16.272 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-19 17:02:16.275 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-19 17:02:16.279 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-19 17:02:16.283 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.286 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.289 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-19 17:02:16.296 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-19 17:02:16.300 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.303 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.306 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:02:16.309 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-19 17:02:16.315 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.325 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.330 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_AlmoxarifadoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`ID` = @__request_AlmoxarifadoId_0)
2023-07-19 17:02:16.338 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_AlmoxarifadoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`ID` = @__request_AlmoxarifadoId_0)
2023-07-19 17:02:16.345 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:02:16.347 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.350 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.352 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:02:16.362 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2023-07-19 17:02:16.366 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.371 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.374 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_ProdutosId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE `t`.`ID` = @__request_ProdutosId_0)
2023-07-19 17:02:16.383 -03:00 [INF] Executed DbCommand (8ms) [Parameters=[@__request_ProdutosId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE `t`.`ID` = @__request_ProdutosId_0)
2023-07-19 17:02:16.388 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:02:16.390 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.393 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.398 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.ProdutosAlmoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:02:16.402 -03:00 [DBG] Context 'AthenaContext' started tracking 'ProdutosAlmoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:02:16.405 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:02:16.407 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:02:16.411 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:02:16.415 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:02:16.418 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-19 17:02:16.420 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:02:16.423 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:02:16.426 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.433 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.438 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-19 17:02:16.442 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-19 17:02:16.446 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:02:16.450 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2023-07-19 17:02:16.453 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ProdutosAlmoxarifados` (`ID`, `ID_ALMOXARIFADO`, `CREATED_AT`, `ST_ACTIVE`, `ID_PRODUTO`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `UPDATED_AT`
FROM `TB_ProdutosAlmoxarifados`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-19 17:02:16.465 -03:00 [ERR] Failed executing DbCommand (12ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ProdutosAlmoxarifados` (`ID`, `ID_ALMOXARIFADO`, `CREATED_AT`, `ST_ACTIVE`, `ID_PRODUTO`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `UPDATED_AT`
FROM `TB_ProdutosAlmoxarifados`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-19 17:02:16.475 -03:00 [DBG] Disposing transaction.
2023-07-19 17:02:16.477 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.482 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:16.493 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_produtosalmoxarifados`, CONSTRAINT `FK_TB_ProdutosAlmoxarifados_TB_ALMOXARIFADO_ID_ALMOXARIFADO` FOREIGN KEY (`ID_ALMOXARIFADO`) REFERENCES `tb_almoxarifado` (`ID`) ON DELETE CA)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_produtosalmoxarifados`, CONSTRAINT `FK_TB_ProdutosAlmoxarifados_TB_ALMOXARIFADO_ID_ALMOXARIFADO` FOREIGN KEY (`ID_ALMOXARIFADO`) REFERENCES `tb_almoxarifado` (`ID`) ON DELETE CA)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-19 17:02:16.946 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController.Create (Concent.Athena.Services.API) in 747.299ms
2023-07-19 17:02:16.952 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-19 17:02:16.962 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_produtosalmoxarifados`, CONSTRAINT `FK_TB_ProdutosAlmoxarifados_TB_ALMOXARIFADO_ID_ALMOXARIFADO` FOREIGN KEY (`ID_ALMOXARIFADO`) REFERENCES `tb_almoxarifado` (`ID`) ON DELETE CA)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 319
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController.Create(CreateProdutosAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\ProdutosAlmoxarifadosController.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-19 17:02:17.015 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-19 17:02:17.020 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/produtosalmoxarifados application/json 138 - 500 - text/plain 896.6130ms
2023-07-19 17:02:26.933 -03:00 [INF] Request starting HTTP/2 POST https://localhost:5004/api/v1/tenant/produtosalmoxarifados application/json 138
2023-07-19 17:02:26.936 -03:00 [DBG] POST requests are not supported
2023-07-19 17:02:26.941 -03:00 [DBG] 1 candidate(s) found for the request path '/api/v1/tenant/produtosalmoxarifados'
2023-07-19 17:02:26.944 -03:00 [DBG] Endpoint 'Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController.Create (Concent.Athena.Services.API)' with route pattern 'api/v1/tenant/ProdutosAlmoxarifados' is valid for the request path '/api/v1/tenant/produtosalmoxarifados'
2023-07-19 17:02:26.949 -03:00 [DBG] Request matched endpoint 'Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-19 17:02:26.953 -03:00 [DBG] The request has an origin header: 'https://localhost:5004'.
2023-07-19 17:02:26.957 -03:00 [INF] CORS policy execution successful.
2023-07-19 17:02:26.960 -03:00 [INF] Executing endpoint 'Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-19 17:02:26.964 -03:00 [INF] Route matched with {action = "Create", controller = "ProdutosAlmoxarifados"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest, System.Threading.CancellationToken) on controller Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController (Concent.Athena.Services.API).
2023-07-19 17:02:26.973 -03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2023-07-19 17:02:26.978 -03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2023-07-19 17:02:26.981 -03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2023-07-19 17:02:26.987 -03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2023-07-19 17:02:26.992 -03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2023-07-19 17:02:26.995 -03:00 [DBG] Executing controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController (Concent.Athena.Services.API)
2023-07-19 17:02:26.997 -03:00 [DBG] Executed controller factory for controller Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController (Concent.Athena.Services.API)
2023-07-19 17:02:27.004 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest' ...
2023-07-19 17:02:27.007 -03:00 [DBG] Attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest' using the name '' in request data ...
2023-07-19 17:02:27.011 -03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2023-07-19 17:02:27.014 -03:00 [DBG] Connection id "0HMS8I8H0JO28", Request id "0HMS8I8H0JO28:00000009": started reading request body.
2023-07-19 17:02:27.020 -03:00 [DBG] Connection id "0HMS8I8H0JO28", Request id "0HMS8I8H0JO28:00000009": done reading request body.
2023-07-19 17:02:27.025 -03:00 [DBG] JSON input formatter succeeded, deserializing to type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest'
2023-07-19 17:02:27.028 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest'.
2023-07-19 17:02:27.031 -03:00 [DBG] Done attempting to bind parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest'.
2023-07-19 17:02:27.040 -03:00 [DBG] Attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest' ...
2023-07-19 17:02:27.043 -03:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'Concent.Athena.Domain.Core.Requests.ProdutosAlmoxarifadosRequest.CreateProdutosAlmoxarifadosRequest'.
2023-07-19 17:02:27.046 -03:00 [DBG] Attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-19 17:02:27.051 -03:00 [DBG] Done attempting to bind parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-19 17:02:27.055 -03:00 [DBG] Attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken' ...
2023-07-19 17:02:27.058 -03:00 [DBG] Done attempting to validate the bound parameter 'cancellationToken' of type 'System.Threading.CancellationToken'.
2023-07-19 17:02:27.061 -03:00 [INF] Entity Framework Core 5.0.16 initialized 'AthenaContext' using provider 'Pomelo.EntityFrameworkCore.MySql' with options: ServerVersion 8.0.21-mysql 
2023-07-19 17:02:27.068 -03:00 [DBG] Opening connection to database '' on server 'localhost'.
2023-07-19 17:02:27.074 -03:00 [DBG] Opened connection to database '' on server 'localhost'.
2023-07-19 17:02:27.078 -03:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2023-07-19 17:02:27.082 -03:00 [DBG] Created DbCommand for 'ExecuteScalar' (3ms).
2023-07-19 17:02:27.087 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.090 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.092 -03:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-19 17:02:27.099 -03:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM information_schema.tables
WHERE table_type = 'BASE TABLE' AND table_schema = 'Athenadb'
2023-07-19 17:02:27.105 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.107 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.110 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:02:27.113 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2023-07-19 17:02:27.116 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.122 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.126 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_AlmoxarifadoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`ID` = @__request_AlmoxarifadoId_0)
2023-07-19 17:02:27.130 -03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__request_AlmoxarifadoId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_ALMOXARIFADO` AS `t`
    WHERE `t`.`ID` = @__request_AlmoxarifadoId_0)
2023-07-19 17:02:27.137 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:02:27.139 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.145 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.148 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:02:27.152 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2023-07-19 17:02:27.155 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.160 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.163 -03:00 [DBG] Executing DbCommand [Parameters=[@__request_ProdutosId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE `t`.`ID` = @__request_ProdutosId_0)
2023-07-19 17:02:27.170 -03:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_ProdutosId_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM `TB_Produtos` AS `t`
    WHERE `t`.`ID` = @__request_ProdutosId_0)
2023-07-19 17:02:27.175 -03:00 [DBG] A data reader was disposed.
2023-07-19 17:02:27.176 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.179 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.181 -03:00 [DBG] 'AthenaContext' generated a value for the property 'Id.ProdutosAlmoxarifados'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:02:27.187 -03:00 [DBG] Context 'AthenaContext' started tracking 'ProdutosAlmoxarifados' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2023-07-19 17:02:27.190 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:02:27.192 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:02:27.194 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:02:27.196 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:02:27.199 -03:00 [DBG] SaveChanges starting for 'AthenaContext'.
2023-07-19 17:02:27.203 -03:00 [DBG] DetectChanges starting for 'AthenaContext'.
2023-07-19 17:02:27.207 -03:00 [DBG] DetectChanges completed for 'AthenaContext'.
2023-07-19 17:02:27.209 -03:00 [DBG] Opening connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.213 -03:00 [DBG] Opened connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.218 -03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2023-07-19 17:02:27.224 -03:00 [DBG] Began transaction with isolation level 'Unspecified'.
2023-07-19 17:02:27.226 -03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2023-07-19 17:02:27.228 -03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2023-07-19 17:02:27.230 -03:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ProdutosAlmoxarifados` (`ID`, `ID_ALMOXARIFADO`, `CREATED_AT`, `ST_ACTIVE`, `ID_PRODUTO`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `UPDATED_AT`
FROM `TB_ProdutosAlmoxarifados`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-19 17:02:27.245 -03:00 [ERR] Failed executing DbCommand (15ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = Guid), @p2='?' (DbType = DateTime), @p3='?' (DbType = Boolean), @p4='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `TB_ProdutosAlmoxarifados` (`ID`, `ID_ALMOXARIFADO`, `CREATED_AT`, `ST_ACTIVE`, `ID_PRODUTO`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `UPDATED_AT`
FROM `TB_ProdutosAlmoxarifados`
WHERE ROW_COUNT() = 1 AND `ID` = @p0;
2023-07-19 17:02:27.260 -03:00 [DBG] Disposing transaction.
2023-07-19 17:02:27.262 -03:00 [DBG] Closing connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.266 -03:00 [DBG] Closed connection to database 'Athenadb' on server 'localhost'.
2023-07-19 17:02:27.276 -03:00 [ERR] An exception occurred in the database while saving changes for context type 'Concent.Athena.Infrastructure.Data.Contexts.AthenaContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_produtosalmoxarifados`, CONSTRAINT `FK_TB_ProdutosAlmoxarifados_TB_ALMOXARIFADO_ID_ALMOXARIFADO` FOREIGN KEY (`ID_ALMOXARIFADO`) REFERENCES `tb_almoxarifado` (`ID`) ON DELETE CA)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_produtosalmoxarifados`, CONSTRAINT `FK_TB_ProdutosAlmoxarifados_TB_ALMOXARIFADO_ID_ALMOXARIFADO` FOREIGN KEY (`ID_ALMOXARIFADO`) REFERENCES `tb_almoxarifado` (`ID`) ON DELETE CA)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2023-07-19 17:02:27.647 -03:00 [INF] Executed action Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController.Create (Concent.Athena.Services.API) in 652.5638ms
2023-07-19 17:02:27.653 -03:00 [INF] Executed endpoint 'Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController.Create (Concent.Athena.Services.API)'
2023-07-19 17:02:27.663 -03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> MySqlConnector.MySqlException (0x80004005): Cannot add or update a child row: a foreign key constraint fails (`athenadb`.`tb_produtosalmoxarifados`, CONSTRAINT `FK_TB_ProdutosAlmoxarifados_TB_ALMOXARIFADO_ID_ALMOXARIFADO` FOREIGN KEY (`ID_ALMOXARIFADO`) REFERENCES `tb_almoxarifado` (`ID`) ON DELETE CA)
   at MySqlConnector.Core.ServerSession.ReceiveReplyAsyncAwaited(ValueTask`1 task) in /_/src/MySqlConnector/Core/ServerSession.cs:line 890
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in /_/src/MySqlConnector/Core/ResultSet.cs:line 50
   at MySqlConnector.MySqlDataReader.ActivateResultSet(CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 119
   at MySqlConnector.MySqlDataReader.CreateAsync(CommandListPosition commandListPosition, ICommandPayloadCreator payloadCreator, IDictionary`2 cachedProcedures, IMySqlCommand command, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlDataReader.cs:line 444
   at MySqlConnector.Core.CommandExecutor.ExecuteReaderAsync(IReadOnlyList`1 commands, ICommandPayloadCreator payloadCreator, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/Core/CommandExecutor.cs:line 60
   at MySqlConnector.MySqlCommand.ExecuteReaderAsync(CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 320
   at MySqlConnector.MySqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken) in /_/src/MySqlConnector/MySqlCommand.cs:line 312
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Concent.Athena.Infrastructure.Data.Transactions.UnityOfWork.Commit() in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Infrastructure.Data\Transactions\UnityOfWork.cs:line 22
   at Concent.Athena.Application.Common.Command`4.Handle(TRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Common\Command.cs:line 56
   at Concent.Athena.Application.Behaviors.ValidationBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Application\Behaviors\ValidationBehavior.cs:line 33
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at Concent.Athena.Services.API.Controllers.ProdutosAlmoxarifadosController.Create(CreateProdutosAlmoxarifadosRequest request, CancellationToken cancellationToken) in C:\Users\concent\Desktop\Organizador\Projeto ATHENA\Athena\concent.athena\src\Services.API\Controllers\ProdutosAlmoxarifadosController.cs:line 22
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestDurationMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpRequestCountMiddleware.Invoke(HttpContext context)
   at Prometheus.HttpMetrics.HttpInProgressMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2023-07-19 17:02:27.712 -03:00 [DBG] 'AthenaContext' disposed.
2023-07-19 17:02:27.720 -03:00 [INF] Request finished HTTP/2 POST https://localhost:5004/api/v1/tenant/produtosalmoxarifados application/json 138 - 500 - text/plain 786.2398ms
2023-07-19 17:03:00.424 -03:00 [DBG] Connection id "0HMS8I8H0JO28" received FIN.
2023-07-19 17:03:00.428 -03:00 [DBG] Connection id "0HMS8I8H0JO28" is closed. The last processed stream ID was 9.
2023-07-19 17:03:00.436 -03:00 [DBG] Connection id "0HMS8I8H0JO28" sending FIN because: "The client closed the connection."
2023-07-19 17:03:00.449 -03:00 [DBG] Connection id "0HMS8I8H0JO28" stopped.
